var Partykals = (function (THREE) {
  'use strict';

  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

  var THREE__default = /*#__PURE__*/_interopDefaultLegacy(THREE);

  function _typeof(obj) {
    "@babel/helpers - typeof";

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      _typeof = function (obj) {
        return typeof obj;
      };
    } else {
      _typeof = function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return _typeof(obj);
  }

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
  }

  function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
  }

  function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };

    return _setPrototypeOf(o, p);
  }

  function _isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  function _construct(Parent, args, Class) {
    if (_isNativeReflectConstruct()) {
      _construct = Reflect.construct;
    } else {
      _construct = function _construct(Parent, args, Class) {
        var a = [null];
        a.push.apply(a, args);
        var Constructor = Function.bind.apply(Parent, a);
        var instance = new Constructor();
        if (Class) _setPrototypeOf(instance, Class.prototype);
        return instance;
      };
    }

    return _construct.apply(null, arguments);
  }

  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  }

  function _possibleConstructorReturn(self, call) {
    if (call && (typeof call === "object" || typeof call === "function")) {
      return call;
    }

    return _assertThisInitialized(self);
  }

  function _createSuper(Derived) {
    var hasNativeReflectConstruct = _isNativeReflectConstruct();

    return function _createSuperInternal() {
      var Super = _getPrototypeOf(Derived),
          result;

      if (hasNativeReflectConstruct) {
        var NewTarget = _getPrototypeOf(this).constructor;

        result = Reflect.construct(Super, arguments, NewTarget);
      } else {
        result = Super.apply(this, arguments);
      }

      return _possibleConstructorReturn(this, result);
    };
  }

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
  }

  function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
  }

  function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  var utils={/**
       * Returns a random number between min (inclusive) and max (exclusive)
       */getRandomBetween:function getRandomBetween(min,max){return Math.random()*(max-min)+min;},/**
       * Get random between baseVal and baseVal + extraRandom.
       * If 'extraRandom' is not defined, will just return baseVal.
       * If baseVal is not defined, will return white.
       */getRandomWithSpread:function getRandomWithSpread(baseVal,extraRandom){if(!extraRandom){return baseVal;}return this.getRandomBetween(baseVal,baseVal+extraRandom);},/**
       * Get random between two colors.
       * If 'colMax' is not defined, will just return colMin or white color if not defined.
       */getRandomColorBetween:function getRandomColorBetween(colMin,colMax){if(!colMax){return colMin?colMin.clone():new THREE__default['default'].Color();}return new THREE__default['default'].Color(this.getRandomBetween(colMin.r,colMax.r),this.getRandomBetween(colMin.g,colMax.g),this.getRandomBetween(colMin.b,colMax.b));},/**
       * Get random between two vectors.
       * If 'vecMax' is not defined, will just return vecMin or zero point if not defined.
       */getRandomVectorBetween:function getRandomVectorBetween(vecMin,vecMax){if(!vecMax){return vecMin?vecMin.clone():new THREE__default['default'].Vector3();}return new THREE__default['default'].Vector3(this.getRandomBetween(vecMin.x,vecMax.x),this.getRandomBetween(vecMin.y,vecMax.y),this.getRandomBetween(vecMin.z,vecMax.z));},/**
       * Lerp between two colors, returning a new color without changing any of them.
       */lerpColors:function lerpColors(colA,colB,alpha){return colA.clone().lerp(colB,alpha);},/**
       * Lerp between two numbers.
       */lerp:function lerp(x,y,alpha){return x*(1-alpha)+y*alpha;},/**
       * Get const numeric value or generate random value from randomizer.
       */randomizerOrValue:function randomizerOrValue(val){return (val.generate?val.generate():val)||0;}};

  var TMP1=new THREE__default['default'].Vector3(0,0,0);var TMP2=new THREE__default['default'].Vector3(0,0,0);/**
   * A single particle metadata in the particles system.
   * We attach this to the particle's vertices when in system's geometry.
   */var Particle=/*#__PURE__*/function(){/**
     * Create the particle.
     * @param {ParticlesSystem} system The particles system this particle belongs to.
     */function Particle(system){_classCallCheck(this,Particle);this.system=system;this.reset();}/**
     * Reset the particle.
     */_createClass(Particle,[{key:"reset",value:function reset(){var options=this.system.options.particles;// reset particle age and if alive
  this.age=0;this.finished=false;// store gravity force
  this.gravity=options.gravity;// particle's velocity and velocity bonus
  this.velocity=getConstOrRandomVector(options.velocity);if(options.velocityBonus){this.velocity.add(options.velocityBonus);}// particle's acceleration.
  this.acceleration=getConstOrRandomVector(options.acceleration,true);// starting offset
  this.position=getConstOrRandomVector(options.offset);// set particle's ttl
  this.ttl=utils.getRandomWithSpread(options.ttl||1,options.ttlExtra)||1;// set per-particle alpha
  this.alpha=this.startAlpha=this.endAlpha=null;this.startAlphaChangeAt=(options.startAlphaChangeAt||0)/this.ttl;if(options.fade){// const alpha throughout particle's life?
  if(options.alpha!==undefined){this.alpha=utils.randomizerOrValue(options.alpha);}// shifting alpha?
  else {this.startAlpha=utils.randomizerOrValue(options.startAlpha);this.endAlpha=utils.randomizerOrValue(options.endAlpha);}}// set per-particle coloring
  this.colorize=Boolean(options.colorize);this.color=this.startColor=this.endColor=null;this.startColorChangeAt=(options.startColorChangeAt||0)/this.ttl;if(this.colorize){// const color throughout particle's life?
  if(options.color){this.color=getConstOrRandomColor(options.color);}// shifting color?
  else {this.startColor=getConstOrRandomColor(options.startColor);this.endColor=getConstOrRandomColor(options.endColor);}}// set per-particle size
  this.size=this.startSize=this.endSize=null;this.startSizeChangeAt=(options.startSizeChangeAt||0)/this.ttl;if(options.scaling){// const size throughout particle's life?
  if(options.size!==undefined){this.size=utils.randomizerOrValue(options.size);}// shifting size?
  else {this.startSize=utils.randomizerOrValue(options.startSize);this.endSize=utils.randomizerOrValue(options.endSize);}}// set per-particle rotation
  this.rotation=this.rotationSpeed=null;if(options.rotating){this.rotation=utils.randomizerOrValue(options.rotation||0);this.rotationSpeed=utils.randomizerOrValue(options.rotationSpeed||0);}// used to keep constant world position
  this.startWorldPosition=null;// store on-update callback, if defined
  this.onUpdate=options.onUpdate;// call custom spawn method
  if(options.onSpawn){options.onSpawn(this);}}/**
     * Update the particle (call this every frame).
     * @param {*} index Particle index in system.
     * @param {*} deltaTime Update delta time.
     */},{key:"update",value:function update(index,deltaTime){// if finished, skip
  if(this.finished){return;}// is it first update call?
  var firstUpdate=this.age===0;// do first-update stuff
  if(firstUpdate){// if its first update and use world position, store current world position
  if(this.system.options.particles.worldPosition){this.startWorldPosition=this.system.getWorldPosition();}// set constant alpha
  if(this.alpha!==null||this.startAlpha!==null){this.system.setAlpha(index,this.alpha||this.startAlpha);}// set constant color
  if(this.color!==null||this.startColor!==null){this.system.setColor(index,this.color||this.startColor);}// set constant size
  if(this.size!==null||this.startSize!==null){this.system.setSize(index,this.size||this.startSize);}// set start rotation
  if(this.rotation!==null){this.system.setRotation(index,this.rotation);}}// do normal updates
  else {// set animated color
  if(this.startColor&&this.age>=this.startColorChangeAt){this.system.setColor(index,utils.lerpColors(this.startColor,this.endColor,this.startColorChangeAt?(this.age-this.startColorChangeAt)/(1-this.startColorChangeAt):this.age));}// set animated alpha
  if(this.startAlpha!=null&&this.age>=this.startAlphaChangeAt){this.system.setAlpha(index,utils.lerp(this.startAlpha,this.endAlpha,this.startAlphaChangeAt?(this.age-this.startAlphaChangeAt)/(1-this.startAlphaChangeAt):this.age));}// set animated size
  if(this.startSize!=null&&this.age>=this.startSizeChangeAt){this.system.setSize(index,utils.lerp(this.startSize,this.endSize,this.startSizeChangeAt?(this.age-this.startSizeChangeAt)/(1-this.startSizeChangeAt):this.age));}}// add gravity force
  if(this.gravity&&this.velocity){this.velocity.y+=this.gravity*deltaTime;}// set animated rotation
  if(this.rotationSpeed){this.rotation+=this.rotationSpeed*deltaTime;this.system.setRotation(index,this.rotation);}// update position
  if(this.velocity){this.position.x+=this.velocity.x*deltaTime;this.position.y+=this.velocity.y*deltaTime;this.position.z+=this.velocity.z*deltaTime;}var positionToSet=TMP1.set(this.position.x,this.position.y,this.position.z);// to maintain world position
  if(this.startWorldPosition){var systemPos=this.system.getWorldPosition(TMP2);// returns TMP2
  systemPos.sub(this.startWorldPosition);positionToSet=positionToSet.sub(systemPos);}// set position in system
  // be aware, that positionToSet is a temp-vector at this point,
  // so do not store it anywhere
  this.system.setPosition(index,positionToSet);// update velocity
  if(this.acceleration&&this.velocity){this.velocity.x+=this.acceleration.x*deltaTime;this.velocity.y+=this.acceleration.y*deltaTime;this.velocity.z+=this.acceleration.z*deltaTime;}// update age. note: use ttl as factor, so that age is always between 0 and 1
  this.age+=deltaTime/this.ttl;// call custom methods
  if(this.onUpdate){this.onUpdate(this);}// is done? set as finished and continue to set final state
  if(this.age>1){this.age=1;this.finished=true;}}/**
     * Get particle's world position.
     */},{key:"worldPosition",get:function get(){return this.system.getWorldPosition().add(this.position);}}]);return Particle;}();/**
   * Return either the value of a randomizer, a const value, or a default empty or null.
   */function getConstOrRandomVector(constValOrRandomizer,returnNullIfUndefined){if(!constValOrRandomizer)return returnNullIfUndefined?null:new THREE__default['default'].Vector3();if(constValOrRandomizer.generate)return constValOrRandomizer.generate();return constValOrRandomizer.clone();}/**
   * Return either the value of a randomizer, a const value, or a default empty or null.
   */function getConstOrRandomColor(constValOrRandomizer,returnNullIfUndefined){if(!constValOrRandomizer)return returnNullIfUndefined?null:new THREE__default['default'].Color(1,1,1);if(constValOrRandomizer.generate)return constValOrRandomizer.generate();return constValOrRandomizer.clone();}var particle=Particle;

  /**
   * Implement vertex shader for our particles.
   * Author: Ronen Ness.
   * Since: 2019.
   */var code$1="\n// attributes we get from geometry\nattribute float alpha;\n\n// per-particle size\n#ifdef CONST_SIZE\n    uniform float constSize;\n#else\n    attribute float size;\n#endif\n\n// per-particle rotation\n#ifdef ROTATION\n    attribute float rotation;\n#endif\n\n// system scale when using perspective mode\n#ifdef PERSPECTIVE\n    uniform float rendererScale;\n#endif\n\n// output params for fragment shader\nvarying float vAlpha;\n\n// set per-particle color\n#ifdef COLORING\n    varying vec3 vColor;\n#endif\n\n// get per-particle rotation\n#ifdef ROTATION\n    varying float vRotation;\n#endif\n\n// vertex shader main\nvoid main() \n{\n    // alpha and color\n    vAlpha = alpha;\n\n    // set color\n    #ifdef COLORING\n        vColor = color;\n    #endif\n\n    // set const size\n    #ifdef CONST_SIZE\n        float size = constSize;\n    #endif\n\n    // set position\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n\n    // apply rotation\n    #ifdef ROTATION\n        vRotation = rotation;\n    #endif\n    \n    // set size - either perspective or constant\n    #ifdef PERSPECTIVE\n        gl_PointSize = size * (rendererScale / length(mvPosition.xyz));\n    #else\n        gl_PointSize = size;\n    #endif\n}\n";var vertex=code$1;

  /**
   * Implement fragment shader for our particles.
   * Author: Ronen Ness.
   * Since: 2019.
   */var code="\n// material uniforms\nuniform vec3 globalColor;\n\n// params we get from vertex shader\nvarying float vAlpha;\n\n// per-particle color from vertex shader\n#ifdef COLORING\n    varying vec3 vColor;\n#endif\n\n// per-particle rotation from vertex shader\n#ifdef ROTATION\n    varying float vRotation;\n#endif\n\n// diffuse texture\n#ifdef TEXTURE\n    uniform sampler2D _texture;\n#endif\n\n// fragment shader main\nvoid main() \n{\n    // set default color if don't have per-particle colors\n    #ifndef COLORING\n        vec3 vColor = vec3(1,1,1);\n    #endif\n\n    // texture\n    #ifdef TEXTURE\n\n        // use rotation (rotate texture)\n        #ifdef ROTATION\n            float mid = 0.5;\n            vec2 rotated = vec2(cos(vRotation) * (gl_PointCoord.x - mid) + sin(vRotation) * (gl_PointCoord.y - mid) + mid,\n                          cos(vRotation) * (gl_PointCoord.y - mid) - sin(vRotation) * (gl_PointCoord.x - mid) + mid);\n            vec4 textureCol = texture2D(_texture,  rotated);\n        // no rotation\n        #else\n            vec2 coords = vec2((gl_PointCoord.x - 0.5) + 0.5, (gl_PointCoord.y - 0.5) + 0.5);\n            vec4 textureCol = texture2D(_texture, coords);\n        #endif\n\n        // get color with texture\n        gl_FragColor = vec4( globalColor * vColor, vAlpha ) * textureCol;\n        \n    // no texture (colors only)\n    #else\n        gl_FragColor = vec4( globalColor * vColor, vAlpha );\n    #endif\n\n    // check if need to discard pixel\n    #ifdef ALPHA_TEST\n        if (gl_FragColor.a < 0.00001) { discard; }\n    #endif\n}\n";var fragment=code;

  /**
   * Material for particles.
   */var ParticlesMaterial=/*#__PURE__*/function(){/**
       * Create the particles material.
       * @param {*} options Material options.
       * @param {Number} options.color Material general color.
       * @param {Boolean} options.transparent Should we support transparency?
       * @param {THREE.Blending} options.blending Blending mode.
       * @param {THREE.Texture} options.map Texture to use.
       * @param {Boolean} options.perspective If true, will scale particles based on distance from camera.
       * @param {Boolean} options.perParticleColor If true, will allow per-particle colors.
       * @param {Boolean} options.perParticleRotation If true, will allow per-particle rotation.
       * @param {Number} options.constSize If exist, will set const size to all particles.
       * @param {Boolean} options.alphaTest If true, will perform alpha test and discard transparent pixels.
       * @param {Boolean} options.depthWrite If true, will perform depth write.
       * @param {Boolean} options.depthTest If true, will perform depth test.
       */function ParticlesMaterial(options){_classCallCheck(this,ParticlesMaterial);// store options
  this.options=options;// uniforms
  var uniforms={globalColor:{value:new THREE__default['default'].Color(options.color||0xffffff)},rendererScale:{value:1}};// set flags to change shaders behavior
  var flags="";if(options.perspective){flags+="#define PERSPECTIVE\n";}if(options.map){flags+="#define TEXTURE\n";uniforms._texture={value:options.map};}if(options.perParticleColor){flags+="#define COLORING\n";}if(options.perParticleRotation){flags+="#define ROTATION\n";}if(options.constSize){flags+="#define CONST_SIZE\n";uniforms.constSize={value:options.constSize};}if(options.alphaTest){flags+="#define ALPHA_TEST\n";}flags+="\n";// create the internal material
  var shaderMaterial=new THREE__default['default'].ShaderMaterial({uniforms:uniforms,vertexShader:flags+vertex,fragmentShader:flags+fragment,transparent:Boolean(options.transparent),blending:options.blending,vertexColors:THREE__default['default'].VertexColors,depthWrite:Boolean(options.depthWrite),depthTest:Boolean(options.depthTest)});this.material=shaderMaterial;}/**
       * Dispose the material.
       */_createClass(ParticlesMaterial,[{key:"dispose",value:function dispose(){this.material.dispose();}/**
       * Set unified scale for all particles.
       */},{key:"setBaseScale",value:function setBaseScale(val){if(this.options.perspective){this.material.uniforms.rendererScale.value=val;}}}]);return ParticlesMaterial;}();var material=ParticlesMaterial;

  /**
   * Define interface for a helper class to generate random vectors and colors.
   * Author: Ronen Ness.
   * Since: 2019.
  */ /**
   * Base class for all vector randomizers.
   */var Randomizer=/*#__PURE__*/function(){function Randomizer(){_classCallCheck(this,Randomizer);}_createClass(Randomizer,[{key:"generate",value:/**
       * Generate and return a random value.
       * This is the main method to implement.
       */function generate(){throw new Error("Not implemented.");}}]);return Randomizer;}();// export the base class
  var randomizer=Randomizer;

  /**
   * Box vector randomizer.
   */var BoxRandomizer=/*#__PURE__*/function(_Randomizer){_inherits(BoxRandomizer,_Randomizer);var _super=_createSuper(BoxRandomizer);/**
       * Create the box randomizer from min and max vectors to randomize between.
       */function BoxRandomizer(min,max){var _this;_classCallCheck(this,BoxRandomizer);_this=_super.call(this);_this.min=min||new THREE__default['default'].Vector3(-1,-1,-1);_this.max=max||new THREE__default['default'].Vector3(1,1,1);return _this;}/**
       * Generate a random vector.
       */_createClass(BoxRandomizer,[{key:"generate",value:function generate(){return utils.getRandomVectorBetween(this.min,this.max);}}]);return BoxRandomizer;}(randomizer);// export the randomizer class
  var box_randomizer=BoxRandomizer;

  function randMinusToOne(){return Math.random()*2-1;}/**
   * Sphere vector randomizer.
   */var SphereRandomizer=/*#__PURE__*/function(_Randomizer){_inherits(SphereRandomizer,_Randomizer);var _super=_createSuper(SphereRandomizer);/**
       * Create the sphere randomizer from radius and optional scaler.
       */function SphereRandomizer(maxRadius,minRadius,scaler,minVector,maxVector){var _this;_classCallCheck(this,SphereRandomizer);_this=_super.call(this);_this.maxRadius=maxRadius||1;_this.minRadius=minRadius||0;_this.scaler=scaler;_this.minVector=minVector;_this.maxVector=maxVector;return _this;}/**
       * Generate a random vector.
       */_createClass(SphereRandomizer,[{key:"generate",value:function generate(){// create random vector
  var ret=new THREE__default['default'].Vector3(randMinusToOne(),randMinusToOne(),randMinusToOne());// clamp values
  if(this.minVector||this.maxVector){ret.clamp(this.minVector||new THREE__default['default'].Vector3(-1,-1,-1),this.maxVector||new THREE__default['default'].Vector3(1,1,1));}// normalize and multiply by radius
  ret.normalize().multiplyScalar(utils.getRandomBetween(this.minRadius,this.maxRadius));// apply scaler
  if(this.scaler){ret.multiply(this.scaler);}return ret;}}]);return SphereRandomizer;}(randomizer);// export the randomizer class
  var sphere_randomizer=SphereRandomizer;

  /**
   * Box vector randomizer.
   */var ColorsRandomizer=/*#__PURE__*/function(_Randomizer){_inherits(ColorsRandomizer,_Randomizer);var _super=_createSuper(ColorsRandomizer);/**
       * Create the box randomizer from min and max colors to randomize between.
       */function ColorsRandomizer(min,max){var _this;_classCallCheck(this,ColorsRandomizer);_this=_super.call(this);_this.min=min||new THREE__default['default'].Color(0,0,0);_this.max=max||new THREE__default['default'].Color(1,1,1);return _this;}/**
       * Generate a random color.
       */_createClass(ColorsRandomizer,[{key:"generate",value:function generate(){return utils.getRandomColorBetween(this.min,this.max);}}]);return ColorsRandomizer;}(randomizer);// export the randomizer class
  var colors_randomizer=ColorsRandomizer;

  /**
   * Min-Max number randomizer.
   */var MinMaxRandomizer=/*#__PURE__*/function(_Randomizer){_inherits(MinMaxRandomizer,_Randomizer);var _super=_createSuper(MinMaxRandomizer);/**
       * Create the min-max randomizer from min and max.
       */function MinMaxRandomizer(min,max){var _this;_classCallCheck(this,MinMaxRandomizer);_this=_super.call(this);_this.min=min;_this.max=max;return _this;}/**
       * Generate a random number.
       */_createClass(MinMaxRandomizer,[{key:"generate",value:function generate(){return utils.getRandomBetween(this.min,this.max);}}]);return MinMaxRandomizer;}(randomizer);// export the randomizer class
  var minmax_randomizer=MinMaxRandomizer;

  var randomizers={Randomizer:randomizer,BoxRandomizer:box_randomizer,SphereRandomizer:sphere_randomizer,ColorsRandomizer:colors_randomizer,MinMaxRandomizer:minmax_randomizer};

  var randomizerOrValue=utils.randomizerOrValue;/**
   * Emitter class to determine rate of particles generation.
   */var Emitter=/*#__PURE__*/function(){/**
       * Create the emitter class.
       * @param {*} options Emitter options.
       * @param {*} options.onSpawnBurst Burst of particles when particle system starts; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random numbers.
       * @param {*} options.onInterval Burst of particles every interval; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random numbers.
       * @param {Number} options.interval Spawn interval time, in seconds; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random numbers.
       * @param {Number} options.detoretingMinTtl If provided and particle system's ttl is below this value, will start emitting less and less until stopping completely.
       */function Emitter(options){_classCallCheck(this,Emitter);this.options=options;options.interval=options.interval||1;this.age=0;this.timeToSpawn=Math.random()*randomizerOrValue(options.interval);}/**
       * Update emitter and return how many particles should be generated this frame.
       */_createClass(Emitter,[{key:"update",value:function update(deltaTime,system){// particles to generate
  var ret=0;// first update? do burst
  if(this.age===0&&this.options.onSpawnBurst){ret+=randomizerOrValue(this.options.onSpawnBurst);}// update age
  this.age+=deltaTime;// no interval emitting? skip
  if(!this.options.onInterval){return ret;}// check if inverval expired
  this.timeToSpawn-=deltaTime;if(this.timeToSpawn<=0){this.timeToSpawn=randomizerOrValue(this.options.interval);ret+=randomizerOrValue(this.options.onInterval);}// do detoration
  if(this.options.detoretingMinTtl&&system.ttl<this.options.detoretingMinTtl){var detorateFactor=system.ttl/this.options.detoretingMinTtl;ret*=detorateFactor;}// return number of particles to generate
  return ret;}}]);return Emitter;}();// export the emitter class
  var emitter=Emitter;

  var NULL_ARRAY=[];var BLENDING_OPTIONS={opaque:THREE__default['default'].NoBlending,additive:THREE__default['default'].AdditiveBlending,multiply:THREE__default['default'].MultiplyBlending,blend:THREE__default['default'].NormalBlending};// to check if value is defined
  function defined(val){return val!==undefined&&val!==null;}/**
   * deep-copies the settings,
   * and replaces the objects that have a "moduleType"
   * value with the appropriate class from partykals.
   *
   * a object, that can be replaced must look like
   * { moduleType:"e.g. ColorsRandomizer", values:[optional parameters]}
   *
   * @param {Object} object
   * @returns the copied object
   */function copyFromJSON(object,resources){if(_typeof(object)!=="object"){return object;}if(Array.isArray(object)){var result=[];for(var i=0;i<object.length;i++){result.push(copyFromJSON(object[i],resources));}return result;}// if object, create a new object and
  // copy all sub values
  if(!object.moduleType){var _result={};for(var key in object){_result[key]=copyFromJSON(object[key],resources);}return _result;}if(object.moduleType==="texture"){return resources[object.params[0]];}// if we need to convert to object
  var C=THREE__default['default'][object.moduleType]||randomizers[object.moduleType];return _construct(C,_toConsumableArray(object.params||NULL_ARRAY));}/**
   * Particles system.
   */var ParticlesSystem=/*#__PURE__*/function(){/**
     * Create particles system.
     * @param {*} options Particles options.
     * @param {THREE.Object3D} options.container Container to add particles system to.
     *
     * // PARTICLES OPTIONS
     * ============================================================================
     * @param {*} options.particles Particle-related options.
     *
     * // PARTICLES TTL
     * @param {Number} options.particles.ttl How long, in seconds, every particle lives.
     * @param {Number} options.particles.ttlExtra If provided, will add random numbers from 0 to ttlExtra to particle's ttl.
     *
     * // PARTICLES FADING / ALPHA
     * @param {Boolean} options.particles.alpha Per-particle constant alpha; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startAlpha Particles starting opacity; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.endAlpha Particles ending opacity; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startAlphaChangeAt Will only start shifting alpha when age is over this value; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLES GROWING / SIZE
     * @param {Number} options.particles.size Per-particle constant size; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startSize Particles starting size; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.endSize Particles ending size; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startSizeChangeAt Will only start shifting size when age is over this value; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLES COLORING
     * @param {THREE.Color} options.particles.color Per-particle constant color; either a constant value (THREE.Color) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {THREE.Color} options.particles.startColor Starting color min value; either a constant value (THREE.Color) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {THREE.Color} options.particles.endColor Ending color min value; either a constant value (THREE.Color) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startColorChangeAt Will only start shifting color when age is over this value; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLES ACCELERATION
     * @param {THREE.Vector3} options.particles.acceleration Particles acceleration; either a constant value (THREE.Vector3) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.gravity Gravity force affecting the particles.
     *
     * // PARTICLES ROTATION
     * @param {Number} options.particles.rotation Per-particle rotation (only works with texture); either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.rotationSpeed Particles rotation speed (only works with texture); either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLES VELOCITY
     * @param {*} options.particles.velocity Particles starting velocity; either a constant value (THREE.Vector3) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {THREE.Vector3} options.particles.velocityBonus Velocity value to add to all particles after randomizing velocity.
     *
     * // PARTICLES OFFSET
     * @param {THREE.Vector3} options.particles.offset Particles offset from system's center; either a constant value (THREE.Vector3) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLE GLOBALS
     * @param {Boolean} options.particles.worldPosition If true, particles will maintain their world position after spawn even if the system moves.
     * @param {Number} options.particles.globalSize Const size for all particles. Note: this is more efficient than setting per-particle size property.
     * @param {Number} options.particles.globalColor Global color to affect all particles. Note: this is more efficient than setting per-particle color property.
     * @param {String} options.particles.blending Particles blending mode (opaque / blend / additive).
     * @param {THREE.Texture} options.particles.texture Particle's texture to use.
     *
     * // CUSTOM CALLBACKS
     * @param {Function} options.particles.onUpdate Optional method to call per-particle every update frame.
     * @param {Function} options.particles.onSpawn Optional method to call per-particle every time a particle spawns (after everything is set).
     *
     * // SYSTEM OPTIONS
     * ============================================================================
     * @param {*} options.system System-related options.
     * @param {Number} options.system.particlesCount Particles count.
     * @param {Number} options.system.ttl How long, in seconds, the particle system lives.
     * @param {Number} options.system.speed Speed factor to affect all particles and emitting. Note: the only thing this don't affect is system's ttl.
     * @param {Function} options.system.onUpdate Optional method to call every update frame.
     * @param {Partykals.Emitter} options.system.emitters A single emitter or a list of emitters to attach to this system.
     * @param {Boolean} options.system.perspective If true, will scale particles based on distance from camera.
     * @param {Number} options.system.scale Overall system scale when in perspective mode (if perspective=false, will be ignored). A good value is between 400 and 600.
     * @param {Boolean} options.system.depthWrite Should we perform depth write? (default to true).
     * @param {Boolean} options.system.depthTest Should we perform depth test? (default to true).
     */function ParticlesSystem(options){_classCallCheck(this,ParticlesSystem);// use bindObject, to set these values
  // then particle system follows the passed object
  this.boundObject=null;this.lockBoundRotation=true;// store options
  options.particles=options.particles||{worldPosition:true};options.system=options.system||{};this.options=options;// get particle options
  var pOptions=options.particles;// do some internal cheating to replace const size with global size
  if(typeof options.particles.size==="number"){console.warn("Note: replaced 'size' with 'globalSize' property since its more efficient and provided size value was constant anyway.");options.particles.globalSize=options.particles.size;delete options.particles.size;}// do some internal cheating to replace const color with global color
  if(options.particles.color instanceof THREE__default['default'].Color){console.warn("Note: replaced 'color' with 'globalColor' property since its more efficient and you provided color value was constant anyway.");options.particles.globalColor=options.particles.color;delete options.particles.color;}// set some internal flags
  options.particles.fade=defined(pOptions.startAlpha)||defined(pOptions.alpha);options.particles.rotating=defined(pOptions.rotationSpeed)||defined(pOptions.rotation);options.particles.colorize=defined(pOptions.color)||defined(pOptions.startColor);options.particles.scaling=defined(pOptions.size)||defined(pOptions.startSize);// validate alpha params
  if(defined(pOptions.startAlpha)&&!defined(pOptions.endAlpha)){throw new Error("When providing 'startAlpha' you must also provide 'endAlpha'!");}if(defined(pOptions.startAlpha)&&defined(pOptions.alpha)){throw new Error("When providing 'alpha' you can't also provide 'startAlpha'!");}// validate color params
  if(defined(pOptions.startColor)&&!defined(pOptions.endColor)){throw new Error("When providing 'startColor' you must also provide 'endColor'!");}if(defined(pOptions.startColor)&&defined(pOptions.color)){throw new Error("When providing 'color' you can't also provide 'startColor'!");}// validate size params
  if(defined(pOptions.startSize)&&!defined(pOptions.endSize)){throw new Error("When providing 'startSize' you must also provide 'endSize'!");}if(defined(pOptions.startSize)&&defined(pOptions.size)){throw new Error("When providing 'size' you can't also provide 'startSize'!");}// get particles count
  var particleCount=options.system.particlesCount||10;// get blending mode
  var blending=options.particles.blending||"opaque";// get threejs blending mode
  var threeBlend=BLENDING_OPTIONS[blending];// set emitters
  this._emitters=[];if(options.system.emitters){if(options.system.emitters instanceof Array){for(var i=0;i<options.system.emitters.length;++i){this.addEmitter(options.system.emitters[i]);}}else {this.addEmitter(options.system.emitters);}}// has transparency?
  var isTransparent=blending!=="opaque";// create the particle geometry
  this.particlesGeometry=new THREE__default['default'].BufferGeometry();// set perspective mode
  var perspective=options.system.perspective!==undefined?Boolean(options.system.perspective):true;// create particles material
  var pMaterial=new material({size:options.particles.size||10,color:options.particles.globalColor||0xffffff,blending:threeBlend,perspective:perspective,transparent:isTransparent,map:options.particles.texture,perParticleColor:Boolean(options.particles.colorize),alphaTest:blending==="blend"&&defined(options.particles.texture),constSize:defined(options.particles.globalSize)?options.particles.globalSize:null,depthWrite:defined(options.system.depthWrite)?options.system.depthWrite:true,depthTest:defined(options.system.depthTest)?options.system.depthTest:true,perParticleRotation:options.particles.rotating});// store material for later usage
  this.material=pMaterial;// store speed factor
  this.speed=options.system.speed||1;// set system starting ttl and other params
  this.reset();// dead particles and alive particles lists
  this._aliveParticles=[];this._deadParticles=[];// create all particles + set geometry attributes
  var vertices=new Float32Array(particleCount*3);var colors=options.particles.colorize?new Float32Array(particleCount*3):null;var alphas=options.particles.fade?new Float32Array(particleCount*1):null;var sizes=options.particles.scaling?new Float32Array(particleCount*1):null;var rotations=options.particles.rotating?new Float32Array(particleCount*1):null;for(var p=0;p<particleCount;p++){var index=p*3;vertices[index]=vertices[index+1]=vertices[index+2]=0;if(colors)colors[index]=colors[index+1]=colors[index+2]=1;if(alphas)alphas[p]=1;if(sizes)sizes[p]=1;if(rotations)rotations[p]=0;this._deadParticles.push(new particle(this));}this.particlesGeometry.setAttribute("position",new THREE__default['default'].BufferAttribute(vertices,3));if(alphas){this.particlesGeometry.setAttribute("alpha",new THREE__default['default'].BufferAttribute(alphas,1));}if(colors){this.particlesGeometry.setAttribute("color",new THREE__default['default'].BufferAttribute(colors,3));}if(sizes){this.particlesGeometry.setAttribute("size",new THREE__default['default'].BufferAttribute(sizes,1));}if(rotations){this.particlesGeometry.setAttribute("rotation",new THREE__default['default'].BufferAttribute(rotations,1));}this.particlesGeometry.setDrawRange(0,0);// set scale
  this.material.setBaseScale(options.system.scale||400);// create the particles system
  var particleSystem=new THREE__default['default'].Points(this.particlesGeometry,this.material.material);particleSystem.sortParticles=isTransparent;// set default render order
  if(ParticlesSystem.defaultRenderOrder!==undefined){particleSystem.renderOrder=ParticlesSystem.defaultRenderOrder;}// store particles system
  this.particleSystem=particleSystem;// to make sure first update will update everything
  this._positionDirty=true;this._colorsDirty=Boolean(colors);this._alphaDirty=Boolean(alphas);this._rotateDirty=Boolean(rotations);// add it to the parent container
  if(options.container){this.addTo(options.container);}}/**
     * creates an instance from a json definition
     *
     * @static
     * @param {*} options
     * @return {ParticlesSystem} new ParticlesSystem created from the json-object
     * @memberof ParticlesSystem
     */_createClass(ParticlesSystem,[{key:"addEmitter",value:/**
     * Add emitter to this particles system.
     */function addEmitter(emitter){this._emitters.push(emitter);}/**
     * Dispose the entire system.
     */},{key:"dispose",value:function dispose(){this.particlesGeometry.dispose();this.material.dispose();}/**
     * Return true when ttl is expired and there are no more alive particles in system.
     */},{key:"finished",get:function get(){return this.ttlExpired&&this.particlesCount===0;}/**
     * Get if this system's ttl is expired.
     */},{key:"ttlExpired",get:function get(){return this.ttl!==undefined&&this.ttl<=0;}/**
     * Reset particles system ttl.
     */},{key:"reset",value:function reset(){this.ttl=this.options.system.ttl;this.age=0;this._timeToUpdateBS=0;}/**
     * Get system's world position.
     */},{key:"getWorldPosition",value:function getWorldPosition(ret){ret=ret||new THREE__default['default'].Vector3();this.particleSystem.getWorldPosition(ret);return ret;}/**
     * Add the particles system to scene or container.
     * @param {THREE.Object3D} container Container to add system to.
     */},{key:"addTo",value:function addTo(container){container.add(this.particleSystem);}/**
     * Set a particle's color value.
     */},{key:"setColor",value:function setColor(index,color){index*=3;var colors=this.particlesGeometry.attributes.color.array;colors[index]=color.r;colors[index+1]=color.g;colors[index+2]=color.b;this._colorsDirty=true;}/**
     * Set a particle's position.
     */},{key:"setPosition",value:function setPosition(index,position){index*=3;var vertices=this.particlesGeometry.attributes.position.array;vertices[index]=position.x;vertices[index+1]=position.y;vertices[index+2]=position.z;this._positionDirty=true;}/**
     * Set particle's alpha.
     */},{key:"setAlpha",value:function setAlpha(index,value){this.particlesGeometry.attributes.alpha.array[index]=value;this._alphaDirty=true;}/**
     * Set particle's rotation.
     */},{key:"setRotation",value:function setRotation(index,value){this.particlesGeometry.attributes.rotation.array[index]=value;this._rotateDirty=true;}/**
     * Set particle's size.
     */},{key:"setSize",value:function setSize(index,value){this.particlesGeometry.attributes.size.array[index]=value;this._sizeDirty=true;}/**
     * Get how many particles this system currently shows.
     */},{key:"particlesCount",get:function get(){return this._aliveParticles.length;}/**
     * Get max particles count.
     */},{key:"maxParticlesCount",get:function get(){return this._aliveParticles.length+this._deadParticles.length;}/**
     * If ttl is expired and there are no more alive particles, remove system and dispose it.
     * @returns True if removed & disposed, false if still alive.
     */},{key:"removeAndDisposeIfFinished",value:function removeAndDisposeIfFinished(){if(this.finished){this.removeSelf();this.dispose();return true;}return false;}},{key:"bindObject",value:function bindObject(object,lockBoundRotation){this.boundObject=object;this.lockBoundRotation=defined(lockBoundRotation)?lockBoundRotation:true;}/**
     * Update particles system.
     */},{key:"update",value:function update(deltaTime){// if deltaTime is undefined, set automatically
  if(deltaTime===undefined){var timeNow=new Date().getTime()/1000.0;deltaTime=timeNow-this._lastTime||0;this._lastTime=timeNow;}// delta time is 0? skip
  if(deltaTime===0){return;}// update ttl
  if(this.ttl!==undefined&&this.ttl>0){this.ttl-=deltaTime;}// apply speed
  deltaTime*=this.speed;// store last delta time
  this.dt=deltaTime;this.age+=deltaTime;// if we shall follow an object,
  // we just update the position on each frame,
  // to be the same, as the object
  if(this.boundObject){var pos=this.boundObject.position;this.particleSystem.position.set(pos.x,pos.y,pos.z);if(!this.lockBoundRotation){var rot=this.boundObject.rotation;this.particleSystem.rotation.set(rot.x,rot.y,rot.z);}}// to check if number of particles changed
  var prevParticlesCount=this._aliveParticles.length;// generate particles (unless ttl expired)
  if(!this.ttlExpired){for(var i=0;i<this._emitters.length;++i){var toSpawn=this._emitters[i].update(deltaTime,this);if(toSpawn){this.spawnParticles(toSpawn);}}}// update particles
  for(var _i=this._aliveParticles.length-1;_i>=0;--_i){// update particle
  var particle=this._aliveParticles[_i];particle.update(_i,deltaTime);// finished? remove it
  if(particle.finished){this._aliveParticles.splice(_i,1);this._deadParticles.push(particle);}}// hide invisible vertices
  if(prevParticlesCount!==this._aliveParticles.length){this.particlesGeometry.setDrawRange(0,this._aliveParticles.length);}// set vertices dirty flag
  this.particlesGeometry.attributes.position.needsUpdate=this._positionDirty;this._needBoundingSphereUpdate=this._needBoundingSphereUpdate||this._positionDirty;this._positionDirty=false;// set colors dirty flag
  if(this._colorsDirty){this.particlesGeometry.attributes.color.needsUpdate=true;this._colorsDirty=false;}// set alphas dirty flag
  if(this._alphaDirty){this.particlesGeometry.attributes.alpha.needsUpdate=true;this._alphaDirty=false;}// set size dirty flag
  if(this._sizeDirty){this.particlesGeometry.attributes.size.needsUpdate=true;this._sizeDirty=false;}// set rotation dirty flag
  if(this._rotateDirty){this.particlesGeometry.attributes.rotation.needsUpdate=true;this._rotateDirty=false;}// update bounding sphere
  if(this._needBoundingSphereUpdate){this._timeToUpdateBS-=deltaTime;if(this._timeToUpdateBS<=0){this._timeToUpdateBS=0.2;this.particlesGeometry.computeBoundingSphere();}}// if finished, stop here
  if(this.finished){if(this.options.system.onFinish)this.options.system.onFinish(this);return;}// call optional update
  if(this.options.system.onUpdate){this.options.system.onUpdate(this);}}/**
     * Spawn particles.
     * @param {Number} quantity Number of particles to spawn. If exceed max available particles in system, skip.
     */},{key:"spawnParticles",value:function spawnParticles(quantity){// spawn particles
  for(var i=0;i<quantity;++i){// no available dead particles? skip
  if(this._deadParticles.length===0){return;}// spawn particle
  var particle=this._deadParticles.pop();particle.reset();this._aliveParticles.push(particle);}}/**
     * Remove particles system from its parent.
     */},{key:"removeSelf",value:function removeSelf(){if(this.particleSystem.parent){this.particleSystem.parent.remove(this.particleSystem);}}}],[{key:"fromJSON",value:function fromJSON(options){var resources=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var result=copyFromJSON(options,resources);result.system.emitters=new emitter(result.system.emitters);return new ParticlesSystem(result);}}]);return ParticlesSystem;}();// override this to set default rendering order to all particle systems
  ParticlesSystem.defaultRenderOrder=undefined;// export the particles system
  var particles_system=ParticlesSystem;

  var partykals={ParticlesSystem:particles_system,Particle:particle,Emitter:emitter,Utils:utils,Randomizers:randomizers};

  return partykals;

}(THREE));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFydHlrYWxzLmpzIiwic291cmNlcyI6WyIuLi9wYXJ0eWthbHMvdXRpbHMuanMiLCIuLi9wYXJ0eWthbHMvcGFydGljbGUuanMiLCIuLi9wYXJ0eWthbHMvbWF0ZXJpYWwvc2hhZGVycy92ZXJ0ZXguanMiLCIuLi9wYXJ0eWthbHMvbWF0ZXJpYWwvc2hhZGVycy9mcmFnbWVudC5qcyIsIi4uL3BhcnR5a2Fscy9tYXRlcmlhbC9tYXRlcmlhbC5qcyIsIi4uL3BhcnR5a2Fscy9yYW5kb21pemVycy9yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL2JveF9yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL3NwaGVyZV9yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL2NvbG9yc19yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL21pbm1heF9yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL2luZGV4LmpzIiwiLi4vcGFydHlrYWxzL2VtaXR0ZXIuanMiLCIuLi9wYXJ0eWthbHMvcGFydGljbGVzX3N5c3RlbS5qcyIsIi4uL3BhcnR5a2Fscy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEltcGxlbWVudCBhIHNpbmdsZSBwYXJ0aWNsZSBpbiB0aGUgcGFydGljbGVzIHN5c3RlbS5cbiAqIEF1dGhvcjogUm9uZW4gTmVzcy5cbiAqIFNpbmNlOiAyMDE5LlxuKi9cbmNvbnN0IFRIUkVFID0gcmVxdWlyZSgndGhyZWUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIG1pbiAoaW5jbHVzaXZlKSBhbmQgbWF4IChleGNsdXNpdmUpXG4gICAgICovXG4gICAgZ2V0UmFuZG9tQmV0d2VlbjogZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHJhbmRvbSBiZXR3ZWVuIGJhc2VWYWwgYW5kIGJhc2VWYWwgKyBleHRyYVJhbmRvbS5cbiAgICAgKiBJZiAnZXh0cmFSYW5kb20nIGlzIG5vdCBkZWZpbmVkLCB3aWxsIGp1c3QgcmV0dXJuIGJhc2VWYWwuXG4gICAgICogSWYgYmFzZVZhbCBpcyBub3QgZGVmaW5lZCwgd2lsbCByZXR1cm4gd2hpdGUuXG4gICAgICovXG4gICAgZ2V0UmFuZG9tV2l0aFNwcmVhZDogZnVuY3Rpb24oYmFzZVZhbCwgZXh0cmFSYW5kb20pIFxuICAgIHtcbiAgICAgICAgaWYgKCFleHRyYVJhbmRvbSkgeyByZXR1cm4gYmFzZVZhbDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSYW5kb21CZXR3ZWVuKGJhc2VWYWwsIGJhc2VWYWwgKyBleHRyYVJhbmRvbSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCByYW5kb20gYmV0d2VlbiB0d28gY29sb3JzLlxuICAgICAqIElmICdjb2xNYXgnIGlzIG5vdCBkZWZpbmVkLCB3aWxsIGp1c3QgcmV0dXJuIGNvbE1pbiBvciB3aGl0ZSBjb2xvciBpZiBub3QgZGVmaW5lZC5cbiAgICAgKi9cbiAgICBnZXRSYW5kb21Db2xvckJldHdlZW46IGZ1bmN0aW9uKGNvbE1pbiwgY29sTWF4KSBcbiAgICB7XG4gICAgICAgIGlmICghY29sTWF4KSB7IHJldHVybiBjb2xNaW4gPyBjb2xNaW4uY2xvbmUoKSA6IG5ldyBUSFJFRS5Db2xvcigpOyB9XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuQ29sb3IoXG4gICAgICAgICAgICB0aGlzLmdldFJhbmRvbUJldHdlZW4oY29sTWluLnIsIGNvbE1heC5yKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0UmFuZG9tQmV0d2Vlbihjb2xNaW4uZywgY29sTWF4LmcpLFxuICAgICAgICAgICAgdGhpcy5nZXRSYW5kb21CZXR3ZWVuKGNvbE1pbi5iLCBjb2xNYXguYiksXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCByYW5kb20gYmV0d2VlbiB0d28gdmVjdG9ycy5cbiAgICAgKiBJZiAndmVjTWF4JyBpcyBub3QgZGVmaW5lZCwgd2lsbCBqdXN0IHJldHVybiB2ZWNNaW4gb3IgemVybyBwb2ludCBpZiBub3QgZGVmaW5lZC5cbiAgICAgKi9cbiAgICBnZXRSYW5kb21WZWN0b3JCZXR3ZWVuOiBmdW5jdGlvbih2ZWNNaW4sIHZlY01heCkgXG4gICAge1xuICAgICAgICBpZiAoIXZlY01heCkgeyByZXR1cm4gdmVjTWluID8gdmVjTWluLmNsb25lKCkgOiBuZXcgVEhSRUUuVmVjdG9yMygpOyB9XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMyhcbiAgICAgICAgICAgIHRoaXMuZ2V0UmFuZG9tQmV0d2Vlbih2ZWNNaW4ueCwgdmVjTWF4LngpLFxuICAgICAgICAgICAgdGhpcy5nZXRSYW5kb21CZXR3ZWVuKHZlY01pbi55LCB2ZWNNYXgueSksXG4gICAgICAgICAgICB0aGlzLmdldFJhbmRvbUJldHdlZW4odmVjTWluLnosIHZlY01heC56KSxcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTGVycCBiZXR3ZWVuIHR3byBjb2xvcnMsIHJldHVybmluZyBhIG5ldyBjb2xvciB3aXRob3V0IGNoYW5naW5nIGFueSBvZiB0aGVtLlxuICAgICAqL1xuICAgIGxlcnBDb2xvcnM6IGZ1bmN0aW9uKGNvbEEsIGNvbEIsIGFscGhhKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGNvbEEuY2xvbmUoKS5sZXJwKGNvbEIsIGFscGhhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTGVycCBiZXR3ZWVuIHR3byBudW1iZXJzLlxuICAgICAqL1xuICAgIGxlcnA6IGZ1bmN0aW9uKHgsIHksIGFscGhhKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICh4ICogKDEtYWxwaGEpKSArICh5ICogYWxwaGEpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBjb25zdCBudW1lcmljIHZhbHVlIG9yIGdlbmVyYXRlIHJhbmRvbSB2YWx1ZSBmcm9tIHJhbmRvbWl6ZXIuXG4gICAgICovXG4gICAgcmFuZG9taXplck9yVmFsdWU6IGZ1bmN0aW9uKHZhbClcbiAgICB7XG4gICAgICAgIHJldHVybiAodmFsLmdlbmVyYXRlID8gdmFsLmdlbmVyYXRlKCkgOiB2YWwpIHx8IDA7XG4gICAgfSxcbn07IiwiLyoqXG4gKiBJbXBsZW1lbnQgYSBzaW5nbGUgcGFydGljbGUgaW4gdGhlIHBhcnRpY2xlcyBzeXN0ZW0uXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5jb25zdCBVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG5jb25zdCBUTVAxID0gbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIDAgKTtcbmNvbnN0IFRNUDIgPSBuZXcgVEhSRUUuVmVjdG9yMyggMCwgMCwgMCApO1xuLyoqXG4gKiBBIHNpbmdsZSBwYXJ0aWNsZSBtZXRhZGF0YSBpbiB0aGUgcGFydGljbGVzIHN5c3RlbS5cbiAqIFdlIGF0dGFjaCB0aGlzIHRvIHRoZSBwYXJ0aWNsZSdzIHZlcnRpY2VzIHdoZW4gaW4gc3lzdGVtJ3MgZ2VvbWV0cnkuXG4gKi9cbmNsYXNzIFBhcnRpY2xlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgcGFydGljbGUuXG4gICAqIEBwYXJhbSB7UGFydGljbGVzU3lzdGVtfSBzeXN0ZW0gVGhlIHBhcnRpY2xlcyBzeXN0ZW0gdGhpcyBwYXJ0aWNsZSBiZWxvbmdzIHRvLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioc3lzdGVtKSB7XG4gICAgdGhpcy5zeXN0ZW0gPSBzeXN0ZW07XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBwYXJ0aWNsZS5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnN5c3RlbS5vcHRpb25zLnBhcnRpY2xlcztcblxuICAgIC8vIHJlc2V0IHBhcnRpY2xlIGFnZSBhbmQgaWYgYWxpdmVcbiAgICB0aGlzLmFnZSA9IDA7XG4gICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuXG4gICAgLy8gc3RvcmUgZ3Jhdml0eSBmb3JjZVxuICAgIHRoaXMuZ3Jhdml0eSA9IG9wdGlvbnMuZ3Jhdml0eTtcblxuICAgIC8vIHBhcnRpY2xlJ3MgdmVsb2NpdHkgYW5kIHZlbG9jaXR5IGJvbnVzXG4gICAgdGhpcy52ZWxvY2l0eSA9IGdldENvbnN0T3JSYW5kb21WZWN0b3Iob3B0aW9ucy52ZWxvY2l0eSk7XG4gICAgaWYgKG9wdGlvbnMudmVsb2NpdHlCb251cykge1xuICAgICAgdGhpcy52ZWxvY2l0eS5hZGQob3B0aW9ucy52ZWxvY2l0eUJvbnVzKTtcbiAgICB9XG5cbiAgICAvLyBwYXJ0aWNsZSdzIGFjY2VsZXJhdGlvbi5cbiAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IGdldENvbnN0T3JSYW5kb21WZWN0b3Iob3B0aW9ucy5hY2NlbGVyYXRpb24sIHRydWUpO1xuXG4gICAgLy8gc3RhcnRpbmcgb2Zmc2V0XG4gICAgdGhpcy5wb3NpdGlvbiA9IGdldENvbnN0T3JSYW5kb21WZWN0b3Iob3B0aW9ucy5vZmZzZXQpO1xuXG4gICAgLy8gc2V0IHBhcnRpY2xlJ3MgdHRsXG4gICAgdGhpcy50dGwgPSBVdGlscy5nZXRSYW5kb21XaXRoU3ByZWFkKG9wdGlvbnMudHRsIHx8IDEsIG9wdGlvbnMudHRsRXh0cmEpIHx8IDE7XG5cbiAgICAvLyBzZXQgcGVyLXBhcnRpY2xlIGFscGhhXG4gICAgdGhpcy5hbHBoYSA9IHRoaXMuc3RhcnRBbHBoYSA9IHRoaXMuZW5kQWxwaGEgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRBbHBoYUNoYW5nZUF0ID0gKG9wdGlvbnMuc3RhcnRBbHBoYUNoYW5nZUF0IHx8IDApIC8gdGhpcy50dGw7XG4gICAgaWYgKG9wdGlvbnMuZmFkZSkge1xuICAgICAgLy8gY29uc3QgYWxwaGEgdGhyb3VnaG91dCBwYXJ0aWNsZSdzIGxpZmU/XG4gICAgICBpZiAob3B0aW9ucy5hbHBoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuYWxwaGEgPSBVdGlscy5yYW5kb21pemVyT3JWYWx1ZShvcHRpb25zLmFscGhhKTtcbiAgICAgIH1cbiAgICAgIC8vIHNoaWZ0aW5nIGFscGhhP1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnRBbHBoYSA9IFV0aWxzLnJhbmRvbWl6ZXJPclZhbHVlKG9wdGlvbnMuc3RhcnRBbHBoYSk7XG4gICAgICAgIHRoaXMuZW5kQWxwaGEgPSBVdGlscy5yYW5kb21pemVyT3JWYWx1ZShvcHRpb25zLmVuZEFscGhhKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXQgcGVyLXBhcnRpY2xlIGNvbG9yaW5nXG4gICAgdGhpcy5jb2xvcml6ZSA9IEJvb2xlYW4ob3B0aW9ucy5jb2xvcml6ZSk7XG4gICAgdGhpcy5jb2xvciA9IHRoaXMuc3RhcnRDb2xvciA9IHRoaXMuZW5kQ29sb3IgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRDb2xvckNoYW5nZUF0ID0gKG9wdGlvbnMuc3RhcnRDb2xvckNoYW5nZUF0IHx8IDApIC8gdGhpcy50dGw7XG4gICAgaWYgKHRoaXMuY29sb3JpemUpIHtcbiAgICAgIC8vIGNvbnN0IGNvbG9yIHRocm91Z2hvdXQgcGFydGljbGUncyBsaWZlP1xuICAgICAgaWYgKG9wdGlvbnMuY29sb3IpIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IGdldENvbnN0T3JSYW5kb21Db2xvcihvcHRpb25zLmNvbG9yKTtcbiAgICAgIH1cbiAgICAgIC8vIHNoaWZ0aW5nIGNvbG9yP1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnRDb2xvciA9IGdldENvbnN0T3JSYW5kb21Db2xvcihvcHRpb25zLnN0YXJ0Q29sb3IpO1xuICAgICAgICB0aGlzLmVuZENvbG9yID0gZ2V0Q29uc3RPclJhbmRvbUNvbG9yKG9wdGlvbnMuZW5kQ29sb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNldCBwZXItcGFydGljbGUgc2l6ZVxuICAgIHRoaXMuc2l6ZSA9IHRoaXMuc3RhcnRTaXplID0gdGhpcy5lbmRTaXplID0gbnVsbDtcbiAgICB0aGlzLnN0YXJ0U2l6ZUNoYW5nZUF0ID0gKG9wdGlvbnMuc3RhcnRTaXplQ2hhbmdlQXQgfHwgMCkgLyB0aGlzLnR0bDtcbiAgICBpZiAob3B0aW9ucy5zY2FsaW5nKSB7XG4gICAgICAvLyBjb25zdCBzaXplIHRocm91Z2hvdXQgcGFydGljbGUncyBsaWZlP1xuICAgICAgaWYgKG9wdGlvbnMuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IFV0aWxzLnJhbmRvbWl6ZXJPclZhbHVlKG9wdGlvbnMuc2l6ZSk7XG4gICAgICB9XG4gICAgICAvLyBzaGlmdGluZyBzaXplP1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnRTaXplID0gVXRpbHMucmFuZG9taXplck9yVmFsdWUob3B0aW9ucy5zdGFydFNpemUpO1xuICAgICAgICB0aGlzLmVuZFNpemUgPSBVdGlscy5yYW5kb21pemVyT3JWYWx1ZShvcHRpb25zLmVuZFNpemUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNldCBwZXItcGFydGljbGUgcm90YXRpb25cbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvblNwZWVkID0gbnVsbDtcbiAgICBpZiAob3B0aW9ucy5yb3RhdGluZykge1xuICAgICAgdGhpcy5yb3RhdGlvbiA9IFV0aWxzLnJhbmRvbWl6ZXJPclZhbHVlKG9wdGlvbnMucm90YXRpb24gfHwgMCk7XG4gICAgICB0aGlzLnJvdGF0aW9uU3BlZWQgPSBVdGlscy5yYW5kb21pemVyT3JWYWx1ZShvcHRpb25zLnJvdGF0aW9uU3BlZWQgfHwgMCk7XG4gICAgfVxuXG4gICAgLy8gdXNlZCB0byBrZWVwIGNvbnN0YW50IHdvcmxkIHBvc2l0aW9uXG4gICAgdGhpcy5zdGFydFdvcmxkUG9zaXRpb24gPSBudWxsO1xuXG4gICAgLy8gc3RvcmUgb24tdXBkYXRlIGNhbGxiYWNrLCBpZiBkZWZpbmVkXG4gICAgdGhpcy5vblVwZGF0ZSA9IG9wdGlvbnMub25VcGRhdGU7XG5cbiAgICAvLyBjYWxsIGN1c3RvbSBzcGF3biBtZXRob2RcbiAgICBpZiAob3B0aW9ucy5vblNwYXduKSB7XG4gICAgICBvcHRpb25zLm9uU3Bhd24odGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcGFydGljbGUgKGNhbGwgdGhpcyBldmVyeSBmcmFtZSkuXG4gICAqIEBwYXJhbSB7Kn0gaW5kZXggUGFydGljbGUgaW5kZXggaW4gc3lzdGVtLlxuICAgKiBAcGFyYW0geyp9IGRlbHRhVGltZSBVcGRhdGUgZGVsdGEgdGltZS5cbiAgICovXG4gIHVwZGF0ZShpbmRleCwgZGVsdGFUaW1lKSB7XG4gICAgLy8gaWYgZmluaXNoZWQsIHNraXBcbiAgICBpZiAodGhpcy5maW5pc2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlzIGl0IGZpcnN0IHVwZGF0ZSBjYWxsP1xuICAgIGNvbnN0IGZpcnN0VXBkYXRlID0gdGhpcy5hZ2UgPT09IDA7XG5cbiAgICAvLyBkbyBmaXJzdC11cGRhdGUgc3R1ZmZcbiAgICBpZiAoZmlyc3RVcGRhdGUpIHtcbiAgICAgIC8vIGlmIGl0cyBmaXJzdCB1cGRhdGUgYW5kIHVzZSB3b3JsZCBwb3NpdGlvbiwgc3RvcmUgY3VycmVudCB3b3JsZCBwb3NpdGlvblxuICAgICAgaWYgKHRoaXMuc3lzdGVtLm9wdGlvbnMucGFydGljbGVzLndvcmxkUG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5zdGFydFdvcmxkUG9zaXRpb24gPSB0aGlzLnN5c3RlbS5nZXRXb3JsZFBvc2l0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBjb25zdGFudCBhbHBoYVxuICAgICAgaWYgKHRoaXMuYWxwaGEgIT09IG51bGwgfHwgdGhpcy5zdGFydEFscGhhICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnNldEFscGhhKGluZGV4LCB0aGlzLmFscGhhIHx8IHRoaXMuc3RhcnRBbHBoYSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBjb25zdGFudCBjb2xvclxuICAgICAgaWYgKHRoaXMuY29sb3IgIT09IG51bGwgfHwgdGhpcy5zdGFydENvbG9yICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnNldENvbG9yKGluZGV4LCB0aGlzLmNvbG9yIHx8IHRoaXMuc3RhcnRDb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBjb25zdGFudCBzaXplXG4gICAgICBpZiAodGhpcy5zaXplICE9PSBudWxsIHx8IHRoaXMuc3RhcnRTaXplICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnNldFNpemUoaW5kZXgsIHRoaXMuc2l6ZSB8fCB0aGlzLnN0YXJ0U2l6ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBzdGFydCByb3RhdGlvblxuICAgICAgaWYgKHRoaXMucm90YXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uc2V0Um90YXRpb24oaW5kZXgsIHRoaXMucm90YXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBkbyBub3JtYWwgdXBkYXRlc1xuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGFuaW1hdGVkIGNvbG9yXG4gICAgICBpZiAodGhpcy5zdGFydENvbG9yICYmIHRoaXMuYWdlID49IHRoaXMuc3RhcnRDb2xvckNoYW5nZUF0KSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnNldENvbG9yKFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIFV0aWxzLmxlcnBDb2xvcnMoXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29sb3IsXG4gICAgICAgICAgICB0aGlzLmVuZENvbG9yLFxuICAgICAgICAgICAgdGhpcy5zdGFydENvbG9yQ2hhbmdlQXRcbiAgICAgICAgICAgICAgPyAodGhpcy5hZ2UgLSB0aGlzLnN0YXJ0Q29sb3JDaGFuZ2VBdCkgLyAoMSAtIHRoaXMuc3RhcnRDb2xvckNoYW5nZUF0KVxuICAgICAgICAgICAgICA6IHRoaXMuYWdlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgYW5pbWF0ZWQgYWxwaGFcbiAgICAgIGlmICh0aGlzLnN0YXJ0QWxwaGEgIT0gbnVsbCAmJiB0aGlzLmFnZSA+PSB0aGlzLnN0YXJ0QWxwaGFDaGFuZ2VBdCkge1xuICAgICAgICB0aGlzLnN5c3RlbS5zZXRBbHBoYShcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBVdGlscy5sZXJwKFxuICAgICAgICAgICAgdGhpcy5zdGFydEFscGhhLFxuICAgICAgICAgICAgdGhpcy5lbmRBbHBoYSxcbiAgICAgICAgICAgIHRoaXMuc3RhcnRBbHBoYUNoYW5nZUF0XG4gICAgICAgICAgICAgID8gKHRoaXMuYWdlIC0gdGhpcy5zdGFydEFscGhhQ2hhbmdlQXQpIC8gKDEgLSB0aGlzLnN0YXJ0QWxwaGFDaGFuZ2VBdClcbiAgICAgICAgICAgICAgOiB0aGlzLmFnZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGFuaW1hdGVkIHNpemVcbiAgICAgIGlmICh0aGlzLnN0YXJ0U2l6ZSAhPSBudWxsICYmIHRoaXMuYWdlID49IHRoaXMuc3RhcnRTaXplQ2hhbmdlQXQpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uc2V0U2l6ZShcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBVdGlscy5sZXJwKFxuICAgICAgICAgICAgdGhpcy5zdGFydFNpemUsXG4gICAgICAgICAgICB0aGlzLmVuZFNpemUsXG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2l6ZUNoYW5nZUF0XG4gICAgICAgICAgICAgID8gKHRoaXMuYWdlIC0gdGhpcy5zdGFydFNpemVDaGFuZ2VBdCkgLyAoMSAtIHRoaXMuc3RhcnRTaXplQ2hhbmdlQXQpXG4gICAgICAgICAgICAgIDogdGhpcy5hZ2VcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIGdyYXZpdHkgZm9yY2VcbiAgICBpZiAodGhpcy5ncmF2aXR5ICYmIHRoaXMudmVsb2NpdHkpIHtcbiAgICAgIHRoaXMudmVsb2NpdHkueSArPSB0aGlzLmdyYXZpdHkgKiBkZWx0YVRpbWU7XG4gICAgfVxuXG4gICAgLy8gc2V0IGFuaW1hdGVkIHJvdGF0aW9uXG4gICAgaWYgKHRoaXMucm90YXRpb25TcGVlZCkge1xuICAgICAgdGhpcy5yb3RhdGlvbiArPSB0aGlzLnJvdGF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICB0aGlzLnN5c3RlbS5zZXRSb3RhdGlvbihpbmRleCwgdGhpcy5yb3RhdGlvbik7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHBvc2l0aW9uXG4gICAgaWYgKHRoaXMudmVsb2NpdHkpIHtcbiAgICAgIHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnZlbG9jaXR5LnggKiBkZWx0YVRpbWU7XG4gICAgICB0aGlzLnBvc2l0aW9uLnkgKz0gdGhpcy52ZWxvY2l0eS55ICogZGVsdGFUaW1lO1xuICAgICAgdGhpcy5wb3NpdGlvbi56ICs9IHRoaXMudmVsb2NpdHkueiAqIGRlbHRhVGltZTtcbiAgICB9XG4gICAgbGV0IHBvc2l0aW9uVG9TZXQgPSBUTVAxLnNldCh0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55LHRoaXMucG9zaXRpb24ueik7XG5cbiAgICAvLyB0byBtYWludGFpbiB3b3JsZCBwb3NpdGlvblxuICAgIGlmICh0aGlzLnN0YXJ0V29ybGRQb3NpdGlvbikge1xuICAgICAgY29uc3Qgc3lzdGVtUG9zID0gdGhpcy5zeXN0ZW0uZ2V0V29ybGRQb3NpdGlvbihUTVAyKTsgLy8gcmV0dXJucyBUTVAyXG4gICAgICBzeXN0ZW1Qb3Muc3ViKHRoaXMuc3RhcnRXb3JsZFBvc2l0aW9uKTtcbiAgICAgIHBvc2l0aW9uVG9TZXQgPSBwb3NpdGlvblRvU2V0LnN1YihzeXN0ZW1Qb3MpO1xuICAgIH1cblxuICAgIC8vIHNldCBwb3NpdGlvbiBpbiBzeXN0ZW1cbiAgICAvLyBiZSBhd2FyZSwgdGhhdCBwb3NpdGlvblRvU2V0IGlzIGEgdGVtcC12ZWN0b3IgYXQgdGhpcyBwb2ludCxcbiAgICAvLyBzbyBkbyBub3Qgc3RvcmUgaXQgYW55d2hlcmVcbiAgICB0aGlzLnN5c3RlbS5zZXRQb3NpdGlvbihpbmRleCwgcG9zaXRpb25Ub1NldCk7XG5cbiAgICAvLyB1cGRhdGUgdmVsb2NpdHlcbiAgICBpZiAodGhpcy5hY2NlbGVyYXRpb24gJiYgdGhpcy52ZWxvY2l0eSkge1xuICAgICAgdGhpcy52ZWxvY2l0eS54ICs9IHRoaXMuYWNjZWxlcmF0aW9uLnggKiBkZWx0YVRpbWU7XG4gICAgICB0aGlzLnZlbG9jaXR5LnkgKz0gdGhpcy5hY2NlbGVyYXRpb24ueSAqIGRlbHRhVGltZTtcbiAgICAgIHRoaXMudmVsb2NpdHkueiArPSB0aGlzLmFjY2VsZXJhdGlvbi56ICogZGVsdGFUaW1lO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBhZ2UuIG5vdGU6IHVzZSB0dGwgYXMgZmFjdG9yLCBzbyB0aGF0IGFnZSBpcyBhbHdheXMgYmV0d2VlbiAwIGFuZCAxXG4gICAgdGhpcy5hZ2UgKz0gZGVsdGFUaW1lIC8gdGhpcy50dGw7XG5cbiAgICAvLyBjYWxsIGN1c3RvbSBtZXRob2RzXG4gICAgaWYgKHRoaXMub25VcGRhdGUpIHtcbiAgICAgIHRoaXMub25VcGRhdGUodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gaXMgZG9uZT8gc2V0IGFzIGZpbmlzaGVkIGFuZCBjb250aW51ZSB0byBzZXQgZmluYWwgc3RhdGVcbiAgICBpZiAodGhpcy5hZ2UgPiAxKSB7XG4gICAgICB0aGlzLmFnZSA9IDE7XG4gICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHBhcnRpY2xlJ3Mgd29ybGQgcG9zaXRpb24uXG4gICAqL1xuICBnZXQgd29ybGRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW0uZ2V0V29ybGRQb3NpdGlvbigpLmFkZCh0aGlzLnBvc2l0aW9uKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiBlaXRoZXIgdGhlIHZhbHVlIG9mIGEgcmFuZG9taXplciwgYSBjb25zdCB2YWx1ZSwgb3IgYSBkZWZhdWx0IGVtcHR5IG9yIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGdldENvbnN0T3JSYW5kb21WZWN0b3IoY29uc3RWYWxPclJhbmRvbWl6ZXIsIHJldHVybk51bGxJZlVuZGVmaW5lZCkge1xuICBpZiAoIWNvbnN0VmFsT3JSYW5kb21pemVyKSByZXR1cm4gcmV0dXJuTnVsbElmVW5kZWZpbmVkID8gbnVsbCA6IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gIGlmIChjb25zdFZhbE9yUmFuZG9taXplci5nZW5lcmF0ZSkgcmV0dXJuIGNvbnN0VmFsT3JSYW5kb21pemVyLmdlbmVyYXRlKCk7XG4gIHJldHVybiBjb25zdFZhbE9yUmFuZG9taXplci5jbG9uZSgpO1xufVxuXG4vKipcbiAqIFJldHVybiBlaXRoZXIgdGhlIHZhbHVlIG9mIGEgcmFuZG9taXplciwgYSBjb25zdCB2YWx1ZSwgb3IgYSBkZWZhdWx0IGVtcHR5IG9yIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGdldENvbnN0T3JSYW5kb21Db2xvcihjb25zdFZhbE9yUmFuZG9taXplciwgcmV0dXJuTnVsbElmVW5kZWZpbmVkKSB7XG4gIGlmICghY29uc3RWYWxPclJhbmRvbWl6ZXIpIHJldHVybiByZXR1cm5OdWxsSWZVbmRlZmluZWQgPyBudWxsIDogbmV3IFRIUkVFLkNvbG9yKDEsIDEsIDEpO1xuICBpZiAoY29uc3RWYWxPclJhbmRvbWl6ZXIuZ2VuZXJhdGUpIHJldHVybiBjb25zdFZhbE9yUmFuZG9taXplci5nZW5lcmF0ZSgpO1xuICByZXR1cm4gY29uc3RWYWxPclJhbmRvbWl6ZXIuY2xvbmUoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYXJ0aWNsZTtcbiIsIi8qKlxuICogSW1wbGVtZW50IHZlcnRleCBzaGFkZXIgZm9yIG91ciBwYXJ0aWNsZXMuXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xudmFyIGNvZGUgPSBgXG4vLyBhdHRyaWJ1dGVzIHdlIGdldCBmcm9tIGdlb21ldHJ5XG5hdHRyaWJ1dGUgZmxvYXQgYWxwaGE7XG5cbi8vIHBlci1wYXJ0aWNsZSBzaXplXG4jaWZkZWYgQ09OU1RfU0laRVxuICAgIHVuaWZvcm0gZmxvYXQgY29uc3RTaXplO1xuI2Vsc2VcbiAgICBhdHRyaWJ1dGUgZmxvYXQgc2l6ZTtcbiNlbmRpZlxuXG4vLyBwZXItcGFydGljbGUgcm90YXRpb25cbiNpZmRlZiBST1RBVElPTlxuICAgIGF0dHJpYnV0ZSBmbG9hdCByb3RhdGlvbjtcbiNlbmRpZlxuXG4vLyBzeXN0ZW0gc2NhbGUgd2hlbiB1c2luZyBwZXJzcGVjdGl2ZSBtb2RlXG4jaWZkZWYgUEVSU1BFQ1RJVkVcbiAgICB1bmlmb3JtIGZsb2F0IHJlbmRlcmVyU2NhbGU7XG4jZW5kaWZcblxuLy8gb3V0cHV0IHBhcmFtcyBmb3IgZnJhZ21lbnQgc2hhZGVyXG52YXJ5aW5nIGZsb2F0IHZBbHBoYTtcblxuLy8gc2V0IHBlci1wYXJ0aWNsZSBjb2xvclxuI2lmZGVmIENPTE9SSU5HXG4gICAgdmFyeWluZyB2ZWMzIHZDb2xvcjtcbiNlbmRpZlxuXG4vLyBnZXQgcGVyLXBhcnRpY2xlIHJvdGF0aW9uXG4jaWZkZWYgUk9UQVRJT05cbiAgICB2YXJ5aW5nIGZsb2F0IHZSb3RhdGlvbjtcbiNlbmRpZlxuXG4vLyB2ZXJ0ZXggc2hhZGVyIG1haW5cbnZvaWQgbWFpbigpIFxue1xuICAgIC8vIGFscGhhIGFuZCBjb2xvclxuICAgIHZBbHBoYSA9IGFscGhhO1xuXG4gICAgLy8gc2V0IGNvbG9yXG4gICAgI2lmZGVmIENPTE9SSU5HXG4gICAgICAgIHZDb2xvciA9IGNvbG9yO1xuICAgICNlbmRpZlxuXG4gICAgLy8gc2V0IGNvbnN0IHNpemVcbiAgICAjaWZkZWYgQ09OU1RfU0laRVxuICAgICAgICBmbG9hdCBzaXplID0gY29uc3RTaXplO1xuICAgICNlbmRpZlxuXG4gICAgLy8gc2V0IHBvc2l0aW9uXG4gICAgdmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XG5cbiAgICAvLyBhcHBseSByb3RhdGlvblxuICAgICNpZmRlZiBST1RBVElPTlxuICAgICAgICB2Um90YXRpb24gPSByb3RhdGlvbjtcbiAgICAjZW5kaWZcbiAgICBcbiAgICAvLyBzZXQgc2l6ZSAtIGVpdGhlciBwZXJzcGVjdGl2ZSBvciBjb25zdGFudFxuICAgICNpZmRlZiBQRVJTUEVDVElWRVxuICAgICAgICBnbF9Qb2ludFNpemUgPSBzaXplICogKHJlbmRlcmVyU2NhbGUgLyBsZW5ndGgobXZQb3NpdGlvbi54eXopKTtcbiAgICAjZWxzZVxuICAgICAgICBnbF9Qb2ludFNpemUgPSBzaXplO1xuICAgICNlbmRpZlxufVxuYDtcbm1vZHVsZS5leHBvcnRzID0gY29kZTsiLCIvKipcbiAqIEltcGxlbWVudCBmcmFnbWVudCBzaGFkZXIgZm9yIG91ciBwYXJ0aWNsZXMuXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xudmFyIGNvZGUgPSBgXG4vLyBtYXRlcmlhbCB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIGdsb2JhbENvbG9yO1xuXG4vLyBwYXJhbXMgd2UgZ2V0IGZyb20gdmVydGV4IHNoYWRlclxudmFyeWluZyBmbG9hdCB2QWxwaGE7XG5cbi8vIHBlci1wYXJ0aWNsZSBjb2xvciBmcm9tIHZlcnRleCBzaGFkZXJcbiNpZmRlZiBDT0xPUklOR1xuICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7XG4jZW5kaWZcblxuLy8gcGVyLXBhcnRpY2xlIHJvdGF0aW9uIGZyb20gdmVydGV4IHNoYWRlclxuI2lmZGVmIFJPVEFUSU9OXG4gICAgdmFyeWluZyBmbG9hdCB2Um90YXRpb247XG4jZW5kaWZcblxuLy8gZGlmZnVzZSB0ZXh0dXJlXG4jaWZkZWYgVEVYVFVSRVxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIF90ZXh0dXJlO1xuI2VuZGlmXG5cbi8vIGZyYWdtZW50IHNoYWRlciBtYWluXG52b2lkIG1haW4oKSBcbntcbiAgICAvLyBzZXQgZGVmYXVsdCBjb2xvciBpZiBkb24ndCBoYXZlIHBlci1wYXJ0aWNsZSBjb2xvcnNcbiAgICAjaWZuZGVmIENPTE9SSU5HXG4gICAgICAgIHZlYzMgdkNvbG9yID0gdmVjMygxLDEsMSk7XG4gICAgI2VuZGlmXG5cbiAgICAvLyB0ZXh0dXJlXG4gICAgI2lmZGVmIFRFWFRVUkVcblxuICAgICAgICAvLyB1c2Ugcm90YXRpb24gKHJvdGF0ZSB0ZXh0dXJlKVxuICAgICAgICAjaWZkZWYgUk9UQVRJT05cbiAgICAgICAgICAgIGZsb2F0IG1pZCA9IDAuNTtcbiAgICAgICAgICAgIHZlYzIgcm90YXRlZCA9IHZlYzIoY29zKHZSb3RhdGlvbikgKiAoZ2xfUG9pbnRDb29yZC54IC0gbWlkKSArIHNpbih2Um90YXRpb24pICogKGdsX1BvaW50Q29vcmQueSAtIG1pZCkgKyBtaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvcyh2Um90YXRpb24pICogKGdsX1BvaW50Q29vcmQueSAtIG1pZCkgLSBzaW4odlJvdGF0aW9uKSAqIChnbF9Qb2ludENvb3JkLnggLSBtaWQpICsgbWlkKTtcbiAgICAgICAgICAgIHZlYzQgdGV4dHVyZUNvbCA9IHRleHR1cmUyRChfdGV4dHVyZSwgIHJvdGF0ZWQpO1xuICAgICAgICAvLyBubyByb3RhdGlvblxuICAgICAgICAjZWxzZVxuICAgICAgICAgICAgdmVjMiBjb29yZHMgPSB2ZWMyKChnbF9Qb2ludENvb3JkLnggLSAwLjUpICsgMC41LCAoZ2xfUG9pbnRDb29yZC55IC0gMC41KSArIDAuNSk7XG4gICAgICAgICAgICB2ZWM0IHRleHR1cmVDb2wgPSB0ZXh0dXJlMkQoX3RleHR1cmUsIGNvb3Jkcyk7XG4gICAgICAgICNlbmRpZlxuXG4gICAgICAgIC8vIGdldCBjb2xvciB3aXRoIHRleHR1cmVcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggZ2xvYmFsQ29sb3IgKiB2Q29sb3IsIHZBbHBoYSApICogdGV4dHVyZUNvbDtcbiAgICAgICAgXG4gICAgLy8gbm8gdGV4dHVyZSAoY29sb3JzIG9ubHkpXG4gICAgI2Vsc2VcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggZ2xvYmFsQ29sb3IgKiB2Q29sb3IsIHZBbHBoYSApO1xuICAgICNlbmRpZlxuXG4gICAgLy8gY2hlY2sgaWYgbmVlZCB0byBkaXNjYXJkIHBpeGVsXG4gICAgI2lmZGVmIEFMUEhBX1RFU1RcbiAgICAgICAgaWYgKGdsX0ZyYWdDb2xvci5hIDwgMC4wMDAwMSkgeyBkaXNjYXJkOyB9XG4gICAgI2VuZGlmXG59XG5gO1xubW9kdWxlLmV4cG9ydHMgPSBjb2RlOyIsIi8qKlxuICogQ3JlYXRlIHRoZSBzaGFkZXIgbWF0ZXJpYWwuXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKCd0aHJlZScpO1xuY29uc3QgVmVydGV4U2hhZGVyQ29kZSA9IHJlcXVpcmUoJy4vc2hhZGVycy92ZXJ0ZXgnKTtcbmNvbnN0IEZyYWdtZW50U2hhZGVyQ29kZSA9IHJlcXVpcmUoJy4vc2hhZGVycy9mcmFnbWVudCcpO1xuXG4vKipcbiAqIE1hdGVyaWFsIGZvciBwYXJ0aWNsZXMuXG4gKi9cbmNsYXNzIFBhcnRpY2xlc01hdGVyaWFsXG57XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBwYXJ0aWNsZXMgbWF0ZXJpYWwuXG4gICAgICogQHBhcmFtIHsqfSBvcHRpb25zIE1hdGVyaWFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuY29sb3IgTWF0ZXJpYWwgZ2VuZXJhbCBjb2xvci5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMudHJhbnNwYXJlbnQgU2hvdWxkIHdlIHN1cHBvcnQgdHJhbnNwYXJlbmN5P1xuICAgICAqIEBwYXJhbSB7VEhSRUUuQmxlbmRpbmd9IG9wdGlvbnMuYmxlbmRpbmcgQmxlbmRpbmcgbW9kZS5cbiAgICAgKiBAcGFyYW0ge1RIUkVFLlRleHR1cmV9IG9wdGlvbnMubWFwIFRleHR1cmUgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5wZXJzcGVjdGl2ZSBJZiB0cnVlLCB3aWxsIHNjYWxlIHBhcnRpY2xlcyBiYXNlZCBvbiBkaXN0YW5jZSBmcm9tIGNhbWVyYS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMucGVyUGFydGljbGVDb2xvciBJZiB0cnVlLCB3aWxsIGFsbG93IHBlci1wYXJ0aWNsZSBjb2xvcnMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnBlclBhcnRpY2xlUm90YXRpb24gSWYgdHJ1ZSwgd2lsbCBhbGxvdyBwZXItcGFydGljbGUgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuY29uc3RTaXplIElmIGV4aXN0LCB3aWxsIHNldCBjb25zdCBzaXplIHRvIGFsbCBwYXJ0aWNsZXMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmFscGhhVGVzdCBJZiB0cnVlLCB3aWxsIHBlcmZvcm0gYWxwaGEgdGVzdCBhbmQgZGlzY2FyZCB0cmFuc3BhcmVudCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmRlcHRoV3JpdGUgSWYgdHJ1ZSwgd2lsbCBwZXJmb3JtIGRlcHRoIHdyaXRlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5kZXB0aFRlc3QgSWYgdHJ1ZSwgd2lsbCBwZXJmb3JtIGRlcHRoIHRlc3QuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIHN0b3JlIG9wdGlvbnNcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICAvLyB1bmlmb3Jtc1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBnbG9iYWxDb2xvcjogeyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKCBvcHRpb25zLmNvbG9yIHx8IDB4ZmZmZmZmICkgfSxcbiAgICAgICAgICAgIHJlbmRlcmVyU2NhbGU6IHsgdmFsdWU6IDEgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZXQgZmxhZ3MgdG8gY2hhbmdlIHNoYWRlcnMgYmVoYXZpb3JcbiAgICAgICAgdmFyIGZsYWdzID0gXCJcIjtcbiAgICAgICAgaWYgKG9wdGlvbnMucGVyc3BlY3RpdmUpIHtcbiAgICAgICAgICAgIGZsYWdzICs9IFwiI2RlZmluZSBQRVJTUEVDVElWRVxcblwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLm1hcCkge1xuICAgICAgICAgICAgZmxhZ3MgKz0gXCIjZGVmaW5lIFRFWFRVUkVcXG5cIjtcbiAgICAgICAgICAgIHVuaWZvcm1zLl90ZXh0dXJlID0geyB2YWx1ZTogb3B0aW9ucy5tYXAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5wZXJQYXJ0aWNsZUNvbG9yKSB7XG4gICAgICAgICAgICBmbGFncyArPSBcIiNkZWZpbmUgQ09MT1JJTkdcXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5wZXJQYXJ0aWNsZVJvdGF0aW9uKSB7XG4gICAgICAgICAgICBmbGFncyArPSBcIiNkZWZpbmUgUk9UQVRJT05cXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5jb25zdFNpemUpIHtcbiAgICAgICAgICAgIGZsYWdzICs9IFwiI2RlZmluZSBDT05TVF9TSVpFXFxuXCI7XG4gICAgICAgICAgICB1bmlmb3Jtcy5jb25zdFNpemUgPSB7IHZhbHVlOiBvcHRpb25zLmNvbnN0U2l6ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFscGhhVGVzdCkge1xuICAgICAgICAgICAgZmxhZ3MgKz0gXCIjZGVmaW5lIEFMUEhBX1RFU1RcXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBmbGFncyArPSBcIlxcblwiO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgaW50ZXJuYWwgbWF0ZXJpYWxcbiAgICAgICAgdmFyIHNoYWRlck1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgICAgICAgIHVuaWZvcm1zOiAgICAgICB1bmlmb3JtcyxcbiAgICAgICAgICAgIHZlcnRleFNoYWRlcjogICBmbGFncyArIFZlcnRleFNoYWRlckNvZGUsXG4gICAgICAgICAgICBmcmFnbWVudFNoYWRlcjogZmxhZ3MgKyBGcmFnbWVudFNoYWRlckNvZGUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogICAgQm9vbGVhbihvcHRpb25zLnRyYW5zcGFyZW50KSxcbiAgICAgICAgICAgIGJsZW5kaW5nOiAgICAgICBvcHRpb25zLmJsZW5kaW5nLFxuICAgICAgICAgICAgdmVydGV4Q29sb3JzOiAgIFRIUkVFLlZlcnRleENvbG9ycyxcbiAgICAgICAgICAgIGRlcHRoV3JpdGU6ICAgICBCb29sZWFuKG9wdGlvbnMuZGVwdGhXcml0ZSksXG4gICAgICAgICAgICBkZXB0aFRlc3Q6ICAgICAgQm9vbGVhbihvcHRpb25zLmRlcHRoVGVzdCksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gc2hhZGVyTWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZSB0aGUgbWF0ZXJpYWwuXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0IHVuaWZpZWQgc2NhbGUgZm9yIGFsbCBwYXJ0aWNsZXMuXG4gICAgICovXG4gICAgc2V0QmFzZVNjYWxlKHZhbClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVyc3BlY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMucmVuZGVyZXJTY2FsZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYXJ0aWNsZXNNYXRlcmlhbDsiLCIvKipcbiAqIERlZmluZSBpbnRlcmZhY2UgZm9yIGEgaGVscGVyIGNsYXNzIHRvIGdlbmVyYXRlIHJhbmRvbSB2ZWN0b3JzIGFuZCBjb2xvcnMuXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiovXG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIHZlY3RvciByYW5kb21pemVycy5cbiAqL1xuY2xhc3MgUmFuZG9taXplclxue1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGFuZCByZXR1cm4gYSByYW5kb20gdmFsdWUuXG4gICAgICogVGhpcyBpcyB0aGUgbWFpbiBtZXRob2QgdG8gaW1wbGVtZW50LlxuICAgICAqL1xuICAgIGdlbmVyYXRlKClcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxufVxuXG4vLyBleHBvcnQgdGhlIGJhc2UgY2xhc3Ncbm1vZHVsZS5leHBvcnRzID0gUmFuZG9taXplcjsiLCIvKipcbiAqIEdlbmVyYXRlIHZlY3RvcnMgd2l0aGluIGEgM2QgYm94LlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4qL1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKCd0aHJlZScpO1xuY29uc3QgUmFuZG9taXplciA9IHJlcXVpcmUoJy4vcmFuZG9taXplcicpO1xuY29uc3QgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIEJveCB2ZWN0b3IgcmFuZG9taXplci5cbiAqL1xuY2xhc3MgQm94UmFuZG9taXplciBleHRlbmRzIFJhbmRvbWl6ZXJcbntcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGJveCByYW5kb21pemVyIGZyb20gbWluIGFuZCBtYXggdmVjdG9ycyB0byByYW5kb21pemUgYmV0d2Vlbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtaW4sIG1heClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWluID0gbWluIHx8IG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAtMSwgLTEpO1xuICAgICAgICB0aGlzLm1heCA9IG1heCB8fCBuZXcgVEhSRUUuVmVjdG9yMygxLCAxLCAxKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSByYW5kb20gdmVjdG9yLlxuICAgICAqL1xuICAgIGdlbmVyYXRlKClcbiAgICB7XG4gICAgICAgIHJldHVybiBVdGlscy5nZXRSYW5kb21WZWN0b3JCZXR3ZWVuKHRoaXMubWluLCB0aGlzLm1heCk7XG4gICAgfVxufVxuXG4vLyBleHBvcnQgdGhlIHJhbmRvbWl6ZXIgY2xhc3Ncbm1vZHVsZS5leHBvcnRzID0gQm94UmFuZG9taXplcjsiLCIvKipcbiAqIEdlbmVyYXRlIHZlY3RvcnMgd2l0aGluIGEgM2Qgc3BoZXJlLlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4qL1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKCd0aHJlZScpO1xuY29uc3QgUmFuZG9taXplciA9IHJlcXVpcmUoJy4vcmFuZG9taXplcicpO1xuY29uc3QgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vLyByYW5kb20gYmV0d2VlbiAtMSBhbmQgMS5cbmZ1bmN0aW9uIHJhbmRNaW51c1RvT25lKClcbntcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDIgLSAxO1xufVxuXG4vKipcbiAqIFNwaGVyZSB2ZWN0b3IgcmFuZG9taXplci5cbiAqL1xuY2xhc3MgU3BoZXJlUmFuZG9taXplciBleHRlbmRzIFJhbmRvbWl6ZXJcbntcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIHNwaGVyZSByYW5kb21pemVyIGZyb20gcmFkaXVzIGFuZCBvcHRpb25hbCBzY2FsZXIuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF4UmFkaXVzLCBtaW5SYWRpdXMsIHNjYWxlciwgbWluVmVjdG9yLCBtYXhWZWN0b3IpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1heFJhZGl1cyA9IG1heFJhZGl1cyB8fCAxO1xuICAgICAgICB0aGlzLm1pblJhZGl1cyA9IG1pblJhZGl1cyB8fCAwO1xuICAgICAgICB0aGlzLnNjYWxlciA9IHNjYWxlcjtcbiAgICAgICAgdGhpcy5taW5WZWN0b3IgPSBtaW5WZWN0b3I7XG4gICAgICAgIHRoaXMubWF4VmVjdG9yID0gbWF4VmVjdG9yO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHJhbmRvbSB2ZWN0b3IuXG4gICAgICovXG4gICAgZ2VuZXJhdGUoKVxuICAgIHtcbiAgICAgICAgLy8gY3JlYXRlIHJhbmRvbSB2ZWN0b3JcbiAgICAgICAgdmFyIHJldCA9IG5ldyBUSFJFRS5WZWN0b3IzKHJhbmRNaW51c1RvT25lKCksIHJhbmRNaW51c1RvT25lKCksIHJhbmRNaW51c1RvT25lKCkpO1xuXG4gICAgICAgIC8vIGNsYW1wIHZhbHVlc1xuICAgICAgICBpZiAodGhpcy5taW5WZWN0b3IgfHwgdGhpcy5tYXhWZWN0b3IpIHtcbiAgICAgICAgICAgIHJldC5jbGFtcCh0aGlzLm1pblZlY3RvciB8fCBuZXcgVEhSRUUuVmVjdG9yMygtMSwtMSwtMSksIHRoaXMubWF4VmVjdG9yIHx8IG5ldyBUSFJFRS5WZWN0b3IzKDEsMSwxKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3JtYWxpemUgYW5kIG11bHRpcGx5IGJ5IHJhZGl1c1xuICAgICAgICByZXQubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoIFV0aWxzLmdldFJhbmRvbUJldHdlZW4odGhpcy5taW5SYWRpdXMsIHRoaXMubWF4UmFkaXVzKSApO1xuXG4gICAgICAgIC8vIGFwcGx5IHNjYWxlclxuICAgICAgICBpZiAodGhpcy5zY2FsZXIpIHsgcmV0Lm11bHRpcGx5KHRoaXMuc2NhbGVyKTsgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbn1cblxuLy8gZXhwb3J0IHRoZSByYW5kb21pemVyIGNsYXNzXG5tb2R1bGUuZXhwb3J0cyA9IFNwaGVyZVJhbmRvbWl6ZXI7IiwiLyoqXG4gKiBHZW5lcmF0ZSB2ZWN0b3JzIHdpdGhpbiBhIDNkIGJveC5cbiAqIEF1dGhvcjogUm9uZW4gTmVzcy5cbiAqIFNpbmNlOiAyMDE5LlxuKi9cbmNvbnN0IFRIUkVFID0gcmVxdWlyZSgndGhyZWUnKTtcbmNvbnN0IFJhbmRvbWl6ZXIgPSByZXF1aXJlKCcuL3JhbmRvbWl6ZXInKTtcbmNvbnN0IFV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBCb3ggdmVjdG9yIHJhbmRvbWl6ZXIuXG4gKi9cbmNsYXNzIENvbG9yc1JhbmRvbWl6ZXIgZXh0ZW5kcyBSYW5kb21pemVyXG57XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBib3ggcmFuZG9taXplciBmcm9tIG1pbiBhbmQgbWF4IGNvbG9ycyB0byByYW5kb21pemUgYmV0d2Vlbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtaW4sIG1heClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWluID0gbWluIHx8IG5ldyBUSFJFRS5Db2xvcigwLCAwLCAwKTtcbiAgICAgICAgdGhpcy5tYXggPSBtYXggfHwgbmV3IFRIUkVFLkNvbG9yKDEsIDEsIDEpO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHJhbmRvbSBjb2xvci5cbiAgICAgKi9cbiAgICBnZW5lcmF0ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gVXRpbHMuZ2V0UmFuZG9tQ29sb3JCZXR3ZWVuKHRoaXMubWluLCB0aGlzLm1heCk7XG4gICAgfVxufVxuXG4vLyBleHBvcnQgdGhlIHJhbmRvbWl6ZXIgY2xhc3Ncbm1vZHVsZS5leHBvcnRzID0gQ29sb3JzUmFuZG9taXplcjsiLCIvKipcbiAqIEdlbmVyYXRlIG51bWJlcnMgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAqIEF1dGhvcjogUm9uZW4gTmVzcy5cbiAqIFNpbmNlOiAyMDE5LlxuKi9cbmNvbnN0IFJhbmRvbWl6ZXIgPSByZXF1aXJlKCcuL3JhbmRvbWl6ZXInKTtcbmNvbnN0IFV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuXG4vKipcbiAqIE1pbi1NYXggbnVtYmVyIHJhbmRvbWl6ZXIuXG4gKi9cbmNsYXNzIE1pbk1heFJhbmRvbWl6ZXIgZXh0ZW5kcyBSYW5kb21pemVyXG57XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBtaW4tbWF4IHJhbmRvbWl6ZXIgZnJvbSBtaW4gYW5kIG1heC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtaW4sIG1heClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWluID0gbWluO1xuICAgICAgICB0aGlzLm1heCA9IG1heDtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSByYW5kb20gbnVtYmVyLlxuICAgICAqL1xuICAgIGdlbmVyYXRlKClcbiAgICB7XG4gICAgICAgIHJldHVybiBVdGlscy5nZXRSYW5kb21CZXR3ZWVuKHRoaXMubWluLCB0aGlzLm1heCk7XG4gICAgfVxufVxuXG4vLyBleHBvcnQgdGhlIHJhbmRvbWl6ZXIgY2xhc3Ncbm1vZHVsZS5leHBvcnRzID0gTWluTWF4UmFuZG9taXplcjsiLCIvKipcbiAqIE1vZHVsZSBtYWluIGVudHJ5IHBvaW50LlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgUmFuZG9taXplcjogcmVxdWlyZSgnLi9yYW5kb21pemVyJyksXG4gICAgQm94UmFuZG9taXplcjogcmVxdWlyZSgnLi9ib3hfcmFuZG9taXplcicpLFxuICAgIFNwaGVyZVJhbmRvbWl6ZXI6IHJlcXVpcmUoJy4vc3BoZXJlX3JhbmRvbWl6ZXInKSxcbiAgICBDb2xvcnNSYW5kb21pemVyOiByZXF1aXJlKCcuL2NvbG9yc19yYW5kb21pemVyJyksXG4gICAgTWluTWF4UmFuZG9taXplcjogcmVxdWlyZSgnLi9taW5tYXhfcmFuZG9taXplcicpLFxufSIsIi8qKlxuICogSW1wbGVtZW50IGFuIGVtaXR0ZXIgY2xhc3MgdG8gZ2VuZXJhdGUgcGFydGljbGVzLlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4qL1xuY29uc3QgVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5jb25zdCByYW5kb21pemVyT3JWYWx1ZSA9IFV0aWxzLnJhbmRvbWl6ZXJPclZhbHVlO1xuXG4vKipcbiAqIEVtaXR0ZXIgY2xhc3MgdG8gZGV0ZXJtaW5lIHJhdGUgb2YgcGFydGljbGVzIGdlbmVyYXRpb24uXG4gKi9cbmNsYXNzIEVtaXR0ZXJcbntcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGVtaXR0ZXIgY2xhc3MuXG4gICAgICogQHBhcmFtIHsqfSBvcHRpb25zIEVtaXR0ZXIgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMub25TcGF3bkJ1cnN0IEJ1cnN0IG9mIHBhcnRpY2xlcyB3aGVuIHBhcnRpY2xlIHN5c3RlbSBzdGFydHM7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSBudW1iZXJzLlxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucy5vbkludGVydmFsIEJ1cnN0IG9mIHBhcnRpY2xlcyBldmVyeSBpbnRlcnZhbDsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKE51bWJlcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIG51bWJlcnMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuaW50ZXJ2YWwgU3Bhd24gaW50ZXJ2YWwgdGltZSwgaW4gc2Vjb25kczsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKE51bWJlcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIG51bWJlcnMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuZGV0b3JldGluZ01pblR0bCBJZiBwcm92aWRlZCBhbmQgcGFydGljbGUgc3lzdGVtJ3MgdHRsIGlzIGJlbG93IHRoaXMgdmFsdWUsIHdpbGwgc3RhcnQgZW1pdHRpbmcgbGVzcyBhbmQgbGVzcyB1bnRpbCBzdG9wcGluZyBjb21wbGV0ZWx5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zLmludGVydmFsID0gb3B0aW9ucy5pbnRlcnZhbCB8fCAxO1xuICAgICAgICB0aGlzLmFnZSA9IDA7XG4gICAgICAgIHRoaXMudGltZVRvU3Bhd24gPSBNYXRoLnJhbmRvbSgpICogcmFuZG9taXplck9yVmFsdWUob3B0aW9ucy5pbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGVtaXR0ZXIgYW5kIHJldHVybiBob3cgbWFueSBwYXJ0aWNsZXMgc2hvdWxkIGJlIGdlbmVyYXRlZCB0aGlzIGZyYW1lLlxuICAgICAqL1xuICAgIHVwZGF0ZShkZWx0YVRpbWUsIHN5c3RlbSlcbiAgICB7XG4gICAgICAgIC8vIHBhcnRpY2xlcyB0byBnZW5lcmF0ZVxuICAgICAgICBsZXQgcmV0ID0gMDtcblxuICAgICAgICAvLyBmaXJzdCB1cGRhdGU/IGRvIGJ1cnN0XG4gICAgICAgIGlmICh0aGlzLmFnZSA9PT0gMCAmJiB0aGlzLm9wdGlvbnMub25TcGF3bkJ1cnN0KSB7XG4gICAgICAgICAgICByZXQgKz0gcmFuZG9taXplck9yVmFsdWUodGhpcy5vcHRpb25zLm9uU3Bhd25CdXJzdCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIHVwZGF0ZSBhZ2VcbiAgICAgICAgdGhpcy5hZ2UgKz0gZGVsdGFUaW1lO1xuXG4gICAgICAgIC8vIG5vIGludGVydmFsIGVtaXR0aW5nPyBza2lwXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLm9uSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiBpbnZlcnZhbCBleHBpcmVkXG4gICAgICAgIHRoaXMudGltZVRvU3Bhd24gLT0gZGVsdGFUaW1lO1xuICAgICAgICBpZiAodGhpcy50aW1lVG9TcGF3biA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVUb1NwYXduID0gcmFuZG9taXplck9yVmFsdWUodGhpcy5vcHRpb25zLmludGVydmFsKTtcbiAgICAgICAgICAgIHJldCArPSByYW5kb21pemVyT3JWYWx1ZSh0aGlzLm9wdGlvbnMub25JbnRlcnZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkbyBkZXRvcmF0aW9uXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGV0b3JldGluZ01pblR0bCAmJiBzeXN0ZW0udHRsIDwgdGhpcy5vcHRpb25zLmRldG9yZXRpbmdNaW5UdGwpIHtcbiAgICAgICAgICAgIHZhciBkZXRvcmF0ZUZhY3RvciA9IHN5c3RlbS50dGwgLyB0aGlzLm9wdGlvbnMuZGV0b3JldGluZ01pblR0bDtcbiAgICAgICAgICAgIHJldCAqPSBkZXRvcmF0ZUZhY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiBudW1iZXIgb2YgcGFydGljbGVzIHRvIGdlbmVyYXRlXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufVxuXG4vLyBleHBvcnQgdGhlIGVtaXR0ZXIgY2xhc3Ncbm1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjsiLCIvKipcbiAqIEltcGxlbWVudCBiYXNpYyBwYXJ0aWNsZXMgc3lzdGVtLlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4gKi9cbmNvbnN0IFRIUkVFID0gcmVxdWlyZShcInRocmVlXCIpO1xuY29uc3QgUGFydGljbGUgPSByZXF1aXJlKFwiLi9wYXJ0aWNsZVwiKTtcbmNvbnN0IFBhcnRpY2xlc01hdGVyaWFsID0gcmVxdWlyZShcIi4vbWF0ZXJpYWwvbWF0ZXJpYWxcIik7XG5cbmNvbnN0IFJhbmRvbWl6ZXJzID0gcmVxdWlyZShcIi4vcmFuZG9taXplcnNcIik7XG5jb25zdCBFbWl0dGVyID0gcmVxdWlyZShcIi4vZW1pdHRlclwiKTtcblxuY29uc3QgTlVMTF9BUlJBWSA9IFtdO1xuXG5jb25zdCBCTEVORElOR19PUFRJT05TID0ge1xuICBvcGFxdWU6IFRIUkVFLk5vQmxlbmRpbmcsXG4gIGFkZGl0aXZlOiBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLFxuICBtdWx0aXBseTogVEhSRUUuTXVsdGlwbHlCbGVuZGluZyxcbiAgYmxlbmQ6IFRIUkVFLk5vcm1hbEJsZW5kaW5nXG59O1xuXG4vLyB0byBjaGVjayBpZiB2YWx1ZSBpcyBkZWZpbmVkXG5mdW5jdGlvbiBkZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsO1xufVxuXG4vKipcbiAqIGRlZXAtY29waWVzIHRoZSBzZXR0aW5ncyxcbiAqIGFuZCByZXBsYWNlcyB0aGUgb2JqZWN0cyB0aGF0IGhhdmUgYSBcIm1vZHVsZVR5cGVcIlxuICogdmFsdWUgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY2xhc3MgZnJvbSBwYXJ0eWthbHMuXG4gKlxuICogYSBvYmplY3QsIHRoYXQgY2FuIGJlIHJlcGxhY2VkIG11c3QgbG9vayBsaWtlXG4gKiB7IG1vZHVsZVR5cGU6XCJlLmcuIENvbG9yc1JhbmRvbWl6ZXJcIiwgdmFsdWVzOltvcHRpb25hbCBwYXJhbWV0ZXJzXX1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJucyB0aGUgY29waWVkIG9iamVjdFxuICovXG5mdW5jdGlvbiBjb3B5RnJvbUpTT04ob2JqZWN0LHJlc291cmNlcykge1xuICBpZiAodHlwZW9mIG9iamVjdCAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc3VsdC5wdXNoKGNvcHlGcm9tSlNPTihvYmplY3RbaV0scmVzb3VyY2VzKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBvYmplY3QsIGNyZWF0ZSBhIG5ldyBvYmplY3QgYW5kXG4gIC8vIGNvcHkgYWxsIHN1YiB2YWx1ZXNcbiAgaWYgKCFvYmplY3QubW9kdWxlVHlwZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gY29weUZyb21KU09OKG9iamVjdFtrZXldLHJlc291cmNlcyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZihvYmplY3QubW9kdWxlVHlwZSA9PT0gXCJ0ZXh0dXJlXCIpe1xuICAgIHJldHVybiByZXNvdXJjZXNbb2JqZWN0LnBhcmFtc1swXV07XG4gIH1cblxuXG4gIC8vIGlmIHdlIG5lZWQgdG8gY29udmVydCB0byBvYmplY3RcbiAgY29uc3QgQyA9IFRIUkVFW29iamVjdC5tb2R1bGVUeXBlXSB8fCBSYW5kb21pemVyc1tvYmplY3QubW9kdWxlVHlwZV07XG4gIHJldHVybiBuZXcgQyguLi4ob2JqZWN0LnBhcmFtcyB8fCBOVUxMX0FSUkFZKSk7XG59XG5cbi8qKlxuICogUGFydGljbGVzIHN5c3RlbS5cbiAqL1xuY2xhc3MgUGFydGljbGVzU3lzdGVtIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBwYXJ0aWNsZXMgc3lzdGVtLlxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgUGFydGljbGVzIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7VEhSRUUuT2JqZWN0M0R9IG9wdGlvbnMuY29udGFpbmVyIENvbnRhaW5lciB0byBhZGQgcGFydGljbGVzIHN5c3RlbSB0by5cbiAgICpcbiAgICogLy8gUEFSVElDTEVTIE9QVElPTlNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnMucGFydGljbGVzIFBhcnRpY2xlLXJlbGF0ZWQgb3B0aW9ucy5cbiAgICpcbiAgICogLy8gUEFSVElDTEVTIFRUTFxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMudHRsIEhvdyBsb25nLCBpbiBzZWNvbmRzLCBldmVyeSBwYXJ0aWNsZSBsaXZlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFydGljbGVzLnR0bEV4dHJhIElmIHByb3ZpZGVkLCB3aWxsIGFkZCByYW5kb20gbnVtYmVycyBmcm9tIDAgdG8gdHRsRXh0cmEgdG8gcGFydGljbGUncyB0dGwuXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFUyBGQURJTkcgLyBBTFBIQVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMucGFydGljbGVzLmFscGhhIFBlci1wYXJ0aWNsZSBjb25zdGFudCBhbHBoYTsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKE51bWJlcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFydGljbGVzLnN0YXJ0QWxwaGEgUGFydGljbGVzIHN0YXJ0aW5nIG9wYWNpdHk7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5lbmRBbHBoYSBQYXJ0aWNsZXMgZW5kaW5nIG9wYWNpdHk7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5zdGFydEFscGhhQ2hhbmdlQXQgV2lsbCBvbmx5IHN0YXJ0IHNoaWZ0aW5nIGFscGhhIHdoZW4gYWdlIGlzIG92ZXIgdGhpcyB2YWx1ZTsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKE51bWJlcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICpcbiAgICogLy8gUEFSVElDTEVTIEdST1dJTkcgLyBTSVpFXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5zaXplIFBlci1wYXJ0aWNsZSBjb25zdGFudCBzaXplOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuc3RhcnRTaXplIFBhcnRpY2xlcyBzdGFydGluZyBzaXplOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuZW5kU2l6ZSBQYXJ0aWNsZXMgZW5kaW5nIHNpemU7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5zdGFydFNpemVDaGFuZ2VBdCBXaWxsIG9ubHkgc3RhcnQgc2hpZnRpbmcgc2l6ZSB3aGVuIGFnZSBpcyBvdmVyIHRoaXMgdmFsdWU7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFUyBDT0xPUklOR1xuICAgKiBAcGFyYW0ge1RIUkVFLkNvbG9yfSBvcHRpb25zLnBhcnRpY2xlcy5jb2xvciBQZXItcGFydGljbGUgY29uc3RhbnQgY29sb3I7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChUSFJFRS5Db2xvcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICogQHBhcmFtIHtUSFJFRS5Db2xvcn0gb3B0aW9ucy5wYXJ0aWNsZXMuc3RhcnRDb2xvciBTdGFydGluZyBjb2xvciBtaW4gdmFsdWU7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChUSFJFRS5Db2xvcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICogQHBhcmFtIHtUSFJFRS5Db2xvcn0gb3B0aW9ucy5wYXJ0aWNsZXMuZW5kQ29sb3IgRW5kaW5nIGNvbG9yIG1pbiB2YWx1ZTsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKFRIUkVFLkNvbG9yKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuc3RhcnRDb2xvckNoYW5nZUF0IFdpbGwgb25seSBzdGFydCBzaGlmdGluZyBjb2xvciB3aGVuIGFnZSBpcyBvdmVyIHRoaXMgdmFsdWU7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFUyBBQ0NFTEVSQVRJT05cbiAgICogQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSBvcHRpb25zLnBhcnRpY2xlcy5hY2NlbGVyYXRpb24gUGFydGljbGVzIGFjY2VsZXJhdGlvbjsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKFRIUkVFLlZlY3RvcjMpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5ncmF2aXR5IEdyYXZpdHkgZm9yY2UgYWZmZWN0aW5nIHRoZSBwYXJ0aWNsZXMuXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFUyBST1RBVElPTlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMucm90YXRpb24gUGVyLXBhcnRpY2xlIHJvdGF0aW9uIChvbmx5IHdvcmtzIHdpdGggdGV4dHVyZSk7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5yb3RhdGlvblNwZWVkIFBhcnRpY2xlcyByb3RhdGlvbiBzcGVlZCAob25seSB3b3JrcyB3aXRoIHRleHR1cmUpOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKlxuICAgKiAvLyBQQVJUSUNMRVMgVkVMT0NJVFlcbiAgICogQHBhcmFtIHsqfSBvcHRpb25zLnBhcnRpY2xlcy52ZWxvY2l0eSBQYXJ0aWNsZXMgc3RhcnRpbmcgdmVsb2NpdHk7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChUSFJFRS5WZWN0b3IzKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge1RIUkVFLlZlY3RvcjN9IG9wdGlvbnMucGFydGljbGVzLnZlbG9jaXR5Qm9udXMgVmVsb2NpdHkgdmFsdWUgdG8gYWRkIHRvIGFsbCBwYXJ0aWNsZXMgYWZ0ZXIgcmFuZG9taXppbmcgdmVsb2NpdHkuXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFUyBPRkZTRVRcbiAgICogQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSBvcHRpb25zLnBhcnRpY2xlcy5vZmZzZXQgUGFydGljbGVzIG9mZnNldCBmcm9tIHN5c3RlbSdzIGNlbnRlcjsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKFRIUkVFLlZlY3RvcjMpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFIEdMT0JBTFNcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnBhcnRpY2xlcy53b3JsZFBvc2l0aW9uIElmIHRydWUsIHBhcnRpY2xlcyB3aWxsIG1haW50YWluIHRoZWlyIHdvcmxkIHBvc2l0aW9uIGFmdGVyIHNwYXduIGV2ZW4gaWYgdGhlIHN5c3RlbSBtb3Zlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFydGljbGVzLmdsb2JhbFNpemUgQ29uc3Qgc2l6ZSBmb3IgYWxsIHBhcnRpY2xlcy4gTm90ZTogdGhpcyBpcyBtb3JlIGVmZmljaWVudCB0aGFuIHNldHRpbmcgcGVyLXBhcnRpY2xlIHNpemUgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5nbG9iYWxDb2xvciBHbG9iYWwgY29sb3IgdG8gYWZmZWN0IGFsbCBwYXJ0aWNsZXMuIE5vdGU6IHRoaXMgaXMgbW9yZSBlZmZpY2llbnQgdGhhbiBzZXR0aW5nIHBlci1wYXJ0aWNsZSBjb2xvciBwcm9wZXJ0eS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMucGFydGljbGVzLmJsZW5kaW5nIFBhcnRpY2xlcyBibGVuZGluZyBtb2RlIChvcGFxdWUgLyBibGVuZCAvIGFkZGl0aXZlKS5cbiAgICogQHBhcmFtIHtUSFJFRS5UZXh0dXJlfSBvcHRpb25zLnBhcnRpY2xlcy50ZXh0dXJlIFBhcnRpY2xlJ3MgdGV4dHVyZSB0byB1c2UuXG4gICAqXG4gICAqIC8vIENVU1RPTSBDQUxMQkFDS1NcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5wYXJ0aWNsZXMub25VcGRhdGUgT3B0aW9uYWwgbWV0aG9kIHRvIGNhbGwgcGVyLXBhcnRpY2xlIGV2ZXJ5IHVwZGF0ZSBmcmFtZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5wYXJ0aWNsZXMub25TcGF3biBPcHRpb25hbCBtZXRob2QgdG8gY2FsbCBwZXItcGFydGljbGUgZXZlcnkgdGltZSBhIHBhcnRpY2xlIHNwYXducyAoYWZ0ZXIgZXZlcnl0aGluZyBpcyBzZXQpLlxuICAgKlxuICAgKiAvLyBTWVNURU0gT1BUSU9OU1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIEBwYXJhbSB7Kn0gb3B0aW9ucy5zeXN0ZW0gU3lzdGVtLXJlbGF0ZWQgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuc3lzdGVtLnBhcnRpY2xlc0NvdW50IFBhcnRpY2xlcyBjb3VudC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuc3lzdGVtLnR0bCBIb3cgbG9uZywgaW4gc2Vjb25kcywgdGhlIHBhcnRpY2xlIHN5c3RlbSBsaXZlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuc3lzdGVtLnNwZWVkIFNwZWVkIGZhY3RvciB0byBhZmZlY3QgYWxsIHBhcnRpY2xlcyBhbmQgZW1pdHRpbmcuIE5vdGU6IHRoZSBvbmx5IHRoaW5nIHRoaXMgZG9uJ3QgYWZmZWN0IGlzIHN5c3RlbSdzIHR0bC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5zeXN0ZW0ub25VcGRhdGUgT3B0aW9uYWwgbWV0aG9kIHRvIGNhbGwgZXZlcnkgdXBkYXRlIGZyYW1lLlxuICAgKiBAcGFyYW0ge1BhcnR5a2Fscy5FbWl0dGVyfSBvcHRpb25zLnN5c3RlbS5lbWl0dGVycyBBIHNpbmdsZSBlbWl0dGVyIG9yIGEgbGlzdCBvZiBlbWl0dGVycyB0byBhdHRhY2ggdG8gdGhpcyBzeXN0ZW0uXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5zeXN0ZW0ucGVyc3BlY3RpdmUgSWYgdHJ1ZSwgd2lsbCBzY2FsZSBwYXJ0aWNsZXMgYmFzZWQgb24gZGlzdGFuY2UgZnJvbSBjYW1lcmEuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnN5c3RlbS5zY2FsZSBPdmVyYWxsIHN5c3RlbSBzY2FsZSB3aGVuIGluIHBlcnNwZWN0aXZlIG1vZGUgKGlmIHBlcnNwZWN0aXZlPWZhbHNlLCB3aWxsIGJlIGlnbm9yZWQpLiBBIGdvb2QgdmFsdWUgaXMgYmV0d2VlbiA0MDAgYW5kIDYwMC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnN5c3RlbS5kZXB0aFdyaXRlIFNob3VsZCB3ZSBwZXJmb3JtIGRlcHRoIHdyaXRlPyAoZGVmYXVsdCB0byB0cnVlKS5cbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnN5c3RlbS5kZXB0aFRlc3QgU2hvdWxkIHdlIHBlcmZvcm0gZGVwdGggdGVzdD8gKGRlZmF1bHQgdG8gdHJ1ZSkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgLy8gdXNlIGJpbmRPYmplY3QsIHRvIHNldCB0aGVzZSB2YWx1ZXNcbiAgICAvLyB0aGVuIHBhcnRpY2xlIHN5c3RlbSBmb2xsb3dzIHRoZSBwYXNzZWQgb2JqZWN0XG4gICAgdGhpcy5ib3VuZE9iamVjdCA9IG51bGw7XG4gICAgdGhpcy5sb2NrQm91bmRSb3RhdGlvbiA9IHRydWU7XG5cbiAgICAvLyBzdG9yZSBvcHRpb25zXG4gICAgb3B0aW9ucy5wYXJ0aWNsZXMgPSBvcHRpb25zLnBhcnRpY2xlcyB8fCB7IHdvcmxkUG9zaXRpb246IHRydWUgfTtcbiAgICBvcHRpb25zLnN5c3RlbSA9IG9wdGlvbnMuc3lzdGVtIHx8IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAvLyBnZXQgcGFydGljbGUgb3B0aW9uc1xuICAgIGNvbnN0IHBPcHRpb25zID0gb3B0aW9ucy5wYXJ0aWNsZXM7XG5cbiAgICAvLyBkbyBzb21lIGludGVybmFsIGNoZWF0aW5nIHRvIHJlcGxhY2UgY29uc3Qgc2l6ZSB3aXRoIGdsb2JhbCBzaXplXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnBhcnRpY2xlcy5zaXplID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiTm90ZTogcmVwbGFjZWQgJ3NpemUnIHdpdGggJ2dsb2JhbFNpemUnIHByb3BlcnR5IHNpbmNlIGl0cyBtb3JlIGVmZmljaWVudCBhbmQgcHJvdmlkZWQgc2l6ZSB2YWx1ZSB3YXMgY29uc3RhbnQgYW55d2F5LlwiXG4gICAgICApO1xuICAgICAgb3B0aW9ucy5wYXJ0aWNsZXMuZ2xvYmFsU2l6ZSA9IG9wdGlvbnMucGFydGljbGVzLnNpemU7XG4gICAgICBkZWxldGUgb3B0aW9ucy5wYXJ0aWNsZXMuc2l6ZTtcbiAgICB9XG5cbiAgICAvLyBkbyBzb21lIGludGVybmFsIGNoZWF0aW5nIHRvIHJlcGxhY2UgY29uc3QgY29sb3Igd2l0aCBnbG9iYWwgY29sb3JcbiAgICBpZiAob3B0aW9ucy5wYXJ0aWNsZXMuY29sb3IgaW5zdGFuY2VvZiBUSFJFRS5Db2xvcikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIk5vdGU6IHJlcGxhY2VkICdjb2xvcicgd2l0aCAnZ2xvYmFsQ29sb3InIHByb3BlcnR5IHNpbmNlIGl0cyBtb3JlIGVmZmljaWVudCBhbmQgeW91IHByb3ZpZGVkIGNvbG9yIHZhbHVlIHdhcyBjb25zdGFudCBhbnl3YXkuXCJcbiAgICAgICk7XG4gICAgICBvcHRpb25zLnBhcnRpY2xlcy5nbG9iYWxDb2xvciA9IG9wdGlvbnMucGFydGljbGVzLmNvbG9yO1xuICAgICAgZGVsZXRlIG9wdGlvbnMucGFydGljbGVzLmNvbG9yO1xuICAgIH1cblxuICAgIC8vIHNldCBzb21lIGludGVybmFsIGZsYWdzXG4gICAgb3B0aW9ucy5wYXJ0aWNsZXMuZmFkZSA9IGRlZmluZWQocE9wdGlvbnMuc3RhcnRBbHBoYSkgfHwgZGVmaW5lZChwT3B0aW9ucy5hbHBoYSk7XG4gICAgb3B0aW9ucy5wYXJ0aWNsZXMucm90YXRpbmcgPSBkZWZpbmVkKHBPcHRpb25zLnJvdGF0aW9uU3BlZWQpIHx8IGRlZmluZWQocE9wdGlvbnMucm90YXRpb24pO1xuICAgIG9wdGlvbnMucGFydGljbGVzLmNvbG9yaXplID0gZGVmaW5lZChwT3B0aW9ucy5jb2xvcikgfHwgZGVmaW5lZChwT3B0aW9ucy5zdGFydENvbG9yKTtcbiAgICBvcHRpb25zLnBhcnRpY2xlcy5zY2FsaW5nID0gZGVmaW5lZChwT3B0aW9ucy5zaXplKSB8fCBkZWZpbmVkKHBPcHRpb25zLnN0YXJ0U2l6ZSk7XG5cbiAgICAvLyB2YWxpZGF0ZSBhbHBoYSBwYXJhbXNcbiAgICBpZiAoZGVmaW5lZChwT3B0aW9ucy5zdGFydEFscGhhKSAmJiAhZGVmaW5lZChwT3B0aW9ucy5lbmRBbHBoYSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldoZW4gcHJvdmlkaW5nICdzdGFydEFscGhhJyB5b3UgbXVzdCBhbHNvIHByb3ZpZGUgJ2VuZEFscGhhJyFcIik7XG4gICAgfVxuICAgIGlmIChkZWZpbmVkKHBPcHRpb25zLnN0YXJ0QWxwaGEpICYmIGRlZmluZWQocE9wdGlvbnMuYWxwaGEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIHByb3ZpZGluZyAnYWxwaGEnIHlvdSBjYW4ndCBhbHNvIHByb3ZpZGUgJ3N0YXJ0QWxwaGEnIVwiKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBjb2xvciBwYXJhbXNcbiAgICBpZiAoZGVmaW5lZChwT3B0aW9ucy5zdGFydENvbG9yKSAmJiAhZGVmaW5lZChwT3B0aW9ucy5lbmRDb2xvcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldoZW4gcHJvdmlkaW5nICdzdGFydENvbG9yJyB5b3UgbXVzdCBhbHNvIHByb3ZpZGUgJ2VuZENvbG9yJyFcIik7XG4gICAgfVxuICAgIGlmIChkZWZpbmVkKHBPcHRpb25zLnN0YXJ0Q29sb3IpICYmIGRlZmluZWQocE9wdGlvbnMuY29sb3IpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIHByb3ZpZGluZyAnY29sb3InIHlvdSBjYW4ndCBhbHNvIHByb3ZpZGUgJ3N0YXJ0Q29sb3InIVwiKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBzaXplIHBhcmFtc1xuICAgIGlmIChkZWZpbmVkKHBPcHRpb25zLnN0YXJ0U2l6ZSkgJiYgIWRlZmluZWQocE9wdGlvbnMuZW5kU2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldoZW4gcHJvdmlkaW5nICdzdGFydFNpemUnIHlvdSBtdXN0IGFsc28gcHJvdmlkZSAnZW5kU2l6ZSchXCIpO1xuICAgIH1cbiAgICBpZiAoZGVmaW5lZChwT3B0aW9ucy5zdGFydFNpemUpICYmIGRlZmluZWQocE9wdGlvbnMuc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldoZW4gcHJvdmlkaW5nICdzaXplJyB5b3UgY2FuJ3QgYWxzbyBwcm92aWRlICdzdGFydFNpemUnIVwiKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgcGFydGljbGVzIGNvdW50XG4gICAgY29uc3QgcGFydGljbGVDb3VudCA9IG9wdGlvbnMuc3lzdGVtLnBhcnRpY2xlc0NvdW50IHx8IDEwO1xuXG4gICAgLy8gZ2V0IGJsZW5kaW5nIG1vZGVcbiAgICBjb25zdCBibGVuZGluZyA9IG9wdGlvbnMucGFydGljbGVzLmJsZW5kaW5nIHx8IFwib3BhcXVlXCI7XG5cbiAgICAvLyBnZXQgdGhyZWVqcyBibGVuZGluZyBtb2RlXG4gICAgY29uc3QgdGhyZWVCbGVuZCA9IEJMRU5ESU5HX09QVElPTlNbYmxlbmRpbmddO1xuXG4gICAgLy8gc2V0IGVtaXR0ZXJzXG4gICAgdGhpcy5fZW1pdHRlcnMgPSBbXTtcbiAgICBpZiAob3B0aW9ucy5zeXN0ZW0uZW1pdHRlcnMpIHtcbiAgICAgIGlmIChvcHRpb25zLnN5c3RlbS5lbWl0dGVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5zeXN0ZW0uZW1pdHRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB0aGlzLmFkZEVtaXR0ZXIob3B0aW9ucy5zeXN0ZW0uZW1pdHRlcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZEVtaXR0ZXIob3B0aW9ucy5zeXN0ZW0uZW1pdHRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGhhcyB0cmFuc3BhcmVuY3k/XG4gICAgY29uc3QgaXNUcmFuc3BhcmVudCA9IGJsZW5kaW5nICE9PSBcIm9wYXF1ZVwiO1xuXG4gICAgLy8gY3JlYXRlIHRoZSBwYXJ0aWNsZSBnZW9tZXRyeVxuICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcblxuICAgIC8vIHNldCBwZXJzcGVjdGl2ZSBtb2RlXG4gICAgY29uc3QgcGVyc3BlY3RpdmUgPVxuICAgICAgb3B0aW9ucy5zeXN0ZW0ucGVyc3BlY3RpdmUgIT09IHVuZGVmaW5lZCA/IEJvb2xlYW4ob3B0aW9ucy5zeXN0ZW0ucGVyc3BlY3RpdmUpIDogdHJ1ZTtcblxuICAgIC8vIGNyZWF0ZSBwYXJ0aWNsZXMgbWF0ZXJpYWxcbiAgICBjb25zdCBwTWF0ZXJpYWwgPSBuZXcgUGFydGljbGVzTWF0ZXJpYWwoe1xuICAgICAgc2l6ZTogb3B0aW9ucy5wYXJ0aWNsZXMuc2l6ZSB8fCAxMCxcbiAgICAgIGNvbG9yOiBvcHRpb25zLnBhcnRpY2xlcy5nbG9iYWxDb2xvciB8fCAweGZmZmZmZixcbiAgICAgIGJsZW5kaW5nOiB0aHJlZUJsZW5kLFxuICAgICAgcGVyc3BlY3RpdmU6IHBlcnNwZWN0aXZlLFxuICAgICAgdHJhbnNwYXJlbnQ6IGlzVHJhbnNwYXJlbnQsXG4gICAgICBtYXA6IG9wdGlvbnMucGFydGljbGVzLnRleHR1cmUsXG4gICAgICBwZXJQYXJ0aWNsZUNvbG9yOiBCb29sZWFuKG9wdGlvbnMucGFydGljbGVzLmNvbG9yaXplKSxcbiAgICAgIGFscGhhVGVzdDogYmxlbmRpbmcgPT09IFwiYmxlbmRcIiAmJiBkZWZpbmVkKG9wdGlvbnMucGFydGljbGVzLnRleHR1cmUpLFxuICAgICAgY29uc3RTaXplOiBkZWZpbmVkKG9wdGlvbnMucGFydGljbGVzLmdsb2JhbFNpemUpID8gb3B0aW9ucy5wYXJ0aWNsZXMuZ2xvYmFsU2l6ZSA6IG51bGwsXG4gICAgICBkZXB0aFdyaXRlOiBkZWZpbmVkKG9wdGlvbnMuc3lzdGVtLmRlcHRoV3JpdGUpID8gb3B0aW9ucy5zeXN0ZW0uZGVwdGhXcml0ZSA6IHRydWUsXG4gICAgICBkZXB0aFRlc3Q6IGRlZmluZWQob3B0aW9ucy5zeXN0ZW0uZGVwdGhUZXN0KSA/IG9wdGlvbnMuc3lzdGVtLmRlcHRoVGVzdCA6IHRydWUsXG4gICAgICBwZXJQYXJ0aWNsZVJvdGF0aW9uOiBvcHRpb25zLnBhcnRpY2xlcy5yb3RhdGluZ1xuICAgIH0pO1xuXG4gICAgLy8gc3RvcmUgbWF0ZXJpYWwgZm9yIGxhdGVyIHVzYWdlXG4gICAgdGhpcy5tYXRlcmlhbCA9IHBNYXRlcmlhbDtcblxuICAgIC8vIHN0b3JlIHNwZWVkIGZhY3RvclxuICAgIHRoaXMuc3BlZWQgPSBvcHRpb25zLnN5c3RlbS5zcGVlZCB8fCAxO1xuXG4gICAgLy8gc2V0IHN5c3RlbSBzdGFydGluZyB0dGwgYW5kIG90aGVyIHBhcmFtc1xuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIC8vIGRlYWQgcGFydGljbGVzIGFuZCBhbGl2ZSBwYXJ0aWNsZXMgbGlzdHNcbiAgICB0aGlzLl9hbGl2ZVBhcnRpY2xlcyA9IFtdO1xuICAgIHRoaXMuX2RlYWRQYXJ0aWNsZXMgPSBbXTtcblxuICAgIC8vIGNyZWF0ZSBhbGwgcGFydGljbGVzICsgc2V0IGdlb21ldHJ5IGF0dHJpYnV0ZXNcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkocGFydGljbGVDb3VudCAqIDMpO1xuICAgIGNvbnN0IGNvbG9ycyA9IG9wdGlvbnMucGFydGljbGVzLmNvbG9yaXplID8gbmV3IEZsb2F0MzJBcnJheShwYXJ0aWNsZUNvdW50ICogMykgOiBudWxsO1xuICAgIGNvbnN0IGFscGhhcyA9IG9wdGlvbnMucGFydGljbGVzLmZhZGUgPyBuZXcgRmxvYXQzMkFycmF5KHBhcnRpY2xlQ291bnQgKiAxKSA6IG51bGw7XG4gICAgY29uc3Qgc2l6ZXMgPSBvcHRpb25zLnBhcnRpY2xlcy5zY2FsaW5nID8gbmV3IEZsb2F0MzJBcnJheShwYXJ0aWNsZUNvdW50ICogMSkgOiBudWxsO1xuICAgIGNvbnN0IHJvdGF0aW9ucyA9IG9wdGlvbnMucGFydGljbGVzLnJvdGF0aW5nID8gbmV3IEZsb2F0MzJBcnJheShwYXJ0aWNsZUNvdW50ICogMSkgOiBudWxsO1xuXG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPCBwYXJ0aWNsZUNvdW50OyBwKyspIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcCAqIDM7XG4gICAgICB2ZXJ0aWNlc1tpbmRleF0gPSB2ZXJ0aWNlc1tpbmRleCArIDFdID0gdmVydGljZXNbaW5kZXggKyAyXSA9IDA7XG5cbiAgICAgIGlmIChjb2xvcnMpIGNvbG9yc1tpbmRleF0gPSBjb2xvcnNbaW5kZXggKyAxXSA9IGNvbG9yc1tpbmRleCArIDJdID0gMTtcbiAgICAgIGlmIChhbHBoYXMpIGFscGhhc1twXSA9IDE7XG4gICAgICBpZiAoc2l6ZXMpIHNpemVzW3BdID0gMTtcbiAgICAgIGlmIChyb3RhdGlvbnMpIHJvdGF0aW9uc1twXSA9IDA7XG5cbiAgICAgIHRoaXMuX2RlYWRQYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUodGhpcykpO1xuICAgIH1cblxuICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIiwgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywgMykpO1xuICAgIGlmIChhbHBoYXMpIHtcbiAgICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuc2V0QXR0cmlidXRlKFwiYWxwaGFcIiwgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShhbHBoYXMsIDEpKTtcbiAgICB9XG4gICAgaWYgKGNvbG9ycykge1xuICAgICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoXCJjb2xvclwiLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGNvbG9ycywgMykpO1xuICAgIH1cbiAgICBpZiAoc2l6ZXMpIHtcbiAgICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuc2V0QXR0cmlidXRlKFwic2l6ZVwiLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHNpemVzLCAxKSk7XG4gICAgfVxuICAgIGlmIChyb3RhdGlvbnMpIHtcbiAgICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuc2V0QXR0cmlidXRlKFwicm90YXRpb25cIiwgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShyb3RhdGlvbnMsIDEpKTtcbiAgICB9XG4gICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5zZXREcmF3UmFuZ2UoMCwgMCk7XG5cbiAgICAvLyBzZXQgc2NhbGVcbiAgICB0aGlzLm1hdGVyaWFsLnNldEJhc2VTY2FsZShvcHRpb25zLnN5c3RlbS5zY2FsZSB8fCA0MDApO1xuXG4gICAgLy8gY3JlYXRlIHRoZSBwYXJ0aWNsZXMgc3lzdGVtXG4gICAgY29uc3QgcGFydGljbGVTeXN0ZW0gPSBuZXcgVEhSRUUuUG9pbnRzKHRoaXMucGFydGljbGVzR2VvbWV0cnksIHRoaXMubWF0ZXJpYWwubWF0ZXJpYWwpO1xuICAgIHBhcnRpY2xlU3lzdGVtLnNvcnRQYXJ0aWNsZXMgPSBpc1RyYW5zcGFyZW50O1xuXG4gICAgLy8gc2V0IGRlZmF1bHQgcmVuZGVyIG9yZGVyXG4gICAgaWYgKFBhcnRpY2xlc1N5c3RlbS5kZWZhdWx0UmVuZGVyT3JkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFydGljbGVTeXN0ZW0ucmVuZGVyT3JkZXIgPSBQYXJ0aWNsZXNTeXN0ZW0uZGVmYXVsdFJlbmRlck9yZGVyO1xuICAgIH1cblxuICAgIC8vIHN0b3JlIHBhcnRpY2xlcyBzeXN0ZW1cbiAgICB0aGlzLnBhcnRpY2xlU3lzdGVtID0gcGFydGljbGVTeXN0ZW07XG5cbiAgICAvLyB0byBtYWtlIHN1cmUgZmlyc3QgdXBkYXRlIHdpbGwgdXBkYXRlIGV2ZXJ5dGhpbmdcbiAgICB0aGlzLl9wb3NpdGlvbkRpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLl9jb2xvcnNEaXJ0eSA9IEJvb2xlYW4oY29sb3JzKTtcbiAgICB0aGlzLl9hbHBoYURpcnR5ID0gQm9vbGVhbihhbHBoYXMpO1xuICAgIHRoaXMuX3JvdGF0ZURpcnR5ID0gQm9vbGVhbihyb3RhdGlvbnMpO1xuXG4gICAgLy8gYWRkIGl0IHRvIHRoZSBwYXJlbnQgY29udGFpbmVyXG4gICAgaWYgKG9wdGlvbnMuY29udGFpbmVyKSB7XG4gICAgICB0aGlzLmFkZFRvKG9wdGlvbnMuY29udGFpbmVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogY3JlYXRlcyBhbiBpbnN0YW5jZSBmcm9tIGEganNvbiBkZWZpbml0aW9uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHsqfSBvcHRpb25zXG4gICAqIEByZXR1cm4ge1BhcnRpY2xlc1N5c3RlbX0gbmV3IFBhcnRpY2xlc1N5c3RlbSBjcmVhdGVkIGZyb20gdGhlIGpzb24tb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNsZXNTeXN0ZW1cbiAgICovXG4gIHN0YXRpYyBmcm9tSlNPTihvcHRpb25zLHJlc291cmNlcyA9IHt9KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gY29weUZyb21KU09OKG9wdGlvbnMsIHJlc291cmNlcyk7XG4gICAgcmVzdWx0LnN5c3RlbS5lbWl0dGVycyA9IG5ldyBFbWl0dGVyKHJlc3VsdC5zeXN0ZW0uZW1pdHRlcnMpO1xuICAgIHJldHVybiBuZXcgUGFydGljbGVzU3lzdGVtKHJlc3VsdCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGVtaXR0ZXIgdG8gdGhpcyBwYXJ0aWNsZXMgc3lzdGVtLlxuICAgKi9cbiAgYWRkRW1pdHRlcihlbWl0dGVyKSB7XG4gICAgdGhpcy5fZW1pdHRlcnMucHVzaChlbWl0dGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlIHRoZSBlbnRpcmUgc3lzdGVtLlxuICAgKi9cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICB0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSB3aGVuIHR0bCBpcyBleHBpcmVkIGFuZCB0aGVyZSBhcmUgbm8gbW9yZSBhbGl2ZSBwYXJ0aWNsZXMgaW4gc3lzdGVtLlxuICAgKi9cbiAgZ2V0IGZpbmlzaGVkKCkge1xuICAgIHJldHVybiB0aGlzLnR0bEV4cGlyZWQgJiYgdGhpcy5wYXJ0aWNsZXNDb3VudCA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaWYgdGhpcyBzeXN0ZW0ncyB0dGwgaXMgZXhwaXJlZC5cbiAgICovXG4gIGdldCB0dGxFeHBpcmVkKCkge1xuICAgIHJldHVybiB0aGlzLnR0bCAhPT0gdW5kZWZpbmVkICYmIHRoaXMudHRsIDw9IDA7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgcGFydGljbGVzIHN5c3RlbSB0dGwuXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLnR0bCA9IHRoaXMub3B0aW9ucy5zeXN0ZW0udHRsO1xuICAgIHRoaXMuYWdlID0gMDtcbiAgICB0aGlzLl90aW1lVG9VcGRhdGVCUyA9IDA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN5c3RlbSdzIHdvcmxkIHBvc2l0aW9uLlxuICAgKi9cbiAgZ2V0V29ybGRQb3NpdGlvbihyZXQpIHtcbiAgICByZXQgPSByZXQgfHwgbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB0aGlzLnBhcnRpY2xlU3lzdGVtLmdldFdvcmxkUG9zaXRpb24ocmV0KTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgcGFydGljbGVzIHN5c3RlbSB0byBzY2VuZSBvciBjb250YWluZXIuXG4gICAqIEBwYXJhbSB7VEhSRUUuT2JqZWN0M0R9IGNvbnRhaW5lciBDb250YWluZXIgdG8gYWRkIHN5c3RlbSB0by5cbiAgICovXG4gIGFkZFRvKGNvbnRhaW5lcikge1xuICAgIGNvbnRhaW5lci5hZGQodGhpcy5wYXJ0aWNsZVN5c3RlbSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgcGFydGljbGUncyBjb2xvciB2YWx1ZS5cbiAgICovXG4gIHNldENvbG9yKGluZGV4LCBjb2xvcikge1xuICAgIGluZGV4ICo9IDM7XG4gICAgY29uc3QgY29sb3JzID0gdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yLmFycmF5O1xuICAgIGNvbG9yc1tpbmRleF0gPSBjb2xvci5yO1xuICAgIGNvbG9yc1tpbmRleCArIDFdID0gY29sb3IuZztcbiAgICBjb2xvcnNbaW5kZXggKyAyXSA9IGNvbG9yLmI7XG4gICAgdGhpcy5fY29sb3JzRGlydHkgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIHBhcnRpY2xlJ3MgcG9zaXRpb24uXG4gICAqL1xuICBzZXRQb3NpdGlvbihpbmRleCwgcG9zaXRpb24pIHtcbiAgICBpbmRleCAqPSAzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5O1xuICAgIHZlcnRpY2VzW2luZGV4XSA9IHBvc2l0aW9uLng7XG4gICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvc2l0aW9uLnk7XG4gICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvc2l0aW9uLno7XG4gICAgdGhpcy5fcG9zaXRpb25EaXJ0eSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHBhcnRpY2xlJ3MgYWxwaGEuXG4gICAqL1xuICBzZXRBbHBoYShpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmF0dHJpYnV0ZXMuYWxwaGEuYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgdGhpcy5fYWxwaGFEaXJ0eSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHBhcnRpY2xlJ3Mgcm90YXRpb24uXG4gICAqL1xuICBzZXRSb3RhdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmF0dHJpYnV0ZXMucm90YXRpb24uYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgdGhpcy5fcm90YXRlRGlydHkgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBwYXJ0aWNsZSdzIHNpemUuXG4gICAqL1xuICBzZXRTaXplKGluZGV4LCB2YWx1ZSkge1xuICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuYXR0cmlidXRlcy5zaXplLmFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgIHRoaXMuX3NpemVEaXJ0eSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGhvdyBtYW55IHBhcnRpY2xlcyB0aGlzIHN5c3RlbSBjdXJyZW50bHkgc2hvd3MuXG4gICAqL1xuICBnZXQgcGFydGljbGVzQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FsaXZlUGFydGljbGVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbWF4IHBhcnRpY2xlcyBjb3VudC5cbiAgICovXG4gIGdldCBtYXhQYXJ0aWNsZXNDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWxpdmVQYXJ0aWNsZXMubGVuZ3RoICsgdGhpcy5fZGVhZFBhcnRpY2xlcy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogSWYgdHRsIGlzIGV4cGlyZWQgYW5kIHRoZXJlIGFyZSBubyBtb3JlIGFsaXZlIHBhcnRpY2xlcywgcmVtb3ZlIHN5c3RlbSBhbmQgZGlzcG9zZSBpdC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiByZW1vdmVkICYgZGlzcG9zZWQsIGZhbHNlIGlmIHN0aWxsIGFsaXZlLlxuICAgKi9cbiAgcmVtb3ZlQW5kRGlzcG9zZUlmRmluaXNoZWQoKSB7XG4gICAgaWYgKHRoaXMuZmluaXNoZWQpIHtcbiAgICAgIHRoaXMucmVtb3ZlU2VsZigpO1xuICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgYmluZE9iamVjdChvYmplY3QsIGxvY2tCb3VuZFJvdGF0aW9uKSB7XG4gICAgdGhpcy5ib3VuZE9iamVjdCA9IG9iamVjdDtcbiAgICB0aGlzLmxvY2tCb3VuZFJvdGF0aW9uID0gZGVmaW5lZChsb2NrQm91bmRSb3RhdGlvbikgPyBsb2NrQm91bmRSb3RhdGlvbiA6IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHBhcnRpY2xlcyBzeXN0ZW0uXG4gICAqL1xuICB1cGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgLy8gaWYgZGVsdGFUaW1lIGlzIHVuZGVmaW5lZCwgc2V0IGF1dG9tYXRpY2FsbHlcbiAgICBpZiAoZGVsdGFUaW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHRpbWVOb3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAuMDtcbiAgICAgIGRlbHRhVGltZSA9IHRpbWVOb3cgLSB0aGlzLl9sYXN0VGltZSB8fCAwO1xuICAgICAgdGhpcy5fbGFzdFRpbWUgPSB0aW1lTm93O1xuICAgIH1cblxuICAgIC8vIGRlbHRhIHRpbWUgaXMgMD8gc2tpcFxuICAgIGlmIChkZWx0YVRpbWUgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgdHRsXG4gICAgaWYgKHRoaXMudHRsICE9PSB1bmRlZmluZWQgJiYgdGhpcy50dGwgPiAwKSB7XG4gICAgICB0aGlzLnR0bCAtPSBkZWx0YVRpbWU7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgc3BlZWRcbiAgICBkZWx0YVRpbWUgKj0gdGhpcy5zcGVlZDtcblxuICAgIC8vIHN0b3JlIGxhc3QgZGVsdGEgdGltZVxuICAgIHRoaXMuZHQgPSBkZWx0YVRpbWU7XG4gICAgdGhpcy5hZ2UgKz0gZGVsdGFUaW1lO1xuXG4gICAgLy8gaWYgd2Ugc2hhbGwgZm9sbG93IGFuIG9iamVjdCxcbiAgICAvLyB3ZSBqdXN0IHVwZGF0ZSB0aGUgcG9zaXRpb24gb24gZWFjaCBmcmFtZSxcbiAgICAvLyB0byBiZSB0aGUgc2FtZSwgYXMgdGhlIG9iamVjdFxuICAgIGlmICh0aGlzLmJvdW5kT2JqZWN0KSB7XG4gICAgICBjb25zdCBwb3MgPSB0aGlzLmJvdW5kT2JqZWN0LnBvc2l0aW9uO1xuICAgICAgdGhpcy5wYXJ0aWNsZVN5c3RlbS5wb3NpdGlvbi5zZXQocG9zLngsIHBvcy55LCBwb3Mueik7XG4gICAgICBpZiAoIXRoaXMubG9ja0JvdW5kUm90YXRpb24pIHtcbiAgICAgICAgY29uc3Qgcm90ID0gdGhpcy5ib3VuZE9iamVjdC5yb3RhdGlvbjtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZVN5c3RlbS5yb3RhdGlvbi5zZXQocm90LngsIHJvdC55LCByb3Queik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdG8gY2hlY2sgaWYgbnVtYmVyIG9mIHBhcnRpY2xlcyBjaGFuZ2VkXG4gICAgY29uc3QgcHJldlBhcnRpY2xlc0NvdW50ID0gdGhpcy5fYWxpdmVQYXJ0aWNsZXMubGVuZ3RoO1xuXG4gICAgLy8gZ2VuZXJhdGUgcGFydGljbGVzICh1bmxlc3MgdHRsIGV4cGlyZWQpXG4gICAgaWYgKCF0aGlzLnR0bEV4cGlyZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZW1pdHRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgdG9TcGF3biA9IHRoaXMuX2VtaXR0ZXJzW2ldLnVwZGF0ZShkZWx0YVRpbWUsIHRoaXMpO1xuICAgICAgICBpZiAodG9TcGF3bikge1xuICAgICAgICAgIHRoaXMuc3Bhd25QYXJ0aWNsZXModG9TcGF3bik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgcGFydGljbGVzXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuX2FsaXZlUGFydGljbGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAvLyB1cGRhdGUgcGFydGljbGVcbiAgICAgIGNvbnN0IHBhcnRpY2xlID0gdGhpcy5fYWxpdmVQYXJ0aWNsZXNbaV07XG4gICAgICBwYXJ0aWNsZS51cGRhdGUoaSwgZGVsdGFUaW1lKTtcblxuICAgICAgLy8gZmluaXNoZWQ/IHJlbW92ZSBpdFxuICAgICAgaWYgKHBhcnRpY2xlLmZpbmlzaGVkKSB7XG4gICAgICAgIHRoaXMuX2FsaXZlUGFydGljbGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgdGhpcy5fZGVhZFBhcnRpY2xlcy5wdXNoKHBhcnRpY2xlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoaWRlIGludmlzaWJsZSB2ZXJ0aWNlc1xuICAgIGlmIChwcmV2UGFydGljbGVzQ291bnQgIT09IHRoaXMuX2FsaXZlUGFydGljbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5zZXREcmF3UmFuZ2UoMCwgdGhpcy5fYWxpdmVQYXJ0aWNsZXMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgdmVydGljZXMgZGlydHkgZmxhZ1xuICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRoaXMuX3Bvc2l0aW9uRGlydHk7XG4gICAgdGhpcy5fbmVlZEJvdW5kaW5nU3BoZXJlVXBkYXRlID0gdGhpcy5fbmVlZEJvdW5kaW5nU3BoZXJlVXBkYXRlIHx8IHRoaXMuX3Bvc2l0aW9uRGlydHk7XG4gICAgdGhpcy5fcG9zaXRpb25EaXJ0eSA9IGZhbHNlO1xuXG4gICAgLy8gc2V0IGNvbG9ycyBkaXJ0eSBmbGFnXG4gICAgaWYgKHRoaXMuX2NvbG9yc0RpcnR5KSB7XG4gICAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgdGhpcy5fY29sb3JzRGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgYWxwaGFzIGRpcnR5IGZsYWdcbiAgICBpZiAodGhpcy5fYWxwaGFEaXJ0eSkge1xuICAgICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5hdHRyaWJ1dGVzLmFscGhhLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2FscGhhRGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgc2l6ZSBkaXJ0eSBmbGFnXG4gICAgaWYgKHRoaXMuX3NpemVEaXJ0eSkge1xuICAgICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5hdHRyaWJ1dGVzLnNpemUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgdGhpcy5fc2l6ZURpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gc2V0IHJvdGF0aW9uIGRpcnR5IGZsYWdcbiAgICBpZiAodGhpcy5fcm90YXRlRGlydHkpIHtcbiAgICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuYXR0cmlidXRlcy5yb3RhdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLl9yb3RhdGVEaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBib3VuZGluZyBzcGhlcmVcbiAgICBpZiAodGhpcy5fbmVlZEJvdW5kaW5nU3BoZXJlVXBkYXRlKSB7XG4gICAgICB0aGlzLl90aW1lVG9VcGRhdGVCUyAtPSBkZWx0YVRpbWU7XG4gICAgICBpZiAodGhpcy5fdGltZVRvVXBkYXRlQlMgPD0gMCkge1xuICAgICAgICB0aGlzLl90aW1lVG9VcGRhdGVCUyA9IDAuMjtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiBmaW5pc2hlZCwgc3RvcCBoZXJlXG4gICAgaWYgKHRoaXMuZmluaXNoZWQpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3lzdGVtLm9uRmluaXNoKSB0aGlzLm9wdGlvbnMuc3lzdGVtLm9uRmluaXNoKHRoaXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNhbGwgb3B0aW9uYWwgdXBkYXRlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zeXN0ZW0ub25VcGRhdGUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5zeXN0ZW0ub25VcGRhdGUodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNwYXduIHBhcnRpY2xlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHF1YW50aXR5IE51bWJlciBvZiBwYXJ0aWNsZXMgdG8gc3Bhd24uIElmIGV4Y2VlZCBtYXggYXZhaWxhYmxlIHBhcnRpY2xlcyBpbiBzeXN0ZW0sIHNraXAuXG4gICAqL1xuICBzcGF3blBhcnRpY2xlcyhxdWFudGl0eSkge1xuICAgIC8vIHNwYXduIHBhcnRpY2xlc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVhbnRpdHk7ICsraSkge1xuICAgICAgLy8gbm8gYXZhaWxhYmxlIGRlYWQgcGFydGljbGVzPyBza2lwXG4gICAgICBpZiAodGhpcy5fZGVhZFBhcnRpY2xlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBzcGF3biBwYXJ0aWNsZVxuICAgICAgY29uc3QgcGFydGljbGUgPSB0aGlzLl9kZWFkUGFydGljbGVzLnBvcCgpO1xuICAgICAgcGFydGljbGUucmVzZXQoKTtcbiAgICAgIHRoaXMuX2FsaXZlUGFydGljbGVzLnB1c2gocGFydGljbGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgcGFydGljbGVzIHN5c3RlbSBmcm9tIGl0cyBwYXJlbnQuXG4gICAqL1xuICByZW1vdmVTZWxmKCkge1xuICAgIGlmICh0aGlzLnBhcnRpY2xlU3lzdGVtLnBhcmVudCkge1xuICAgICAgdGhpcy5wYXJ0aWNsZVN5c3RlbS5wYXJlbnQucmVtb3ZlKHRoaXMucGFydGljbGVTeXN0ZW0pO1xuICAgIH1cbiAgfVxufVxuXG4vLyBvdmVycmlkZSB0aGlzIHRvIHNldCBkZWZhdWx0IHJlbmRlcmluZyBvcmRlciB0byBhbGwgcGFydGljbGUgc3lzdGVtc1xuUGFydGljbGVzU3lzdGVtLmRlZmF1bHRSZW5kZXJPcmRlciA9IHVuZGVmaW5lZDtcblxuLy8gZXhwb3J0IHRoZSBwYXJ0aWNsZXMgc3lzdGVtXG5tb2R1bGUuZXhwb3J0cyA9IFBhcnRpY2xlc1N5c3RlbTtcbiIsIi8qKlxuICogTW9kdWxlIG1haW4gZW50cnkgcG9pbnQuXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgUGFydGljbGVzU3lzdGVtOiByZXF1aXJlKCcuL3BhcnRpY2xlc19zeXN0ZW0nKSxcbiAgICBQYXJ0aWNsZTogcmVxdWlyZSgnLi9wYXJ0aWNsZScpLFxuICAgIEVtaXR0ZXI6IHJlcXVpcmUoJy4vZW1pdHRlcicpLFxuICAgIFV0aWxzOiByZXF1aXJlKCcuL3V0aWxzJyksXG4gICAgUmFuZG9taXplcnM6IHJlcXVpcmUoJy4vcmFuZG9taXplcnMnKSxcbn0iXSwibmFtZXMiOlsiZ2V0UmFuZG9tQmV0d2VlbiIsIm1pbiIsIm1heCIsIk1hdGgiLCJyYW5kb20iLCJnZXRSYW5kb21XaXRoU3ByZWFkIiwiYmFzZVZhbCIsImV4dHJhUmFuZG9tIiwiZ2V0UmFuZG9tQ29sb3JCZXR3ZWVuIiwiY29sTWluIiwiY29sTWF4IiwiY2xvbmUiLCJUSFJFRSIsIkNvbG9yIiwiciIsImciLCJiIiwiZ2V0UmFuZG9tVmVjdG9yQmV0d2VlbiIsInZlY01pbiIsInZlY01heCIsIlZlY3RvcjMiLCJ4IiwieSIsInoiLCJsZXJwQ29sb3JzIiwiY29sQSIsImNvbEIiLCJhbHBoYSIsImxlcnAiLCJyYW5kb21pemVyT3JWYWx1ZSIsInZhbCIsImdlbmVyYXRlIiwiVE1QMSIsIlRNUDIiLCJQYXJ0aWNsZSIsInN5c3RlbSIsInJlc2V0Iiwib3B0aW9ucyIsInBhcnRpY2xlcyIsImFnZSIsImZpbmlzaGVkIiwiZ3Jhdml0eSIsInZlbG9jaXR5IiwiZ2V0Q29uc3RPclJhbmRvbVZlY3RvciIsInZlbG9jaXR5Qm9udXMiLCJhZGQiLCJhY2NlbGVyYXRpb24iLCJwb3NpdGlvbiIsIm9mZnNldCIsInR0bCIsIlV0aWxzIiwidHRsRXh0cmEiLCJzdGFydEFscGhhIiwiZW5kQWxwaGEiLCJzdGFydEFscGhhQ2hhbmdlQXQiLCJmYWRlIiwidW5kZWZpbmVkIiwiY29sb3JpemUiLCJCb29sZWFuIiwiY29sb3IiLCJzdGFydENvbG9yIiwiZW5kQ29sb3IiLCJzdGFydENvbG9yQ2hhbmdlQXQiLCJnZXRDb25zdE9yUmFuZG9tQ29sb3IiLCJzaXplIiwic3RhcnRTaXplIiwiZW5kU2l6ZSIsInN0YXJ0U2l6ZUNoYW5nZUF0Iiwic2NhbGluZyIsInJvdGF0aW9uIiwicm90YXRpb25TcGVlZCIsInJvdGF0aW5nIiwic3RhcnRXb3JsZFBvc2l0aW9uIiwib25VcGRhdGUiLCJvblNwYXduIiwiaW5kZXgiLCJkZWx0YVRpbWUiLCJmaXJzdFVwZGF0ZSIsIndvcmxkUG9zaXRpb24iLCJnZXRXb3JsZFBvc2l0aW9uIiwic2V0QWxwaGEiLCJzZXRDb2xvciIsInNldFNpemUiLCJzZXRSb3RhdGlvbiIsInBvc2l0aW9uVG9TZXQiLCJzZXQiLCJzeXN0ZW1Qb3MiLCJzdWIiLCJzZXRQb3NpdGlvbiIsImNvbnN0VmFsT3JSYW5kb21pemVyIiwicmV0dXJuTnVsbElmVW5kZWZpbmVkIiwiY29kZSIsIlBhcnRpY2xlc01hdGVyaWFsIiwidW5pZm9ybXMiLCJnbG9iYWxDb2xvciIsInZhbHVlIiwicmVuZGVyZXJTY2FsZSIsImZsYWdzIiwicGVyc3BlY3RpdmUiLCJtYXAiLCJfdGV4dHVyZSIsInBlclBhcnRpY2xlQ29sb3IiLCJwZXJQYXJ0aWNsZVJvdGF0aW9uIiwiY29uc3RTaXplIiwiYWxwaGFUZXN0Iiwic2hhZGVyTWF0ZXJpYWwiLCJTaGFkZXJNYXRlcmlhbCIsInZlcnRleFNoYWRlciIsIlZlcnRleFNoYWRlckNvZGUiLCJmcmFnbWVudFNoYWRlciIsIkZyYWdtZW50U2hhZGVyQ29kZSIsInRyYW5zcGFyZW50IiwiYmxlbmRpbmciLCJ2ZXJ0ZXhDb2xvcnMiLCJWZXJ0ZXhDb2xvcnMiLCJkZXB0aFdyaXRlIiwiZGVwdGhUZXN0IiwibWF0ZXJpYWwiLCJkaXNwb3NlIiwiUmFuZG9taXplciIsIkVycm9yIiwiQm94UmFuZG9taXplciIsInJhbmRNaW51c1RvT25lIiwiU3BoZXJlUmFuZG9taXplciIsIm1heFJhZGl1cyIsIm1pblJhZGl1cyIsInNjYWxlciIsIm1pblZlY3RvciIsIm1heFZlY3RvciIsInJldCIsImNsYW1wIiwibm9ybWFsaXplIiwibXVsdGlwbHlTY2FsYXIiLCJtdWx0aXBseSIsIkNvbG9yc1JhbmRvbWl6ZXIiLCJNaW5NYXhSYW5kb21pemVyIiwicmVxdWlyZSQkMCIsInJlcXVpcmUkJDEiLCJyZXF1aXJlJCQyIiwicmVxdWlyZSQkMyIsInJlcXVpcmUkJDQiLCJFbWl0dGVyIiwiaW50ZXJ2YWwiLCJ0aW1lVG9TcGF3biIsIm9uU3Bhd25CdXJzdCIsIm9uSW50ZXJ2YWwiLCJkZXRvcmV0aW5nTWluVHRsIiwiZGV0b3JhdGVGYWN0b3IiLCJOVUxMX0FSUkFZIiwiQkxFTkRJTkdfT1BUSU9OUyIsIm9wYXF1ZSIsIk5vQmxlbmRpbmciLCJhZGRpdGl2ZSIsIkFkZGl0aXZlQmxlbmRpbmciLCJNdWx0aXBseUJsZW5kaW5nIiwiYmxlbmQiLCJOb3JtYWxCbGVuZGluZyIsImRlZmluZWQiLCJjb3B5RnJvbUpTT04iLCJvYmplY3QiLCJyZXNvdXJjZXMiLCJBcnJheSIsImlzQXJyYXkiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwicHVzaCIsIm1vZHVsZVR5cGUiLCJrZXkiLCJwYXJhbXMiLCJDIiwiUmFuZG9taXplcnMiLCJQYXJ0aWNsZXNTeXN0ZW0iLCJib3VuZE9iamVjdCIsImxvY2tCb3VuZFJvdGF0aW9uIiwicE9wdGlvbnMiLCJjb25zb2xlIiwid2FybiIsImdsb2JhbFNpemUiLCJwYXJ0aWNsZUNvdW50IiwicGFydGljbGVzQ291bnQiLCJ0aHJlZUJsZW5kIiwiX2VtaXR0ZXJzIiwiZW1pdHRlcnMiLCJhZGRFbWl0dGVyIiwiaXNUcmFuc3BhcmVudCIsInBhcnRpY2xlc0dlb21ldHJ5IiwiQnVmZmVyR2VvbWV0cnkiLCJwTWF0ZXJpYWwiLCJ0ZXh0dXJlIiwic3BlZWQiLCJfYWxpdmVQYXJ0aWNsZXMiLCJfZGVhZFBhcnRpY2xlcyIsInZlcnRpY2VzIiwiRmxvYXQzMkFycmF5IiwiY29sb3JzIiwiYWxwaGFzIiwic2l6ZXMiLCJyb3RhdGlvbnMiLCJwIiwic2V0QXR0cmlidXRlIiwiQnVmZmVyQXR0cmlidXRlIiwic2V0RHJhd1JhbmdlIiwic2V0QmFzZVNjYWxlIiwic2NhbGUiLCJwYXJ0aWNsZVN5c3RlbSIsIlBvaW50cyIsInNvcnRQYXJ0aWNsZXMiLCJkZWZhdWx0UmVuZGVyT3JkZXIiLCJyZW5kZXJPcmRlciIsIl9wb3NpdGlvbkRpcnR5IiwiX2NvbG9yc0RpcnR5IiwiX2FscGhhRGlydHkiLCJfcm90YXRlRGlydHkiLCJjb250YWluZXIiLCJhZGRUbyIsImVtaXR0ZXIiLCJ0dGxFeHBpcmVkIiwiX3RpbWVUb1VwZGF0ZUJTIiwiYXR0cmlidXRlcyIsImFycmF5IiwiX3NpemVEaXJ0eSIsInJlbW92ZVNlbGYiLCJ0aW1lTm93IiwiRGF0ZSIsImdldFRpbWUiLCJfbGFzdFRpbWUiLCJkdCIsInBvcyIsInJvdCIsInByZXZQYXJ0aWNsZXNDb3VudCIsInRvU3Bhd24iLCJ1cGRhdGUiLCJzcGF3blBhcnRpY2xlcyIsInBhcnRpY2xlIiwic3BsaWNlIiwibmVlZHNVcGRhdGUiLCJfbmVlZEJvdW5kaW5nU3BoZXJlVXBkYXRlIiwiY29tcHV0ZUJvdW5kaW5nU3BoZXJlIiwib25GaW5pc2giLCJxdWFudGl0eSIsInBvcCIsInBhcmVudCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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
