var Partykals = (function (THREE) {
  'use strict';

  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

  var THREE__default = /*#__PURE__*/_interopDefaultLegacy(THREE);

  function _typeof(obj) {
    "@babel/helpers - typeof";

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      _typeof = function (obj) {
        return typeof obj;
      };
    } else {
      _typeof = function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return _typeof(obj);
  }

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
  }

  function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
  }

  function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };

    return _setPrototypeOf(o, p);
  }

  function _isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  function _construct(Parent, args, Class) {
    if (_isNativeReflectConstruct()) {
      _construct = Reflect.construct;
    } else {
      _construct = function _construct(Parent, args, Class) {
        var a = [null];
        a.push.apply(a, args);
        var Constructor = Function.bind.apply(Parent, a);
        var instance = new Constructor();
        if (Class) _setPrototypeOf(instance, Class.prototype);
        return instance;
      };
    }

    return _construct.apply(null, arguments);
  }

  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  }

  function _possibleConstructorReturn(self, call) {
    if (call && (typeof call === "object" || typeof call === "function")) {
      return call;
    }

    return _assertThisInitialized(self);
  }

  function _createSuper(Derived) {
    var hasNativeReflectConstruct = _isNativeReflectConstruct();

    return function _createSuperInternal() {
      var Super = _getPrototypeOf(Derived),
          result;

      if (hasNativeReflectConstruct) {
        var NewTarget = _getPrototypeOf(this).constructor;

        result = Reflect.construct(Super, arguments, NewTarget);
      } else {
        result = Super.apply(this, arguments);
      }

      return _possibleConstructorReturn(this, result);
    };
  }

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
  }

  function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
  }

  function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  var utils={/**
     * Returns a random number between min (inclusive) and max (exclusive)
     */getRandomBetween:function getRandomBetween(min,max){return Math.random()*(max-min)+min;},/**
     * Get random between baseVal and baseVal + extraRandom.
     * If 'extraRandom' is not defined, will just return baseVal.
     * If baseVal is not defined, will return white.
     */getRandomWithSpread:function getRandomWithSpread(baseVal,extraRandom){if(!extraRandom){return baseVal;}return this.getRandomBetween(baseVal,baseVal+extraRandom);},/**
     * Get random between two colors.
     * If 'colMax' is not defined, will just return colMin or white color if not defined.
     */getRandomColorBetween:function getRandomColorBetween(colMin,colMax,target){target=target||new THREE__default['default'].Color();if(!colMax){return colMin?target.copy(colMin):target.setRGB(0,0,0);}return target.setRGB(this.getRandomBetween(colMin.r,colMax.r),this.getRandomBetween(colMin.g,colMax.g),this.getRandomBetween(colMin.b,colMax.b));},// getRandomColorBetween: function (colMin, colMax) {
  //   if (!colMax) {
  //     return colMin ? colMin.clone() : new THREE.Color();
  //   }
  //   return new THREE.Color(
  //     this.getRandomBetween(colMin.r, colMax.r),
  //     this.getRandomBetween(colMin.g, colMax.g),
  //     this.getRandomBetween(colMin.b, colMax.b)
  //   );
  // },
  /**
     * Get random between two vectors.
     * If 'vecMax' is not defined, will just return vecMin or zero point if not defined.
     */getRandomVectorBetween:function getRandomVectorBetween(vecMin,vecMax,target){target=null;target=target||new THREE__default['default'].Vector3();if(!vecMax){return vecMin?target.copy(vecMin):target.set(0,0,0);}return target.set(this.getRandomBetween(vecMin.x,vecMax.x),this.getRandomBetween(vecMin.y,vecMax.y),this.getRandomBetween(vecMin.z,vecMax.z));},/**
     * Lerp between two colors, returning a new color without changing any of them.
     */lerpColors:function lerpColors(colA,colB,alpha,target){target=target||new THREE__default['default'].Color();return target.copy(colA).lerp(colB,alpha);},/**
     * Lerp between two numbers.
     */lerp:function lerp(x,y,alpha){return x*(1-alpha)+y*alpha;},/**
     * Get const numeric value or generate random value from randomizer.
     */randomizerOrValue:function randomizerOrValue(val){return (val.generate?val.generate():val)||0;}};

  var TMP1=new THREE__default['default'].Vector3(0,0,0);var TMP2=new THREE__default['default'].Vector3(0,0,0);var TMP_COLOR=new THREE__default['default'].Color(1,1,1);/**
   * A single particle metadata in the particles system.
   * We attach this to the particle's vertices when in system's geometry.
   */var Particle=/*#__PURE__*/function(){/**
     * Create the particle.
     * @param {ParticlesSystem} system The particles system this particle belongs to.
     */function Particle(system){_classCallCheck(this,Particle);this.system=system;/*  this.velocity = null;
      this.acceleration = null; // optional
      this.position = null;
      this.startColor = null;
      this.endColor = null;
      this.gravityX = 0;
      this.gravityY = 0;
      this.gravityZ = 0;
      this.age = 0;
      this.finished = false;
      this.ttl = null;
      this.alpha = null;
      this.startAlpha = null;
      this.endAlpha = null;
      this.startAlphaChangeAt = null;
      this.startColorChangeAt = null;
      this.startSizeChangeAt = null;
      this.startWorldPosition = null;
      this.onUpdate = null;*/this.reset();}/**
     * Reset the particle.
     */_createClass(Particle,[{key:"reset",value:function reset(){var options=this.system.options.particles;// reset particle age and if alive
  this.age=0;this.finished=false;// store gravity force
  this.gravityX=options.gravityX;this.gravityY=options.gravityY||options.gravity;this.gravityZ=options.gravityZ;// particle's velocity and velocity bonus
  this.velocity=getConstOrRandomVector(this.velocity,options.velocity);if(options.velocityBonus){this.velocity.add(options.velocityBonus);}// particle's acceleration.
  this.acceleration=getConstOrRandomVector(this.acceleration,options.acceleration,true);// starting offset
  this.position=getConstOrRandomVector(this.position,options.offset);// set particle's ttl
  this.ttl=utils.getRandomWithSpread(options.ttl||1,options.ttlExtra)||1;// set per-particle alpha
  this.alpha=this.startAlpha=this.endAlpha=null;this.startAlphaChangeAt=(options.startAlphaChangeAt||0)/this.ttl;if(options.fade){// const alpha throughout particle's life?
  if(options.alpha!==undefined){this.alpha=utils.randomizerOrValue(options.alpha);}// shifting alpha?
  else {this.startAlpha=utils.randomizerOrValue(options.startAlpha);this.endAlpha=utils.randomizerOrValue(options.endAlpha);}}// set per-particle coloring
  this.colorize=Boolean(options.colorize);this.color=this.startColor=this.endColor=null;this.startColorChangeAt=(options.startColorChangeAt||0)/this.ttl;if(this.colorize){// const color throughout particle's life?
  if(options.color){this.color=getConstOrRandomColor(this.color,options.color);}// shifting color?
  else {this.startColor=getConstOrRandomColor(this.startColor,options.startColor);this.endColor=getConstOrRandomColor(this.endColor,options.endColor);}}// set per-particle size
  this.size=this.startSize=this.endSize=null;this.startSizeChangeAt=(options.startSizeChangeAt||0)/this.ttl;if(options.scaling){// const size throughout particle's life?
  if(options.size!==undefined){this.size=utils.randomizerOrValue(options.size);}// shifting size?
  else {this.startSize=utils.randomizerOrValue(options.startSize);this.endSize=utils.randomizerOrValue(options.endSize);}}// set per-particle rotation
  this.rotation=this.rotationSpeed=null;if(options.rotating){this.rotation=utils.randomizerOrValue(options.rotation||0);this.rotationSpeed=utils.randomizerOrValue(options.rotationSpeed||0);}// used to keep constant world position
  this.startWorldPosition=null;// store on-update callback, if defined
  this.onUpdate=options.onUpdate;// call custom spawn method
  if(options.onSpawn){options.onSpawn(this);}}/**
     * Update the particle (call this every frame).
     * @param {*} index Particle index in system.
     * @param {*} deltaTime Update delta time.
     */},{key:"update",value:function update(index,deltaTime){// if finished, skip
  if(this.finished){return;}// is it first update call?
  var firstUpdate=this.age===0;// do first-update stuff
  if(firstUpdate){// if its first update and use world position, store current world position
  if(this.system.options.particles.worldPosition){this.startWorldPosition=this.system.getWorldPosition();}// set constant alpha
  if(this.alpha!==null||this.startAlpha!==null){this.system.setAlpha(index,this.alpha||this.startAlpha);}// set constant color
  if(this.color!==null||this.startColor!==null){this.system.setColor(index,this.color||this.startColor);}// set constant size
  if(this.size!==null||this.startSize!==null){this.system.setSize(index,this.size||this.startSize);}// set start rotation
  if(this.rotation!==null){this.system.setRotation(index,this.rotation);}}// do normal updates
  else {// set animated color
  if(this.startColor&&this.age>=this.startColorChangeAt){this.system.setColor(index,utils.lerpColors(this.startColor,this.endColor,this.startColorChangeAt?(this.age-this.startColorChangeAt)/(1-this.startColorChangeAt):this.age,TMP_COLOR));}// set animated alpha
  if(this.startAlpha!=null&&this.age>=this.startAlphaChangeAt){this.system.setAlpha(index,utils.lerp(this.startAlpha,this.endAlpha,this.startAlphaChangeAt?(this.age-this.startAlphaChangeAt)/(1-this.startAlphaChangeAt):this.age));}// set animated size
  if(this.startSize!=null&&this.age>=this.startSizeChangeAt){this.system.setSize(index,utils.lerp(this.startSize,this.endSize,this.startSizeChangeAt?(this.age-this.startSizeChangeAt)/(1-this.startSizeChangeAt):this.age));}}// set animated rotation
  if(this.rotationSpeed){this.rotation+=this.rotationSpeed*deltaTime;this.system.setRotation(index,this.rotation);}// update position
  if(this.velocity){// add gravity force
  if(this.gravityX)this.velocity.x+=this.gravityX*deltaTime;if(this.gravityY)this.velocity.y+=this.gravityY*deltaTime;if(this.gravityZ)this.velocity.z+=this.gravityZ*deltaTime;this.position.x+=this.velocity.x*deltaTime;this.position.y+=this.velocity.y*deltaTime;this.position.z+=this.velocity.z*deltaTime;}var positionToSet=TMP1.set(this.position.x,this.position.y,this.position.z);// to maintain world position
  if(this.startWorldPosition){var systemPos=this.system.getWorldPosition(TMP2);// returns TMP2
  systemPos.sub(this.startWorldPosition);positionToSet=positionToSet.sub(systemPos);}// set position in system
  // be aware, that positionToSet is a temp-vector at this point,
  // so do not store it anywhere
  this.system.setPosition(index,positionToSet);// update velocity
  if(this.acceleration&&this.velocity){this.velocity.x+=this.acceleration.x*deltaTime;this.velocity.y+=this.acceleration.y*deltaTime;this.velocity.z+=this.acceleration.z*deltaTime;}// update age. note: use ttl as factor, so that age is always between 0 and 1
  this.age+=deltaTime/this.ttl;// call custom methods
  if(this.onUpdate){this.onUpdate(this);}// is done? set as finished and continue to set final state
  if(this.age>1){this.age=1;this.finished=true;}}/**
     * Get particle's world position.
     */},{key:"worldPosition",get:function get(){return this.system.getWorldPosition().add(this.position);}}]);return Particle;}();/**
   * Return either the value of a randomizer, a const value, or a default empty or null.
   */function getConstOrRandomVector(target,constValOrRandomizer,returnNullIfUndefined){target=target||new THREE__default['default'].Vector3();if(!constValOrRandomizer)return returnNullIfUndefined?null:target.set(0,0,0);if(constValOrRandomizer.generate)return constValOrRandomizer.generate(target);return target.copy(constValOrRandomizer);}/**
   * Return either the value of a randomizer, a const value, or a default empty or null.
   */function getConstOrRandomColor(target,constValOrRandomizer,returnNullIfUndefined){target=target||new THREE__default['default'].Color();if(!constValOrRandomizer)return returnNullIfUndefined?null:target.setRGB(1,1,1);if(constValOrRandomizer.generate)return constValOrRandomizer.generate(target);return target.copy(constValOrRandomizer);}var particle=Particle;

  /**
   * Implement vertex shader for our particles.
   * Author: Ronen Ness.
   * Since: 2019.
   */var code$1="\n// attributes we get from geometry\nattribute float alpha;\n\n// per-particle size\n#ifdef CONST_SIZE\n    uniform float constSize;\n#else\n    attribute float size;\n#endif\n\n// per-particle rotation\n#ifdef ROTATION\n    attribute float rotation;\n#endif\n\n// system scale when using perspective mode\n#ifdef PERSPECTIVE\n    uniform float rendererScale;\n#endif\n\n// output params for fragment shader\nvarying float vAlpha;\n\n// set per-particle color\n#ifdef COLORING\n    varying vec3 vColor;\n#endif\n\n// get per-particle rotation\n#ifdef ROTATION\n    varying float vRotation;\n#endif\n\n// vertex shader main\nvoid main() \n{\n    // alpha and color\n    vAlpha = alpha;\n\n    // set color\n    #ifdef COLORING\n        vColor = color;\n    #endif\n\n    // set const size\n    #ifdef CONST_SIZE\n        float size = constSize;\n    #endif\n\n    // set position\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n\n    // apply rotation\n    #ifdef ROTATION\n        vRotation = rotation;\n    #endif\n    \n    // set size - either perspective or constant\n    #ifdef PERSPECTIVE\n        gl_PointSize = size * (rendererScale / length(mvPosition.xyz));\n    #else\n        gl_PointSize = size;\n    #endif\n}\n";var vertex=code$1;

  /**
   * Implement fragment shader for our particles.
   * Author: Ronen Ness.
   * Since: 2019.
   */var code="\n// material uniforms\nuniform vec3 globalColor;\n\n// params we get from vertex shader\nvarying float vAlpha;\n\n// per-particle color from vertex shader\n#ifdef COLORING\n    varying vec3 vColor;\n#endif\n\n// per-particle rotation from vertex shader\n#ifdef ROTATION\n    varying float vRotation;\n#endif\n\n// diffuse texture\n#ifdef TEXTURE\n    uniform sampler2D _texture;\n#endif\n\n// fragment shader main\nvoid main() \n{\n    // set default color if don't have per-particle colors\n    #ifndef COLORING\n        vec3 vColor = vec3(1,1,1);\n    #endif\n\n    // texture\n    #ifdef TEXTURE\n\n        // use rotation (rotate texture)\n        #ifdef ROTATION\n            float mid = 0.5;\n            vec2 rotated = vec2(cos(vRotation) * (gl_PointCoord.x - mid) + sin(vRotation) * (gl_PointCoord.y - mid) + mid,\n                          cos(vRotation) * (gl_PointCoord.y - mid) - sin(vRotation) * (gl_PointCoord.x - mid) + mid);\n            vec4 textureCol = texture2D(_texture,  rotated);\n        // no rotation\n        #else\n            vec2 coords = vec2((gl_PointCoord.x - 0.5) + 0.5, (gl_PointCoord.y - 0.5) + 0.5);\n            vec4 textureCol = texture2D(_texture, coords);\n        #endif\n\n        // get color with texture\n        gl_FragColor = vec4( globalColor * vColor, vAlpha ) * textureCol;\n        \n    // no texture (colors only)\n    #else\n        gl_FragColor = vec4( globalColor * vColor, vAlpha );\n    #endif\n\n    // check if need to discard pixel\n    #ifdef ALPHA_TEST\n        if (gl_FragColor.a < 0.00001) { discard; }\n    #endif\n}\n";var fragment=code;

  /**
   * Material for particles.
   */var ParticlesMaterial=/*#__PURE__*/function(){/**
       * Create the particles material.
       * @param {*} options Material options.
       * @param {Number} options.color Material general color.
       * @param {Boolean} options.transparent Should we support transparency?
       * @param {THREE.Blending} options.blending Blending mode.
       * @param {THREE.Texture} options.map Texture to use.
       * @param {Boolean} options.perspective If true, will scale particles based on distance from camera.
       * @param {Boolean} options.perParticleColor If true, will allow per-particle colors.
       * @param {Boolean} options.perParticleRotation If true, will allow per-particle rotation.
       * @param {Number} options.constSize If exist, will set const size to all particles.
       * @param {Boolean} options.alphaTest If true, will perform alpha test and discard transparent pixels.
       * @param {Boolean} options.depthWrite If true, will perform depth write.
       * @param {Boolean} options.depthTest If true, will perform depth test.
       */function ParticlesMaterial(options){_classCallCheck(this,ParticlesMaterial);// store options
  this.options=options;// uniforms
  var uniforms={globalColor:{value:new THREE__default['default'].Color(options.color||0xffffff)},rendererScale:{value:1}};// set flags to change shaders behavior
  var flags="";if(options.perspective){flags+="#define PERSPECTIVE\n";}if(options.map){flags+="#define TEXTURE\n";uniforms._texture={value:options.map};}if(options.perParticleColor){flags+="#define COLORING\n";}if(options.perParticleRotation){flags+="#define ROTATION\n";}if(options.constSize){flags+="#define CONST_SIZE\n";uniforms.constSize={value:options.constSize};}if(options.alphaTest){flags+="#define ALPHA_TEST\n";}flags+="\n";// create the internal material
  var shaderMaterial=new THREE__default['default'].ShaderMaterial({uniforms:uniforms,vertexShader:flags+vertex,fragmentShader:flags+fragment,transparent:Boolean(options.transparent),blending:options.blending,vertexColors:THREE__default['default'].VertexColors,depthWrite:Boolean(options.depthWrite),depthTest:Boolean(options.depthTest)});this.material=shaderMaterial;}/**
       * Dispose the material.
       */_createClass(ParticlesMaterial,[{key:"dispose",value:function dispose(){this.material.dispose();}/**
       * Set unified scale for all particles.
       */},{key:"setBaseScale",value:function setBaseScale(val){if(this.options.perspective){this.material.uniforms.rendererScale.value=val;}}}]);return ParticlesMaterial;}();var material=ParticlesMaterial;

  /**
   * Define interface for a helper class to generate random vectors and colors.
   * Author: Ronen Ness.
   * Since: 2019.
   */ /**
   * Base class for all vector randomizers.
   */var Randomizer=/*#__PURE__*/function(){function Randomizer(){_classCallCheck(this,Randomizer);}_createClass(Randomizer,[{key:"generate",value:/**
     * Generate and return a random value.
     * This is the main method to implement.
     */function generate(){throw new Error("Not implemented.");}}]);return Randomizer;}();// export the base class
  var randomizer=Randomizer;

  /**
   * Box vector randomizer.
   */var BoxRandomizer=/*#__PURE__*/function(_Randomizer){_inherits(BoxRandomizer,_Randomizer);var _super=_createSuper(BoxRandomizer);/**
     * Create the box randomizer from min and max vectors to randomize between.
     */function BoxRandomizer(min,max){var _this;_classCallCheck(this,BoxRandomizer);_this=_super.call(this);_this.min=min||new THREE__default['default'].Vector3(-1,-1,-1);_this.max=max||new THREE__default['default'].Vector3(1,1,1);return _this;}/**
     * Generate a random vector.
     */_createClass(BoxRandomizer,[{key:"generate",value:function generate(target){return utils.getRandomVectorBetween(this.min,this.max,target);}}]);return BoxRandomizer;}(randomizer);// export the randomizer class
  var box_randomizer=BoxRandomizer;

  var MIN_VEC=new THREE__default['default'].Vector3(-1,-1,-1);var MAX_VEC=new THREE__default['default'].Vector3(1,1,1);// random between -1 and 1.
  function randMinusToOne(){return Math.random()*2-1;}/**
   * Sphere vector randomizer.
   */var SphereRandomizer=/*#__PURE__*/function(_Randomizer){_inherits(SphereRandomizer,_Randomizer);var _super=_createSuper(SphereRandomizer);/**
     * Create the sphere randomizer from radius and optional scaler.
     */function SphereRandomizer(maxRadius,minRadius,scaler,minVector,maxVector){var _this;_classCallCheck(this,SphereRandomizer);_this=_super.call(this);_this.maxRadius=maxRadius||1;_this.minRadius=minRadius||0;_this.scaler=scaler;_this.minVector=minVector;_this.maxVector=maxVector;return _this;}/**
     * Generate a random vector.
     */_createClass(SphereRandomizer,[{key:"generate",value:function generate(target){target=target||new THREE__default['default'].Vector3();// create random vector
  target.set(randMinusToOne(),randMinusToOne(),randMinusToOne());// clamp values
  if(this.minVector||this.maxVector){target.clamp(this.minVector||MIN_VEC,this.maxVector||MAX_VEC);}// normalize and multiply by radius
  target.normalize().multiplyScalar(utils.getRandomBetween(this.minRadius,this.maxRadius));// apply scaler
  if(this.scaler){target.multiply(this.scaler);}return target;}}]);return SphereRandomizer;}(randomizer);// export the randomizer class
  var sphere_randomizer=SphereRandomizer;

  /**
   * Box vector randomizer.
   */var ColorsRandomizer=/*#__PURE__*/function(_Randomizer){_inherits(ColorsRandomizer,_Randomizer);var _super=_createSuper(ColorsRandomizer);/**
     * Create the box randomizer from min and max colors to randomize between.
     */function ColorsRandomizer(min,max){var _this;_classCallCheck(this,ColorsRandomizer);_this=_super.call(this);_this.min=min||new THREE__default['default'].Color(0,0,0);_this.max=max||new THREE__default['default'].Color(1,1,1);return _this;}/**
     * Generate a random color.
     */_createClass(ColorsRandomizer,[{key:"generate",value:function generate(target){return utils.getRandomColorBetween(this.min,this.max,target);}}]);return ColorsRandomizer;}(randomizer);// export the randomizer class
  var colors_randomizer=ColorsRandomizer;

  /**
   * Min-Max number randomizer.
   */var MinMaxRandomizer=/*#__PURE__*/function(_Randomizer){_inherits(MinMaxRandomizer,_Randomizer);var _super=_createSuper(MinMaxRandomizer);/**
     * Create the min-max randomizer from min and max.
     */function MinMaxRandomizer(min,max){var _this;_classCallCheck(this,MinMaxRandomizer);_this=_super.call(this);_this.min=min;_this.max=max;return _this;}/**
     * Generate a random number.
     */_createClass(MinMaxRandomizer,[{key:"generate",value:function generate(){return utils.getRandomBetween(this.min,this.max);}}]);return MinMaxRandomizer;}(randomizer);// export the randomizer class
  var minmax_randomizer=MinMaxRandomizer;

  var randomizers={Randomizer:randomizer,BoxRandomizer:box_randomizer,SphereRandomizer:sphere_randomizer,ColorsRandomizer:colors_randomizer,MinMaxRandomizer:minmax_randomizer};

  var randomizerOrValue=utils.randomizerOrValue;/**
   * Emitter class to determine rate of particles generation.
   */var Emitter=/*#__PURE__*/function(){/**
       * Create the emitter class.
       * @param {*} options Emitter options.
       * @param {*} options.onSpawnBurst Burst of particles when particle system starts; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random numbers.
       * @param {*} options.onInterval Burst of particles every interval; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random numbers.
       * @param {Number} options.interval Spawn interval time, in seconds; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random numbers.
       * @param {Number} options.detoretingMinTtl If provided and particle system's ttl is below this value, will start emitting less and less until stopping completely.
       */function Emitter(options){_classCallCheck(this,Emitter);this.options=options;options.interval=options.interval||1;this.age=0;this.timeToSpawn=Math.random()*randomizerOrValue(options.interval);}/**
       * Update emitter and return how many particles should be generated this frame.
       */_createClass(Emitter,[{key:"update",value:function update(deltaTime,system){// particles to generate
  var ret=0;// first update? do burst
  if(this.age===0&&this.options.onSpawnBurst){ret+=randomizerOrValue(this.options.onSpawnBurst);}// update age
  this.age+=deltaTime;// no interval emitting? skip
  if(!this.options.onInterval){return ret;}// check if inverval expired
  this.timeToSpawn-=deltaTime;if(this.timeToSpawn<=0){this.timeToSpawn=randomizerOrValue(this.options.interval);ret+=randomizerOrValue(this.options.onInterval);}// do detoration
  if(this.options.detoretingMinTtl&&system.ttl<this.options.detoretingMinTtl){var detorateFactor=system.ttl/this.options.detoretingMinTtl;ret*=detorateFactor;}// return number of particles to generate
  return ret;}}]);return Emitter;}();// export the emitter class
  var emitter=Emitter;

  var NULL_ARRAY=[];var BLENDING_OPTIONS={opaque:THREE__default['default'].NoBlending,additive:THREE__default['default'].AdditiveBlending,multiply:THREE__default['default'].MultiplyBlending,blend:THREE__default['default'].NormalBlending};// to check if value is defined
  function defined(val){return val!==undefined&&val!==null;}/**
   * deep-copies the settings,
   * and replaces the objects that have a "moduleType"
   * value with the appropriate class from partykals.
   *
   * a object, that can be replaced must look like
   * { moduleType:"e.g. ColorsRandomizer", values:[optional parameters]}
   *
   * @param {Object} object
   * @returns the copied object
   */function copyFromJSON(object,resources){if(!object)return object;// can either be 0, undefined, null, "" -> we do not care anyways
  if(_typeof(object)!=="object"){return object;}if(Array.isArray(object)){var result=[];for(var i=0;i<object.length;i++){result.push(copyFromJSON(object[i],resources));}return result;}// if object, create a new object and
  // copy all sub values
  if(!object.moduleType){var _result={};for(var key in object){_result[key]=copyFromJSON(object[key],resources);}return _result;}if(object.moduleType==="texture"){return resources[object.params[0]];}// if we need to convert to object
  var C=THREE__default['default'][object.moduleType]||randomizers[object.moduleType];return _construct(C,_toConsumableArray(object.params||NULL_ARRAY));}/**
   * Particles system.
   */var ParticlesSystem=/*#__PURE__*/function(){/**
     * Create particles system.
     * @param {*} options Particles options.
     * @param {THREE.Object3D} options.container Container to add particles system to.
     *
     * // PARTICLES OPTIONS
     * ============================================================================
     * @param {*} options.particles Particle-related options.
     *
     * // PARTICLES TTL
     * @param {Number} options.particles.ttl How long, in seconds, every particle lives.
     * @param {Number} options.particles.ttlExtra If provided, will add random numbers from 0 to ttlExtra to particle's ttl.
     *
     * // PARTICLES FADING / ALPHA
     * @param {Boolean} options.particles.alpha Per-particle constant alpha; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startAlpha Particles starting opacity; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.endAlpha Particles ending opacity; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startAlphaChangeAt Will only start shifting alpha when age is over this value; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLES GROWING / SIZE
     * @param {Number} options.particles.size Per-particle constant size; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startSize Particles starting size; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.endSize Particles ending size; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startSizeChangeAt Will only start shifting size when age is over this value; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLES COLORING
     * @param {THREE.Color} options.particles.color Per-particle constant color; either a constant value (THREE.Color) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {THREE.Color} options.particles.startColor Starting color min value; either a constant value (THREE.Color) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {THREE.Color} options.particles.endColor Ending color min value; either a constant value (THREE.Color) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.startColorChangeAt Will only start shifting color when age is over this value; either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLES ACCELERATION
     * @param {THREE.Vector3} options.particles.acceleration Particles acceleration; either a constant value (THREE.Vector3) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.gravity Gravity force affecting the particles.
     *
     * // PARTICLES ROTATION
     * @param {Number} options.particles.rotation Per-particle rotation (only works with texture); either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {Number} options.particles.rotationSpeed Particles rotation speed (only works with texture); either a constant value (Number) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLES VELOCITY
     * @param {*} options.particles.velocity Particles starting velocity; either a constant value (THREE.Vector3) or a Partykals.Randomizers.Randomizer instance to create random values.
     * @param {THREE.Vector3} options.particles.velocityBonus Velocity value to add to all particles after randomizing velocity.
     *
     * // PARTICLES OFFSET
     * @param {THREE.Vector3} options.particles.offset Particles offset from system's center; either a constant value (THREE.Vector3) or a Partykals.Randomizers.Randomizer instance to create random values.
     *
     * // PARTICLE GLOBALS
     * @param {Boolean} options.particles.worldPosition If true, particles will maintain their world position after spawn even if the system moves.
     * @param {Number} options.particles.globalSize Const size for all particles. Note: this is more efficient than setting per-particle size property.
     * @param {Number} options.particles.globalColor Global color to affect all particles. Note: this is more efficient than setting per-particle color property.
     * @param {String} options.particles.blending Particles blending mode (opaque / blend / additive).
     * @param {THREE.Texture} options.particles.texture Particle's texture to use.
     *
     * // CUSTOM CALLBACKS
     * @param {Function} options.particles.onUpdate Optional method to call per-particle every update frame.
     * @param {Function} options.particles.onSpawn Optional method to call per-particle every time a particle spawns (after everything is set).
     *
     * // SYSTEM OPTIONS
     * ============================================================================
     * @param {*} options.system System-related options.
     * @param {Number} options.system.particlesCount Particles count.
     * @param {Number} options.system.ttl How long, in seconds, the particle system lives.
     * @param {Number} options.system.speed Speed factor to affect all particles and emitting. Note: the only thing this don't affect is system's ttl.
     * @param {Function} options.system.onUpdate Optional method to call every update frame.
     * @param {Partykals.Emitter} options.system.emitters A single emitter or a list of emitters to attach to this system.
     * @param {Boolean} options.system.perspective If true, will scale particles based on distance from camera.
     * @param {Number} options.system.scale Overall system scale when in perspective mode (if perspective=false, will be ignored). A good value is between 400 and 600.
     * @param {Boolean} options.system.depthWrite Should we perform depth write? (default to true).
     * @param {Boolean} options.system.depthTest Should we perform depth test? (default to true).
     */function ParticlesSystem(options){_classCallCheck(this,ParticlesSystem);// use bindObject, to set these values
  // then particle system follows the passed object
  this.boundObject=null;this.lockBoundRotation=true;// store options
  options.particles=options.particles||{worldPosition:true};options.system=options.system||{};this.options=options;// get particle options
  var pOptions=options.particles;// do some internal cheating to replace const size with global size
  if(typeof options.particles.size==="number"){console.warn("Note: replaced 'size' with 'globalSize' property since its more efficient and provided size value was constant anyway.");options.particles.globalSize=options.particles.size;delete options.particles.size;}// do some internal cheating to replace const color with global color
  if(options.particles.color instanceof THREE__default['default'].Color){console.warn("Note: replaced 'color' with 'globalColor' property since its more efficient and you provided color value was constant anyway.");options.particles.globalColor=options.particles.color;delete options.particles.color;}// set some internal flags
  options.particles.fade=defined(pOptions.startAlpha)||defined(pOptions.alpha);options.particles.rotating=defined(pOptions.rotationSpeed)||defined(pOptions.rotation);options.particles.colorize=defined(pOptions.color)||defined(pOptions.startColor);options.particles.scaling=defined(pOptions.size)||defined(pOptions.startSize);// validate alpha params
  if(defined(pOptions.startAlpha)&&!defined(pOptions.endAlpha)){throw new Error("When providing 'startAlpha' you must also provide 'endAlpha'!");}if(defined(pOptions.startAlpha)&&defined(pOptions.alpha)){throw new Error("When providing 'alpha' you can't also provide 'startAlpha'!");}// validate color params
  if(defined(pOptions.startColor)&&!defined(pOptions.endColor)){throw new Error("When providing 'startColor' you must also provide 'endColor'!");}if(defined(pOptions.startColor)&&defined(pOptions.color)){throw new Error("When providing 'color' you can't also provide 'startColor'!");}// validate size params
  if(defined(pOptions.startSize)&&!defined(pOptions.endSize)){throw new Error("When providing 'startSize' you must also provide 'endSize'!");}if(defined(pOptions.startSize)&&defined(pOptions.size)){throw new Error("When providing 'size' you can't also provide 'startSize'!");}// get particles count
  var particleCount=options.system.particlesCount||10;// get blending mode
  var blending=options.particles.blending||"opaque";// get threejs blending mode
  var threeBlend=BLENDING_OPTIONS[blending];// set emitters
  this._emitters=[];if(options.system.emitters){if(options.system.emitters instanceof Array){for(var i=0;i<options.system.emitters.length;++i){this.addEmitter(options.system.emitters[i]);}}else {this.addEmitter(options.system.emitters);}}// has transparency?
  var isTransparent=blending!=="opaque";// create the particle geometry
  this.particlesGeometry=new THREE__default['default'].BufferGeometry();// set perspective mode
  var perspective=options.system.perspective!==undefined?Boolean(options.system.perspective):true;// create particles material
  var pMaterial=new material({size:options.particles.size||10,color:options.particles.globalColor||0xffffff,blending:threeBlend,perspective:perspective,transparent:isTransparent,map:options.particles.texture,perParticleColor:Boolean(options.particles.colorize),alphaTest:blending==="blend"&&defined(options.particles.texture),constSize:defined(options.particles.globalSize)?options.particles.globalSize:null,depthWrite:defined(options.system.depthWrite)?options.system.depthWrite:true,depthTest:defined(options.system.depthTest)?options.system.depthTest:true,perParticleRotation:options.particles.rotating});// store material for later usage
  this.material=pMaterial;// store speed factor
  this.speed=options.system.speed||1;// set system starting ttl and other params
  this.reset();// dead particles and alive particles lists
  this._aliveParticles=[];this._deadParticles=[];// create all particles + set geometry attributes
  var vertices=new Float32Array(particleCount*3);var colors=options.particles.colorize?new Float32Array(particleCount*3):null;var alphas=options.particles.fade?new Float32Array(particleCount*1):null;var sizes=options.particles.scaling?new Float32Array(particleCount*1):null;var rotations=options.particles.rotating?new Float32Array(particleCount*1):null;for(var p=0;p<particleCount;p++){var index=p*3;vertices[index]=vertices[index+1]=vertices[index+2]=0;if(colors)colors[index]=colors[index+1]=colors[index+2]=1;if(alphas)alphas[p]=1;if(sizes)sizes[p]=1;if(rotations)rotations[p]=0;this._deadParticles.push(new particle(this));}this.particlesGeometry.setAttribute("position",new THREE__default['default'].BufferAttribute(vertices,3));if(alphas){this.particlesGeometry.setAttribute("alpha",new THREE__default['default'].BufferAttribute(alphas,1));}if(colors){this.particlesGeometry.setAttribute("color",new THREE__default['default'].BufferAttribute(colors,3));}if(sizes){this.particlesGeometry.setAttribute("size",new THREE__default['default'].BufferAttribute(sizes,1));}if(rotations){this.particlesGeometry.setAttribute("rotation",new THREE__default['default'].BufferAttribute(rotations,1));}this.particlesGeometry.setDrawRange(0,0);// set scale
  this.material.setBaseScale(options.system.scale||400);// create the particles system
  var particleSystem=new THREE__default['default'].Points(this.particlesGeometry,this.material.material);particleSystem.sortParticles=isTransparent;// set default render order
  if(ParticlesSystem.defaultRenderOrder!==undefined){particleSystem.renderOrder=ParticlesSystem.defaultRenderOrder;}// store particles system
  this.particleSystem=particleSystem;// to make sure first update will update everything
  this._positionDirty=true;this._colorsDirty=Boolean(colors);this._alphaDirty=Boolean(alphas);this._rotateDirty=Boolean(rotations);// add it to the parent container
  if(options.container){this.addTo(options.container);}}/**
     * creates an instance from a json definition
     *
     * @static
     * @param {*} options
     * @return {ParticlesSystem} new ParticlesSystem created from the json-object
     * @memberof ParticlesSystem
     */_createClass(ParticlesSystem,[{key:"addEmitter",value:/**
     * Add emitter to this particles system.
     */function addEmitter(emitter){this._emitters.push(emitter);}/**
     * Dispose the entire system.
     */},{key:"dispose",value:function dispose(){this.particlesGeometry.dispose();this.material.dispose();}/**
     * Return true when ttl is expired and there are no more alive particles in system.
     */},{key:"finished",get:function get(){return this.ttlExpired&&this.particlesCount===0;}/**
     * Get if this system's ttl is expired.
     */},{key:"ttlExpired",get:function get(){return this.ttl!==undefined&&this.ttl<=0;}/**
     * Reset particles system ttl.
     */},{key:"reset",value:function reset(){this.ttl=this.options.system.ttl;this.age=0;this._timeToUpdateBS=0;}/**
     * Get system's world position.
     */},{key:"getWorldPosition",value:function getWorldPosition(ret){ret=ret||new THREE__default['default'].Vector3();this.particleSystem.getWorldPosition(ret);return ret;}/**
     * Add the particles system to scene or container.
     * @param {THREE.Object3D} container Container to add system to.
     */},{key:"addTo",value:function addTo(container){container.add(this.particleSystem);}/**
     * Set a particle's color value.
     */},{key:"setColor",value:function setColor(index,color){index*=3;var colors=this.particlesGeometry.attributes.color.array;colors[index]=color.r;colors[index+1]=color.g;colors[index+2]=color.b;this._colorsDirty=true;}/**
     * Set a particle's position.
     */},{key:"setPosition",value:function setPosition(index,position){index*=3;var vertices=this.particlesGeometry.attributes.position.array;vertices[index]=position.x;vertices[index+1]=position.y;vertices[index+2]=position.z;this._positionDirty=true;}/**
     * Set particle's alpha.
     */},{key:"setAlpha",value:function setAlpha(index,value){this.particlesGeometry.attributes.alpha.array[index]=value;this._alphaDirty=true;}/**
     * Set particle's rotation.
     */},{key:"setRotation",value:function setRotation(index,value){this.particlesGeometry.attributes.rotation.array[index]=value;this._rotateDirty=true;}/**
     * Set particle's size.
     */},{key:"setSize",value:function setSize(index,value){this.particlesGeometry.attributes.size.array[index]=value;this._sizeDirty=true;}/**
     * Get how many particles this system currently shows.
     */},{key:"particlesCount",get:function get(){return this._aliveParticles.length;}/**
     * Get max particles count.
     */},{key:"maxParticlesCount",get:function get(){return this._aliveParticles.length+this._deadParticles.length;}/**
     * If ttl is expired and there are no more alive particles, remove system and dispose it.
     * @returns True if removed & disposed, false if still alive.
     */},{key:"removeAndDisposeIfFinished",value:function removeAndDisposeIfFinished(){if(this.finished){this.removeSelf();this.dispose();return true;}return false;}},{key:"bindObject",value:function bindObject(object,lockBoundRotation){this.boundObject=object;this.lockBoundRotation=defined(lockBoundRotation)?lockBoundRotation:true;}/**
     * Update particles system.
     */},{key:"update",value:function update(deltaTime){// if deltaTime is undefined, set automatically
  if(deltaTime===undefined){var timeNow=new Date().getTime()/1000.0;deltaTime=timeNow-this._lastTime||0;this._lastTime=timeNow;}// delta time is 0? skip
  if(deltaTime===0){return;}// update ttl
  if(this.ttl!==undefined&&this.ttl>0){this.ttl-=deltaTime;}// apply speed
  deltaTime*=this.speed;// store last delta time
  this.dt=deltaTime;this.age+=deltaTime;// if we shall follow an object,
  // we just update the position on each frame,
  // to be the same, as the object
  if(this.boundObject){var pos=this.boundObject.position;this.particleSystem.position.set(pos.x,pos.y,pos.z);if(!this.lockBoundRotation){var rot=this.boundObject.rotation;this.particleSystem.rotation.set(rot.x,rot.y,rot.z);}}// to check if number of particles changed
  var prevParticlesCount=this._aliveParticles.length;// generate particles (unless ttl expired)
  if(!this.ttlExpired){for(var i=0;i<this._emitters.length;++i){var toSpawn=this._emitters[i].update(deltaTime,this);if(toSpawn){this.spawnParticles(toSpawn);}}}// update particles
  for(var _i=this._aliveParticles.length-1;_i>=0;--_i){// update particle
  var particle=this._aliveParticles[_i];particle.update(_i,deltaTime);// finished? remove it
  if(particle.finished){this._aliveParticles.splice(_i,1);this._deadParticles.push(particle);}}// hide invisible vertices
  if(prevParticlesCount!==this._aliveParticles.length){this.particlesGeometry.setDrawRange(0,this._aliveParticles.length);}// set vertices dirty flag
  this.particlesGeometry.attributes.position.needsUpdate=this._positionDirty;this._needBoundingSphereUpdate=this._needBoundingSphereUpdate||this._positionDirty;this._positionDirty=false;// set colors dirty flag
  if(this._colorsDirty){this.particlesGeometry.attributes.color.needsUpdate=true;this._colorsDirty=false;}// set alphas dirty flag
  if(this._alphaDirty){this.particlesGeometry.attributes.alpha.needsUpdate=true;this._alphaDirty=false;}// set size dirty flag
  if(this._sizeDirty){this.particlesGeometry.attributes.size.needsUpdate=true;this._sizeDirty=false;}// set rotation dirty flag
  if(this._rotateDirty){this.particlesGeometry.attributes.rotation.needsUpdate=true;this._rotateDirty=false;}// update bounding sphere
  if(this._needBoundingSphereUpdate){this._timeToUpdateBS-=deltaTime;if(this._timeToUpdateBS<=0){this._timeToUpdateBS=0.2;this.particlesGeometry.computeBoundingSphere();}}// if finished, stop here
  if(this.finished){if(this.options.system.onFinish)this.options.system.onFinish(this);return;}// call optional update
  if(this.options.system.onUpdate){this.options.system.onUpdate(this);}}/**
     * Spawn particles.
     * @param {Number} quantity Number of particles to spawn. If exceed max available particles in system, skip.
     */},{key:"spawnParticles",value:function spawnParticles(quantity){// spawn particles
  for(var i=0;i<quantity;++i){// no available dead particles? skip
  if(this._deadParticles.length===0){return;}// spawn particle
  var particle=this._deadParticles.pop();particle.reset();this._aliveParticles.push(particle);}}/**
     * Remove particles system from its parent.
     */},{key:"removeSelf",value:function removeSelf(){if(this.particleSystem.parent){this.particleSystem.parent.remove(this.particleSystem);}}}],[{key:"fromJSON",value:function fromJSON(options){var resources=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var result=copyFromJSON(options,resources);if(Array.isArray(result.system.emitters)){result.system.emitters=result.system.emitters.map(function(v){return new emitter(v);});}else {result.system.emitters=new emitter(result.system.emitters);}return new ParticlesSystem(result);}}]);return ParticlesSystem;}();// override this to set default rendering order to all particle systems
  ParticlesSystem.defaultRenderOrder=undefined;// export the particles system
  var particles_system=ParticlesSystem;

  var partykals={ParticlesSystem:particles_system,Particle:particle,Emitter:emitter,Utils:utils,Randomizers:randomizers};

  return partykals;

}(THREE));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFydHlrYWxzLmpzIiwic291cmNlcyI6WyIuLi9wYXJ0eWthbHMvdXRpbHMuanMiLCIuLi9wYXJ0eWthbHMvcGFydGljbGUuanMiLCIuLi9wYXJ0eWthbHMvbWF0ZXJpYWwvc2hhZGVycy92ZXJ0ZXguanMiLCIuLi9wYXJ0eWthbHMvbWF0ZXJpYWwvc2hhZGVycy9mcmFnbWVudC5qcyIsIi4uL3BhcnR5a2Fscy9tYXRlcmlhbC9tYXRlcmlhbC5qcyIsIi4uL3BhcnR5a2Fscy9yYW5kb21pemVycy9yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL2JveF9yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL3NwaGVyZV9yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL2NvbG9yc19yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL21pbm1heF9yYW5kb21pemVyLmpzIiwiLi4vcGFydHlrYWxzL3JhbmRvbWl6ZXJzL2luZGV4LmpzIiwiLi4vcGFydHlrYWxzL2VtaXR0ZXIuanMiLCIuLi9wYXJ0eWthbHMvcGFydGljbGVzX3N5c3RlbS5qcyIsIi4uL3BhcnR5a2Fscy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEltcGxlbWVudCBhIHNpbmdsZSBwYXJ0aWNsZSBpbiB0aGUgcGFydGljbGVzIHN5c3RlbS5cbiAqIEF1dGhvcjogUm9uZW4gTmVzcy5cbiAqIFNpbmNlOiAyMDE5LlxuICovXG5jb25zdCBUSFJFRSA9IHJlcXVpcmUoXCJ0aHJlZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIG1pbiAoaW5jbHVzaXZlKSBhbmQgbWF4IChleGNsdXNpdmUpXG4gICAqL1xuICBnZXRSYW5kb21CZXR3ZWVuOiBmdW5jdGlvbiAobWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgcmFuZG9tIGJldHdlZW4gYmFzZVZhbCBhbmQgYmFzZVZhbCArIGV4dHJhUmFuZG9tLlxuICAgKiBJZiAnZXh0cmFSYW5kb20nIGlzIG5vdCBkZWZpbmVkLCB3aWxsIGp1c3QgcmV0dXJuIGJhc2VWYWwuXG4gICAqIElmIGJhc2VWYWwgaXMgbm90IGRlZmluZWQsIHdpbGwgcmV0dXJuIHdoaXRlLlxuICAgKi9cbiAgZ2V0UmFuZG9tV2l0aFNwcmVhZDogZnVuY3Rpb24gKGJhc2VWYWwsIGV4dHJhUmFuZG9tKSB7XG4gICAgaWYgKCFleHRyYVJhbmRvbSkge1xuICAgICAgcmV0dXJuIGJhc2VWYWw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldFJhbmRvbUJldHdlZW4oYmFzZVZhbCwgYmFzZVZhbCArIGV4dHJhUmFuZG9tKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHJhbmRvbSBiZXR3ZWVuIHR3byBjb2xvcnMuXG4gICAqIElmICdjb2xNYXgnIGlzIG5vdCBkZWZpbmVkLCB3aWxsIGp1c3QgcmV0dXJuIGNvbE1pbiBvciB3aGl0ZSBjb2xvciBpZiBub3QgZGVmaW5lZC5cbiAgICovXG4gIGdldFJhbmRvbUNvbG9yQmV0d2VlbjogZnVuY3Rpb24gKGNvbE1pbiwgY29sTWF4LCB0YXJnZXQpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXQgfHwgbmV3IFRIUkVFLkNvbG9yKCk7XG4gICAgaWYgKCFjb2xNYXgpIHtcbiAgICAgIHJldHVybiBjb2xNaW4gPyB0YXJnZXQuY29weShjb2xNaW4pIDogdGFyZ2V0LnNldFJHQigwLCAwLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldC5zZXRSR0IoXG4gICAgICB0aGlzLmdldFJhbmRvbUJldHdlZW4oY29sTWluLnIsIGNvbE1heC5yKSxcbiAgICAgIHRoaXMuZ2V0UmFuZG9tQmV0d2Vlbihjb2xNaW4uZywgY29sTWF4LmcpLFxuICAgICAgdGhpcy5nZXRSYW5kb21CZXR3ZWVuKGNvbE1pbi5iLCBjb2xNYXguYilcbiAgICApO1xuICB9LFxuICAvLyBnZXRSYW5kb21Db2xvckJldHdlZW46IGZ1bmN0aW9uIChjb2xNaW4sIGNvbE1heCkge1xuICAvLyAgIGlmICghY29sTWF4KSB7XG4gIC8vICAgICByZXR1cm4gY29sTWluID8gY29sTWluLmNsb25lKCkgOiBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuIG5ldyBUSFJFRS5Db2xvcihcbiAgLy8gICAgIHRoaXMuZ2V0UmFuZG9tQmV0d2Vlbihjb2xNaW4uciwgY29sTWF4LnIpLFxuICAvLyAgICAgdGhpcy5nZXRSYW5kb21CZXR3ZWVuKGNvbE1pbi5nLCBjb2xNYXguZyksXG4gIC8vICAgICB0aGlzLmdldFJhbmRvbUJldHdlZW4oY29sTWluLmIsIGNvbE1heC5iKVxuICAvLyAgICk7XG4gIC8vIH0sXG5cbiAgLyoqXG4gICAqIEdldCByYW5kb20gYmV0d2VlbiB0d28gdmVjdG9ycy5cbiAgICogSWYgJ3ZlY01heCcgaXMgbm90IGRlZmluZWQsIHdpbGwganVzdCByZXR1cm4gdmVjTWluIG9yIHplcm8gcG9pbnQgaWYgbm90IGRlZmluZWQuXG4gICAqL1xuICBnZXRSYW5kb21WZWN0b3JCZXR3ZWVuOiBmdW5jdGlvbiAodmVjTWluLCB2ZWNNYXgsIHRhcmdldCkge1xuICAgIHRhcmdldCA9IG51bGw7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgaWYgKCF2ZWNNYXgpIHtcbiAgICAgIHJldHVybiB2ZWNNaW4gPyB0YXJnZXQuY29weSh2ZWNNaW4pIDogdGFyZ2V0LnNldCgwLCAwLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldC5zZXQoXG4gICAgICB0aGlzLmdldFJhbmRvbUJldHdlZW4odmVjTWluLngsIHZlY01heC54KSxcbiAgICAgIHRoaXMuZ2V0UmFuZG9tQmV0d2Vlbih2ZWNNaW4ueSwgdmVjTWF4LnkpLFxuICAgICAgdGhpcy5nZXRSYW5kb21CZXR3ZWVuKHZlY01pbi56LCB2ZWNNYXgueilcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMZXJwIGJldHdlZW4gdHdvIGNvbG9ycywgcmV0dXJuaW5nIGEgbmV3IGNvbG9yIHdpdGhvdXQgY2hhbmdpbmcgYW55IG9mIHRoZW0uXG4gICAqL1xuICBsZXJwQ29sb3JzOiBmdW5jdGlvbiAoY29sQSwgY29sQiwgYWxwaGEsIHRhcmdldCkge1xuICAgIHRhcmdldCA9IHRhcmdldCB8fCBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICByZXR1cm4gdGFyZ2V0LmNvcHkoY29sQSkubGVycChjb2xCLCBhbHBoYSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExlcnAgYmV0d2VlbiB0d28gbnVtYmVycy5cbiAgICovXG4gIGxlcnA6IGZ1bmN0aW9uICh4LCB5LCBhbHBoYSkge1xuICAgIHJldHVybiB4ICogKDEgLSBhbHBoYSkgKyB5ICogYWxwaGE7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBjb25zdCBudW1lcmljIHZhbHVlIG9yIGdlbmVyYXRlIHJhbmRvbSB2YWx1ZSBmcm9tIHJhbmRvbWl6ZXIuXG4gICAqL1xuICByYW5kb21pemVyT3JWYWx1ZTogZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiAodmFsLmdlbmVyYXRlID8gdmFsLmdlbmVyYXRlKCkgOiB2YWwpIHx8IDA7XG4gIH1cbn07XG4iLCIvKipcbiAqIEltcGxlbWVudCBhIHNpbmdsZSBwYXJ0aWNsZSBpbiB0aGUgcGFydGljbGVzIHN5c3RlbS5cbiAqIEF1dGhvcjogUm9uZW4gTmVzcy5cbiAqIFNpbmNlOiAyMDE5LlxuICovXG5jb25zdCBUSFJFRSA9IHJlcXVpcmUoXCJ0aHJlZVwiKTtcbmNvbnN0IFV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbmNvbnN0IFRNUDEgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKTtcbmNvbnN0IFRNUDIgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKTtcblxuY29uc3QgVE1QX0NPTE9SID0gbmV3IFRIUkVFLkNvbG9yKDEsIDEsIDEpO1xuXG4vKipcbiAqIEEgc2luZ2xlIHBhcnRpY2xlIG1ldGFkYXRhIGluIHRoZSBwYXJ0aWNsZXMgc3lzdGVtLlxuICogV2UgYXR0YWNoIHRoaXMgdG8gdGhlIHBhcnRpY2xlJ3MgdmVydGljZXMgd2hlbiBpbiBzeXN0ZW0ncyBnZW9tZXRyeS5cbiAqL1xuY2xhc3MgUGFydGljbGUge1xuICAvKipcbiAgICogQ3JlYXRlIHRoZSBwYXJ0aWNsZS5cbiAgICogQHBhcmFtIHtQYXJ0aWNsZXNTeXN0ZW19IHN5c3RlbSBUaGUgcGFydGljbGVzIHN5c3RlbSB0aGlzIHBhcnRpY2xlIGJlbG9uZ3MgdG8uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzeXN0ZW0pIHtcbiAgICB0aGlzLnN5c3RlbSA9IHN5c3RlbTtcbiAgICAvKiAgdGhpcy52ZWxvY2l0eSA9IG51bGw7XG4gICAgdGhpcy5hY2NlbGVyYXRpb24gPSBudWxsOyAvLyBvcHRpb25hbFxuICAgIHRoaXMucG9zaXRpb24gPSBudWxsO1xuICAgIHRoaXMuc3RhcnRDb2xvciA9IG51bGw7XG4gICAgdGhpcy5lbmRDb2xvciA9IG51bGw7XG4gICAgdGhpcy5ncmF2aXR5WCA9IDA7XG4gICAgdGhpcy5ncmF2aXR5WSA9IDA7XG4gICAgdGhpcy5ncmF2aXR5WiA9IDA7XG4gICAgdGhpcy5hZ2UgPSAwO1xuICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLnR0bCA9IG51bGw7XG4gICAgdGhpcy5hbHBoYSA9IG51bGw7XG4gICAgdGhpcy5zdGFydEFscGhhID0gbnVsbDtcbiAgICB0aGlzLmVuZEFscGhhID0gbnVsbDtcbiAgICB0aGlzLnN0YXJ0QWxwaGFDaGFuZ2VBdCA9IG51bGw7XG4gICAgdGhpcy5zdGFydENvbG9yQ2hhbmdlQXQgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRTaXplQ2hhbmdlQXQgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRXb3JsZFBvc2l0aW9uID0gbnVsbDtcbiAgICB0aGlzLm9uVXBkYXRlID0gbnVsbDsqL1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBwYXJ0aWNsZS5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnN5c3RlbS5vcHRpb25zLnBhcnRpY2xlcztcblxuICAgIC8vIHJlc2V0IHBhcnRpY2xlIGFnZSBhbmQgaWYgYWxpdmVcbiAgICB0aGlzLmFnZSA9IDA7XG4gICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuXG4gICAgLy8gc3RvcmUgZ3Jhdml0eSBmb3JjZVxuICAgIHRoaXMuZ3Jhdml0eVggPSBvcHRpb25zLmdyYXZpdHlYO1xuICAgIHRoaXMuZ3Jhdml0eVkgPSBvcHRpb25zLmdyYXZpdHlZIHx8IG9wdGlvbnMuZ3Jhdml0eTtcbiAgICB0aGlzLmdyYXZpdHlaID0gb3B0aW9ucy5ncmF2aXR5WjtcblxuICAgIC8vIHBhcnRpY2xlJ3MgdmVsb2NpdHkgYW5kIHZlbG9jaXR5IGJvbnVzXG4gICAgdGhpcy52ZWxvY2l0eSA9IGdldENvbnN0T3JSYW5kb21WZWN0b3IodGhpcy52ZWxvY2l0eSwgb3B0aW9ucy52ZWxvY2l0eSk7XG5cbiAgICBpZiAob3B0aW9ucy52ZWxvY2l0eUJvbnVzKSB7XG4gICAgICB0aGlzLnZlbG9jaXR5LmFkZChvcHRpb25zLnZlbG9jaXR5Qm9udXMpO1xuICAgIH1cblxuICAgIC8vIHBhcnRpY2xlJ3MgYWNjZWxlcmF0aW9uLlxuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gZ2V0Q29uc3RPclJhbmRvbVZlY3Rvcih0aGlzLmFjY2VsZXJhdGlvbiwgb3B0aW9ucy5hY2NlbGVyYXRpb24sIHRydWUpO1xuXG4gICAgLy8gc3RhcnRpbmcgb2Zmc2V0XG4gICAgdGhpcy5wb3NpdGlvbiA9IGdldENvbnN0T3JSYW5kb21WZWN0b3IodGhpcy5wb3NpdGlvbiwgb3B0aW9ucy5vZmZzZXQpO1xuXG4gICAgLy8gc2V0IHBhcnRpY2xlJ3MgdHRsXG4gICAgdGhpcy50dGwgPSBVdGlscy5nZXRSYW5kb21XaXRoU3ByZWFkKG9wdGlvbnMudHRsIHx8IDEsIG9wdGlvbnMudHRsRXh0cmEpIHx8IDE7XG5cbiAgICAvLyBzZXQgcGVyLXBhcnRpY2xlIGFscGhhXG4gICAgdGhpcy5hbHBoYSA9IHRoaXMuc3RhcnRBbHBoYSA9IHRoaXMuZW5kQWxwaGEgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRBbHBoYUNoYW5nZUF0ID0gKG9wdGlvbnMuc3RhcnRBbHBoYUNoYW5nZUF0IHx8IDApIC8gdGhpcy50dGw7XG4gICAgaWYgKG9wdGlvbnMuZmFkZSkge1xuICAgICAgLy8gY29uc3QgYWxwaGEgdGhyb3VnaG91dCBwYXJ0aWNsZSdzIGxpZmU/XG4gICAgICBpZiAob3B0aW9ucy5hbHBoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuYWxwaGEgPSBVdGlscy5yYW5kb21pemVyT3JWYWx1ZShvcHRpb25zLmFscGhhKTtcbiAgICAgIH1cbiAgICAgIC8vIHNoaWZ0aW5nIGFscGhhP1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnRBbHBoYSA9IFV0aWxzLnJhbmRvbWl6ZXJPclZhbHVlKG9wdGlvbnMuc3RhcnRBbHBoYSk7XG4gICAgICAgIHRoaXMuZW5kQWxwaGEgPSBVdGlscy5yYW5kb21pemVyT3JWYWx1ZShvcHRpb25zLmVuZEFscGhhKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXQgcGVyLXBhcnRpY2xlIGNvbG9yaW5nXG4gICAgdGhpcy5jb2xvcml6ZSA9IEJvb2xlYW4ob3B0aW9ucy5jb2xvcml6ZSk7XG4gICAgdGhpcy5jb2xvciA9IHRoaXMuc3RhcnRDb2xvciA9IHRoaXMuZW5kQ29sb3IgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRDb2xvckNoYW5nZUF0ID0gKG9wdGlvbnMuc3RhcnRDb2xvckNoYW5nZUF0IHx8IDApIC8gdGhpcy50dGw7XG4gICAgaWYgKHRoaXMuY29sb3JpemUpIHtcbiAgICAgIC8vIGNvbnN0IGNvbG9yIHRocm91Z2hvdXQgcGFydGljbGUncyBsaWZlP1xuICAgICAgaWYgKG9wdGlvbnMuY29sb3IpIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IGdldENvbnN0T3JSYW5kb21Db2xvcih0aGlzLmNvbG9yLCBvcHRpb25zLmNvbG9yKTtcbiAgICAgIH1cbiAgICAgIC8vIHNoaWZ0aW5nIGNvbG9yP1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnRDb2xvciA9IGdldENvbnN0T3JSYW5kb21Db2xvcih0aGlzLnN0YXJ0Q29sb3IsIG9wdGlvbnMuc3RhcnRDb2xvcik7XG4gICAgICAgIHRoaXMuZW5kQ29sb3IgPSBnZXRDb25zdE9yUmFuZG9tQ29sb3IodGhpcy5lbmRDb2xvciwgb3B0aW9ucy5lbmRDb2xvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2V0IHBlci1wYXJ0aWNsZSBzaXplXG4gICAgdGhpcy5zaXplID0gdGhpcy5zdGFydFNpemUgPSB0aGlzLmVuZFNpemUgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRTaXplQ2hhbmdlQXQgPSAob3B0aW9ucy5zdGFydFNpemVDaGFuZ2VBdCB8fCAwKSAvIHRoaXMudHRsO1xuICAgIGlmIChvcHRpb25zLnNjYWxpbmcpIHtcbiAgICAgIC8vIGNvbnN0IHNpemUgdGhyb3VnaG91dCBwYXJ0aWNsZSdzIGxpZmU/XG4gICAgICBpZiAob3B0aW9ucy5zaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gVXRpbHMucmFuZG9taXplck9yVmFsdWUob3B0aW9ucy5zaXplKTtcbiAgICAgIH1cbiAgICAgIC8vIHNoaWZ0aW5nIHNpemU/XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGFydFNpemUgPSBVdGlscy5yYW5kb21pemVyT3JWYWx1ZShvcHRpb25zLnN0YXJ0U2l6ZSk7XG4gICAgICAgIHRoaXMuZW5kU2l6ZSA9IFV0aWxzLnJhbmRvbWl6ZXJPclZhbHVlKG9wdGlvbnMuZW5kU2l6ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2V0IHBlci1wYXJ0aWNsZSByb3RhdGlvblxuICAgIHRoaXMucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uU3BlZWQgPSBudWxsO1xuICAgIGlmIChvcHRpb25zLnJvdGF0aW5nKSB7XG4gICAgICB0aGlzLnJvdGF0aW9uID0gVXRpbHMucmFuZG9taXplck9yVmFsdWUob3B0aW9ucy5yb3RhdGlvbiB8fCAwKTtcbiAgICAgIHRoaXMucm90YXRpb25TcGVlZCA9IFV0aWxzLnJhbmRvbWl6ZXJPclZhbHVlKG9wdGlvbnMucm90YXRpb25TcGVlZCB8fCAwKTtcbiAgICB9XG5cbiAgICAvLyB1c2VkIHRvIGtlZXAgY29uc3RhbnQgd29ybGQgcG9zaXRpb25cbiAgICB0aGlzLnN0YXJ0V29ybGRQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAvLyBzdG9yZSBvbi11cGRhdGUgY2FsbGJhY2ssIGlmIGRlZmluZWRcbiAgICB0aGlzLm9uVXBkYXRlID0gb3B0aW9ucy5vblVwZGF0ZTtcblxuICAgIC8vIGNhbGwgY3VzdG9tIHNwYXduIG1ldGhvZFxuICAgIGlmIChvcHRpb25zLm9uU3Bhd24pIHtcbiAgICAgIG9wdGlvbnMub25TcGF3bih0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwYXJ0aWNsZSAoY2FsbCB0aGlzIGV2ZXJ5IGZyYW1lKS5cbiAgICogQHBhcmFtIHsqfSBpbmRleCBQYXJ0aWNsZSBpbmRleCBpbiBzeXN0ZW0uXG4gICAqIEBwYXJhbSB7Kn0gZGVsdGFUaW1lIFVwZGF0ZSBkZWx0YSB0aW1lLlxuICAgKi9cbiAgdXBkYXRlKGluZGV4LCBkZWx0YVRpbWUpIHtcbiAgICAvLyBpZiBmaW5pc2hlZCwgc2tpcFxuICAgIGlmICh0aGlzLmZpbmlzaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaXMgaXQgZmlyc3QgdXBkYXRlIGNhbGw/XG4gICAgY29uc3QgZmlyc3RVcGRhdGUgPSB0aGlzLmFnZSA9PT0gMDtcblxuICAgIC8vIGRvIGZpcnN0LXVwZGF0ZSBzdHVmZlxuICAgIGlmIChmaXJzdFVwZGF0ZSkge1xuICAgICAgLy8gaWYgaXRzIGZpcnN0IHVwZGF0ZSBhbmQgdXNlIHdvcmxkIHBvc2l0aW9uLCBzdG9yZSBjdXJyZW50IHdvcmxkIHBvc2l0aW9uXG4gICAgICBpZiAodGhpcy5zeXN0ZW0ub3B0aW9ucy5wYXJ0aWNsZXMud29ybGRQb3NpdGlvbikge1xuICAgICAgICB0aGlzLnN0YXJ0V29ybGRQb3NpdGlvbiA9IHRoaXMuc3lzdGVtLmdldFdvcmxkUG9zaXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGNvbnN0YW50IGFscGhhXG4gICAgICBpZiAodGhpcy5hbHBoYSAhPT0gbnVsbCB8fCB0aGlzLnN0YXJ0QWxwaGEgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uc2V0QWxwaGEoaW5kZXgsIHRoaXMuYWxwaGEgfHwgdGhpcy5zdGFydEFscGhhKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGNvbnN0YW50IGNvbG9yXG4gICAgICBpZiAodGhpcy5jb2xvciAhPT0gbnVsbCB8fCB0aGlzLnN0YXJ0Q29sb3IgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uc2V0Q29sb3IoaW5kZXgsIHRoaXMuY29sb3IgfHwgdGhpcy5zdGFydENvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGNvbnN0YW50IHNpemVcbiAgICAgIGlmICh0aGlzLnNpemUgIT09IG51bGwgfHwgdGhpcy5zdGFydFNpemUgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uc2V0U2l6ZShpbmRleCwgdGhpcy5zaXplIHx8IHRoaXMuc3RhcnRTaXplKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IHN0YXJ0IHJvdGF0aW9uXG4gICAgICBpZiAodGhpcy5yb3RhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN5c3RlbS5zZXRSb3RhdGlvbihpbmRleCwgdGhpcy5yb3RhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGRvIG5vcm1hbCB1cGRhdGVzXG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgYW5pbWF0ZWQgY29sb3JcbiAgICAgIGlmICh0aGlzLnN0YXJ0Q29sb3IgJiYgdGhpcy5hZ2UgPj0gdGhpcy5zdGFydENvbG9yQ2hhbmdlQXQpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW0uc2V0Q29sb3IoXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgVXRpbHMubGVycENvbG9ycyhcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDb2xvcixcbiAgICAgICAgICAgIHRoaXMuZW5kQ29sb3IsXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29sb3JDaGFuZ2VBdFxuICAgICAgICAgICAgICA/ICh0aGlzLmFnZSAtIHRoaXMuc3RhcnRDb2xvckNoYW5nZUF0KSAvICgxIC0gdGhpcy5zdGFydENvbG9yQ2hhbmdlQXQpXG4gICAgICAgICAgICAgIDogdGhpcy5hZ2UsXG4gICAgICAgICAgICBUTVBfQ09MT1JcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBhbmltYXRlZCBhbHBoYVxuICAgICAgaWYgKHRoaXMuc3RhcnRBbHBoYSAhPSBudWxsICYmIHRoaXMuYWdlID49IHRoaXMuc3RhcnRBbHBoYUNoYW5nZUF0KSB7XG4gICAgICAgIHRoaXMuc3lzdGVtLnNldEFscGhhKFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIFV0aWxzLmxlcnAoXG4gICAgICAgICAgICB0aGlzLnN0YXJ0QWxwaGEsXG4gICAgICAgICAgICB0aGlzLmVuZEFscGhhLFxuICAgICAgICAgICAgdGhpcy5zdGFydEFscGhhQ2hhbmdlQXRcbiAgICAgICAgICAgICAgPyAodGhpcy5hZ2UgLSB0aGlzLnN0YXJ0QWxwaGFDaGFuZ2VBdCkgLyAoMSAtIHRoaXMuc3RhcnRBbHBoYUNoYW5nZUF0KVxuICAgICAgICAgICAgICA6IHRoaXMuYWdlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgYW5pbWF0ZWQgc2l6ZVxuICAgICAgaWYgKHRoaXMuc3RhcnRTaXplICE9IG51bGwgJiYgdGhpcy5hZ2UgPj0gdGhpcy5zdGFydFNpemVDaGFuZ2VBdCkge1xuICAgICAgICB0aGlzLnN5c3RlbS5zZXRTaXplKFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIFV0aWxzLmxlcnAoXG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2l6ZSxcbiAgICAgICAgICAgIHRoaXMuZW5kU2l6ZSxcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTaXplQ2hhbmdlQXRcbiAgICAgICAgICAgICAgPyAodGhpcy5hZ2UgLSB0aGlzLnN0YXJ0U2l6ZUNoYW5nZUF0KSAvICgxIC0gdGhpcy5zdGFydFNpemVDaGFuZ2VBdClcbiAgICAgICAgICAgICAgOiB0aGlzLmFnZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXQgYW5pbWF0ZWQgcm90YXRpb25cbiAgICBpZiAodGhpcy5yb3RhdGlvblNwZWVkKSB7XG4gICAgICB0aGlzLnJvdGF0aW9uICs9IHRoaXMucm90YXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgIHRoaXMuc3lzdGVtLnNldFJvdGF0aW9uKGluZGV4LCB0aGlzLnJvdGF0aW9uKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgcG9zaXRpb25cbiAgICBpZiAodGhpcy52ZWxvY2l0eSkge1xuICAgICAgLy8gYWRkIGdyYXZpdHkgZm9yY2VcbiAgICAgIGlmICh0aGlzLmdyYXZpdHlYKSB0aGlzLnZlbG9jaXR5LnggKz0gdGhpcy5ncmF2aXR5WCAqIGRlbHRhVGltZTtcbiAgICAgIGlmICh0aGlzLmdyYXZpdHlZKSB0aGlzLnZlbG9jaXR5LnkgKz0gdGhpcy5ncmF2aXR5WSAqIGRlbHRhVGltZTtcbiAgICAgIGlmICh0aGlzLmdyYXZpdHlaKSB0aGlzLnZlbG9jaXR5LnogKz0gdGhpcy5ncmF2aXR5WiAqIGRlbHRhVGltZTtcblxuICAgICAgdGhpcy5wb3NpdGlvbi54ICs9IHRoaXMudmVsb2NpdHkueCAqIGRlbHRhVGltZTtcbiAgICAgIHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnZlbG9jaXR5LnkgKiBkZWx0YVRpbWU7XG4gICAgICB0aGlzLnBvc2l0aW9uLnogKz0gdGhpcy52ZWxvY2l0eS56ICogZGVsdGFUaW1lO1xuICAgIH1cbiAgICBsZXQgcG9zaXRpb25Ub1NldCA9IFRNUDEuc2V0KHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LCB0aGlzLnBvc2l0aW9uLnopO1xuXG4gICAgLy8gdG8gbWFpbnRhaW4gd29ybGQgcG9zaXRpb25cbiAgICBpZiAodGhpcy5zdGFydFdvcmxkUG9zaXRpb24pIHtcbiAgICAgIGNvbnN0IHN5c3RlbVBvcyA9IHRoaXMuc3lzdGVtLmdldFdvcmxkUG9zaXRpb24oVE1QMik7IC8vIHJldHVybnMgVE1QMlxuICAgICAgc3lzdGVtUG9zLnN1Yih0aGlzLnN0YXJ0V29ybGRQb3NpdGlvbik7XG4gICAgICBwb3NpdGlvblRvU2V0ID0gcG9zaXRpb25Ub1NldC5zdWIoc3lzdGVtUG9zKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgcG9zaXRpb24gaW4gc3lzdGVtXG4gICAgLy8gYmUgYXdhcmUsIHRoYXQgcG9zaXRpb25Ub1NldCBpcyBhIHRlbXAtdmVjdG9yIGF0IHRoaXMgcG9pbnQsXG4gICAgLy8gc28gZG8gbm90IHN0b3JlIGl0IGFueXdoZXJlXG4gICAgdGhpcy5zeXN0ZW0uc2V0UG9zaXRpb24oaW5kZXgsIHBvc2l0aW9uVG9TZXQpO1xuXG4gICAgLy8gdXBkYXRlIHZlbG9jaXR5XG4gICAgaWYgKHRoaXMuYWNjZWxlcmF0aW9uICYmIHRoaXMudmVsb2NpdHkpIHtcbiAgICAgIHRoaXMudmVsb2NpdHkueCArPSB0aGlzLmFjY2VsZXJhdGlvbi54ICogZGVsdGFUaW1lO1xuICAgICAgdGhpcy52ZWxvY2l0eS55ICs9IHRoaXMuYWNjZWxlcmF0aW9uLnkgKiBkZWx0YVRpbWU7XG4gICAgICB0aGlzLnZlbG9jaXR5LnogKz0gdGhpcy5hY2NlbGVyYXRpb24ueiAqIGRlbHRhVGltZTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgYWdlLiBub3RlOiB1c2UgdHRsIGFzIGZhY3Rvciwgc28gdGhhdCBhZ2UgaXMgYWx3YXlzIGJldHdlZW4gMCBhbmQgMVxuICAgIHRoaXMuYWdlICs9IGRlbHRhVGltZSAvIHRoaXMudHRsO1xuXG4gICAgLy8gY2FsbCBjdXN0b20gbWV0aG9kc1xuICAgIGlmICh0aGlzLm9uVXBkYXRlKSB7XG4gICAgICB0aGlzLm9uVXBkYXRlKHRoaXMpO1xuICAgIH1cblxuICAgIC8vIGlzIGRvbmU/IHNldCBhcyBmaW5pc2hlZCBhbmQgY29udGludWUgdG8gc2V0IGZpbmFsIHN0YXRlXG4gICAgaWYgKHRoaXMuYWdlID4gMSkge1xuICAgICAgdGhpcy5hZ2UgPSAxO1xuICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwYXJ0aWNsZSdzIHdvcmxkIHBvc2l0aW9uLlxuICAgKi9cbiAgZ2V0IHdvcmxkUG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtLmdldFdvcmxkUG9zaXRpb24oKS5hZGQodGhpcy5wb3NpdGlvbik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gZWl0aGVyIHRoZSB2YWx1ZSBvZiBhIHJhbmRvbWl6ZXIsIGEgY29uc3QgdmFsdWUsIG9yIGEgZGVmYXVsdCBlbXB0eSBvciBudWxsLlxuICovXG5mdW5jdGlvbiBnZXRDb25zdE9yUmFuZG9tVmVjdG9yKHRhcmdldCwgY29uc3RWYWxPclJhbmRvbWl6ZXIsIHJldHVybk51bGxJZlVuZGVmaW5lZCkge1xuICB0YXJnZXQgPSB0YXJnZXQgfHwgbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgaWYgKCFjb25zdFZhbE9yUmFuZG9taXplcikgcmV0dXJuIHJldHVybk51bGxJZlVuZGVmaW5lZCA/IG51bGwgOiB0YXJnZXQuc2V0KDAsIDAsIDApO1xuICBpZiAoY29uc3RWYWxPclJhbmRvbWl6ZXIuZ2VuZXJhdGUpIHJldHVybiBjb25zdFZhbE9yUmFuZG9taXplci5nZW5lcmF0ZSh0YXJnZXQpO1xuICByZXR1cm4gdGFyZ2V0LmNvcHkoY29uc3RWYWxPclJhbmRvbWl6ZXIpO1xufVxuXG4vKipcbiAqIFJldHVybiBlaXRoZXIgdGhlIHZhbHVlIG9mIGEgcmFuZG9taXplciwgYSBjb25zdCB2YWx1ZSwgb3IgYSBkZWZhdWx0IGVtcHR5IG9yIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGdldENvbnN0T3JSYW5kb21Db2xvcih0YXJnZXQsIGNvbnN0VmFsT3JSYW5kb21pemVyLCByZXR1cm5OdWxsSWZVbmRlZmluZWQpIHtcbiAgdGFyZ2V0ID0gdGFyZ2V0IHx8IG5ldyBUSFJFRS5Db2xvcigpO1xuICBpZiAoIWNvbnN0VmFsT3JSYW5kb21pemVyKSByZXR1cm4gcmV0dXJuTnVsbElmVW5kZWZpbmVkID8gbnVsbCA6IHRhcmdldC5zZXRSR0IoMSwgMSwgMSk7XG4gIGlmIChjb25zdFZhbE9yUmFuZG9taXplci5nZW5lcmF0ZSkgcmV0dXJuIGNvbnN0VmFsT3JSYW5kb21pemVyLmdlbmVyYXRlKHRhcmdldCk7XG4gIHJldHVybiB0YXJnZXQuY29weShjb25zdFZhbE9yUmFuZG9taXplcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGFydGljbGU7XG4iLCIvKipcbiAqIEltcGxlbWVudCB2ZXJ0ZXggc2hhZGVyIGZvciBvdXIgcGFydGljbGVzLlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4gKi9cbnZhciBjb2RlID0gYFxuLy8gYXR0cmlidXRlcyB3ZSBnZXQgZnJvbSBnZW9tZXRyeVxuYXR0cmlidXRlIGZsb2F0IGFscGhhO1xuXG4vLyBwZXItcGFydGljbGUgc2l6ZVxuI2lmZGVmIENPTlNUX1NJWkVcbiAgICB1bmlmb3JtIGZsb2F0IGNvbnN0U2l6ZTtcbiNlbHNlXG4gICAgYXR0cmlidXRlIGZsb2F0IHNpemU7XG4jZW5kaWZcblxuLy8gcGVyLXBhcnRpY2xlIHJvdGF0aW9uXG4jaWZkZWYgUk9UQVRJT05cbiAgICBhdHRyaWJ1dGUgZmxvYXQgcm90YXRpb247XG4jZW5kaWZcblxuLy8gc3lzdGVtIHNjYWxlIHdoZW4gdXNpbmcgcGVyc3BlY3RpdmUgbW9kZVxuI2lmZGVmIFBFUlNQRUNUSVZFXG4gICAgdW5pZm9ybSBmbG9hdCByZW5kZXJlclNjYWxlO1xuI2VuZGlmXG5cbi8vIG91dHB1dCBwYXJhbXMgZm9yIGZyYWdtZW50IHNoYWRlclxudmFyeWluZyBmbG9hdCB2QWxwaGE7XG5cbi8vIHNldCBwZXItcGFydGljbGUgY29sb3JcbiNpZmRlZiBDT0xPUklOR1xuICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7XG4jZW5kaWZcblxuLy8gZ2V0IHBlci1wYXJ0aWNsZSByb3RhdGlvblxuI2lmZGVmIFJPVEFUSU9OXG4gICAgdmFyeWluZyBmbG9hdCB2Um90YXRpb247XG4jZW5kaWZcblxuLy8gdmVydGV4IHNoYWRlciBtYWluXG52b2lkIG1haW4oKSBcbntcbiAgICAvLyBhbHBoYSBhbmQgY29sb3JcbiAgICB2QWxwaGEgPSBhbHBoYTtcblxuICAgIC8vIHNldCBjb2xvclxuICAgICNpZmRlZiBDT0xPUklOR1xuICAgICAgICB2Q29sb3IgPSBjb2xvcjtcbiAgICAjZW5kaWZcblxuICAgIC8vIHNldCBjb25zdCBzaXplXG4gICAgI2lmZGVmIENPTlNUX1NJWkVcbiAgICAgICAgZmxvYXQgc2l6ZSA9IGNvbnN0U2l6ZTtcbiAgICAjZW5kaWZcblxuICAgIC8vIHNldCBwb3NpdGlvblxuICAgIHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xuXG4gICAgLy8gYXBwbHkgcm90YXRpb25cbiAgICAjaWZkZWYgUk9UQVRJT05cbiAgICAgICAgdlJvdGF0aW9uID0gcm90YXRpb247XG4gICAgI2VuZGlmXG4gICAgXG4gICAgLy8gc2V0IHNpemUgLSBlaXRoZXIgcGVyc3BlY3RpdmUgb3IgY29uc3RhbnRcbiAgICAjaWZkZWYgUEVSU1BFQ1RJVkVcbiAgICAgICAgZ2xfUG9pbnRTaXplID0gc2l6ZSAqIChyZW5kZXJlclNjYWxlIC8gbGVuZ3RoKG12UG9zaXRpb24ueHl6KSk7XG4gICAgI2Vsc2VcbiAgICAgICAgZ2xfUG9pbnRTaXplID0gc2l6ZTtcbiAgICAjZW5kaWZcbn1cbmA7XG5tb2R1bGUuZXhwb3J0cyA9IGNvZGU7IiwiLyoqXG4gKiBJbXBsZW1lbnQgZnJhZ21lbnQgc2hhZGVyIGZvciBvdXIgcGFydGljbGVzLlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4gKi9cbnZhciBjb2RlID0gYFxuLy8gbWF0ZXJpYWwgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMyBnbG9iYWxDb2xvcjtcblxuLy8gcGFyYW1zIHdlIGdldCBmcm9tIHZlcnRleCBzaGFkZXJcbnZhcnlpbmcgZmxvYXQgdkFscGhhO1xuXG4vLyBwZXItcGFydGljbGUgY29sb3IgZnJvbSB2ZXJ0ZXggc2hhZGVyXG4jaWZkZWYgQ09MT1JJTkdcbiAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yO1xuI2VuZGlmXG5cbi8vIHBlci1wYXJ0aWNsZSByb3RhdGlvbiBmcm9tIHZlcnRleCBzaGFkZXJcbiNpZmRlZiBST1RBVElPTlxuICAgIHZhcnlpbmcgZmxvYXQgdlJvdGF0aW9uO1xuI2VuZGlmXG5cbi8vIGRpZmZ1c2UgdGV4dHVyZVxuI2lmZGVmIFRFWFRVUkVcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCBfdGV4dHVyZTtcbiNlbmRpZlxuXG4vLyBmcmFnbWVudCBzaGFkZXIgbWFpblxudm9pZCBtYWluKCkgXG57XG4gICAgLy8gc2V0IGRlZmF1bHQgY29sb3IgaWYgZG9uJ3QgaGF2ZSBwZXItcGFydGljbGUgY29sb3JzXG4gICAgI2lmbmRlZiBDT0xPUklOR1xuICAgICAgICB2ZWMzIHZDb2xvciA9IHZlYzMoMSwxLDEpO1xuICAgICNlbmRpZlxuXG4gICAgLy8gdGV4dHVyZVxuICAgICNpZmRlZiBURVhUVVJFXG5cbiAgICAgICAgLy8gdXNlIHJvdGF0aW9uIChyb3RhdGUgdGV4dHVyZSlcbiAgICAgICAgI2lmZGVmIFJPVEFUSU9OXG4gICAgICAgICAgICBmbG9hdCBtaWQgPSAwLjU7XG4gICAgICAgICAgICB2ZWMyIHJvdGF0ZWQgPSB2ZWMyKGNvcyh2Um90YXRpb24pICogKGdsX1BvaW50Q29vcmQueCAtIG1pZCkgKyBzaW4odlJvdGF0aW9uKSAqIChnbF9Qb2ludENvb3JkLnkgLSBtaWQpICsgbWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb3ModlJvdGF0aW9uKSAqIChnbF9Qb2ludENvb3JkLnkgLSBtaWQpIC0gc2luKHZSb3RhdGlvbikgKiAoZ2xfUG9pbnRDb29yZC54IC0gbWlkKSArIG1pZCk7XG4gICAgICAgICAgICB2ZWM0IHRleHR1cmVDb2wgPSB0ZXh0dXJlMkQoX3RleHR1cmUsICByb3RhdGVkKTtcbiAgICAgICAgLy8gbm8gcm90YXRpb25cbiAgICAgICAgI2Vsc2VcbiAgICAgICAgICAgIHZlYzIgY29vcmRzID0gdmVjMigoZ2xfUG9pbnRDb29yZC54IC0gMC41KSArIDAuNSwgKGdsX1BvaW50Q29vcmQueSAtIDAuNSkgKyAwLjUpO1xuICAgICAgICAgICAgdmVjNCB0ZXh0dXJlQ29sID0gdGV4dHVyZTJEKF90ZXh0dXJlLCBjb29yZHMpO1xuICAgICAgICAjZW5kaWZcblxuICAgICAgICAvLyBnZXQgY29sb3Igd2l0aCB0ZXh0dXJlXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoIGdsb2JhbENvbG9yICogdkNvbG9yLCB2QWxwaGEgKSAqIHRleHR1cmVDb2w7XG4gICAgICAgIFxuICAgIC8vIG5vIHRleHR1cmUgKGNvbG9ycyBvbmx5KVxuICAgICNlbHNlXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoIGdsb2JhbENvbG9yICogdkNvbG9yLCB2QWxwaGEgKTtcbiAgICAjZW5kaWZcblxuICAgIC8vIGNoZWNrIGlmIG5lZWQgdG8gZGlzY2FyZCBwaXhlbFxuICAgICNpZmRlZiBBTFBIQV9URVNUXG4gICAgICAgIGlmIChnbF9GcmFnQ29sb3IuYSA8IDAuMDAwMDEpIHsgZGlzY2FyZDsgfVxuICAgICNlbmRpZlxufVxuYDtcbm1vZHVsZS5leHBvcnRzID0gY29kZTsiLCIvKipcbiAqIENyZWF0ZSB0aGUgc2hhZGVyIG1hdGVyaWFsLlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4gKi9cbmNvbnN0IFRIUkVFID0gcmVxdWlyZSgndGhyZWUnKTtcbmNvbnN0IFZlcnRleFNoYWRlckNvZGUgPSByZXF1aXJlKCcuL3NoYWRlcnMvdmVydGV4Jyk7XG5jb25zdCBGcmFnbWVudFNoYWRlckNvZGUgPSByZXF1aXJlKCcuL3NoYWRlcnMvZnJhZ21lbnQnKTtcblxuLyoqXG4gKiBNYXRlcmlhbCBmb3IgcGFydGljbGVzLlxuICovXG5jbGFzcyBQYXJ0aWNsZXNNYXRlcmlhbFxue1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgcGFydGljbGVzIG1hdGVyaWFsLlxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBNYXRlcmlhbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLmNvbG9yIE1hdGVyaWFsIGdlbmVyYWwgY29sb3IuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnRyYW5zcGFyZW50IFNob3VsZCB3ZSBzdXBwb3J0IHRyYW5zcGFyZW5jeT9cbiAgICAgKiBAcGFyYW0ge1RIUkVFLkJsZW5kaW5nfSBvcHRpb25zLmJsZW5kaW5nIEJsZW5kaW5nIG1vZGUuXG4gICAgICogQHBhcmFtIHtUSFJFRS5UZXh0dXJlfSBvcHRpb25zLm1hcCBUZXh0dXJlIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMucGVyc3BlY3RpdmUgSWYgdHJ1ZSwgd2lsbCBzY2FsZSBwYXJ0aWNsZXMgYmFzZWQgb24gZGlzdGFuY2UgZnJvbSBjYW1lcmEuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnBlclBhcnRpY2xlQ29sb3IgSWYgdHJ1ZSwgd2lsbCBhbGxvdyBwZXItcGFydGljbGUgY29sb3JzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5wZXJQYXJ0aWNsZVJvdGF0aW9uIElmIHRydWUsIHdpbGwgYWxsb3cgcGVyLXBhcnRpY2xlIHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLmNvbnN0U2l6ZSBJZiBleGlzdCwgd2lsbCBzZXQgY29uc3Qgc2l6ZSB0byBhbGwgcGFydGljbGVzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5hbHBoYVRlc3QgSWYgdHJ1ZSwgd2lsbCBwZXJmb3JtIGFscGhhIHRlc3QgYW5kIGRpc2NhcmQgdHJhbnNwYXJlbnQgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5kZXB0aFdyaXRlIElmIHRydWUsIHdpbGwgcGVyZm9ybSBkZXB0aCB3cml0ZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuZGVwdGhUZXN0IElmIHRydWUsIHdpbGwgcGVyZm9ybSBkZXB0aCB0ZXN0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBzdG9yZSBvcHRpb25zXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgLy8gdW5pZm9ybXNcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgZ2xvYmFsQ29sb3I6IHsgdmFsdWU6IG5ldyBUSFJFRS5Db2xvciggb3B0aW9ucy5jb2xvciB8fCAweGZmZmZmZiApIH0sXG4gICAgICAgICAgICByZW5kZXJlclNjYWxlOiB7IHZhbHVlOiAxIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2V0IGZsYWdzIHRvIGNoYW5nZSBzaGFkZXJzIGJlaGF2aW9yXG4gICAgICAgIHZhciBmbGFncyA9IFwiXCI7XG4gICAgICAgIGlmIChvcHRpb25zLnBlcnNwZWN0aXZlKSB7XG4gICAgICAgICAgICBmbGFncyArPSBcIiNkZWZpbmUgUEVSU1BFQ1RJVkVcXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5tYXApIHtcbiAgICAgICAgICAgIGZsYWdzICs9IFwiI2RlZmluZSBURVhUVVJFXFxuXCI7XG4gICAgICAgICAgICB1bmlmb3Jtcy5fdGV4dHVyZSA9IHsgdmFsdWU6IG9wdGlvbnMubWFwIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucGVyUGFydGljbGVDb2xvcikge1xuICAgICAgICAgICAgZmxhZ3MgKz0gXCIjZGVmaW5lIENPTE9SSU5HXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucGVyUGFydGljbGVSb3RhdGlvbikge1xuICAgICAgICAgICAgZmxhZ3MgKz0gXCIjZGVmaW5lIFJPVEFUSU9OXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuY29uc3RTaXplKSB7XG4gICAgICAgICAgICBmbGFncyArPSBcIiNkZWZpbmUgQ09OU1RfU0laRVxcblwiO1xuICAgICAgICAgICAgdW5pZm9ybXMuY29uc3RTaXplID0geyB2YWx1ZTogb3B0aW9ucy5jb25zdFNpemUgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5hbHBoYVRlc3QpIHtcbiAgICAgICAgICAgIGZsYWdzICs9IFwiI2RlZmluZSBBTFBIQV9URVNUXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgZmxhZ3MgKz0gXCJcXG5cIjtcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIGludGVybmFsIG1hdGVyaWFsXG4gICAgICAgIHZhciBzaGFkZXJNYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICAgICAgICB1bmlmb3JtczogICAgICAgdW5pZm9ybXMsXG4gICAgICAgICAgICB2ZXJ0ZXhTaGFkZXI6ICAgZmxhZ3MgKyBWZXJ0ZXhTaGFkZXJDb2RlLFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGZsYWdzICsgRnJhZ21lbnRTaGFkZXJDb2RlLFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6ICAgIEJvb2xlYW4ob3B0aW9ucy50cmFuc3BhcmVudCksXG4gICAgICAgICAgICBibGVuZGluZzogICAgICAgb3B0aW9ucy5ibGVuZGluZyxcbiAgICAgICAgICAgIHZlcnRleENvbG9yczogICBUSFJFRS5WZXJ0ZXhDb2xvcnMsXG4gICAgICAgICAgICBkZXB0aFdyaXRlOiAgICAgQm9vbGVhbihvcHRpb25zLmRlcHRoV3JpdGUpLFxuICAgICAgICAgICAgZGVwdGhUZXN0OiAgICAgIEJvb2xlYW4ob3B0aW9ucy5kZXB0aFRlc3QpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IHNoYWRlck1hdGVyaWFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2UgdGhlIG1hdGVyaWFsLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNldCB1bmlmaWVkIHNjYWxlIGZvciBhbGwgcGFydGljbGVzLlxuICAgICAqL1xuICAgIHNldEJhc2VTY2FsZSh2YWwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlcnNwZWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnJlbmRlcmVyU2NhbGUudmFsdWUgPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGFydGljbGVzTWF0ZXJpYWw7IiwiLyoqXG4gKiBEZWZpbmUgaW50ZXJmYWNlIGZvciBhIGhlbHBlciBjbGFzcyB0byBnZW5lcmF0ZSByYW5kb20gdmVjdG9ycyBhbmQgY29sb3JzLlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4gKi9cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgdmVjdG9yIHJhbmRvbWl6ZXJzLlxuICovXG5jbGFzcyBSYW5kb21pemVyIHtcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGFuZCByZXR1cm4gYSByYW5kb20gdmFsdWUuXG4gICAqIFRoaXMgaXMgdGhlIG1haW4gbWV0aG9kIHRvIGltcGxlbWVudC5cbiAgICovXG4gIGdlbmVyYXRlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbn1cblxuLy8gZXhwb3J0IHRoZSBiYXNlIGNsYXNzXG5tb2R1bGUuZXhwb3J0cyA9IFJhbmRvbWl6ZXI7XG4iLCIvKipcbiAqIEdlbmVyYXRlIHZlY3RvcnMgd2l0aGluIGEgM2QgYm94LlxuICogQXV0aG9yOiBSb25lbiBOZXNzLlxuICogU2luY2U6IDIwMTkuXG4gKi9cbmNvbnN0IFRIUkVFID0gcmVxdWlyZShcInRocmVlXCIpO1xuY29uc3QgUmFuZG9taXplciA9IHJlcXVpcmUoXCIuL3JhbmRvbWl6ZXJcIik7XG5jb25zdCBVdGlscyA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcblxuLyoqXG4gKiBCb3ggdmVjdG9yIHJhbmRvbWl6ZXIuXG4gKi9cbmNsYXNzIEJveFJhbmRvbWl6ZXIgZXh0ZW5kcyBSYW5kb21pemVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYm94IHJhbmRvbWl6ZXIgZnJvbSBtaW4gYW5kIG1heCB2ZWN0b3JzIHRvIHJhbmRvbWl6ZSBiZXR3ZWVuLlxuICAgKi9cbiAgY29uc3RydWN0b3IobWluLCBtYXgpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWluID0gbWluIHx8IG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAtMSwgLTEpO1xuICAgIHRoaXMubWF4ID0gbWF4IHx8IG5ldyBUSFJFRS5WZWN0b3IzKDEsIDEsIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgcmFuZG9tIHZlY3Rvci5cbiAgICovXG4gIGdlbmVyYXRlKHRhcmdldCkge1xuICAgIHJldHVybiBVdGlscy5nZXRSYW5kb21WZWN0b3JCZXR3ZWVuKHRoaXMubWluLCB0aGlzLm1heCwgdGFyZ2V0KTtcbiAgfVxufVxuXG4vLyBleHBvcnQgdGhlIHJhbmRvbWl6ZXIgY2xhc3Ncbm1vZHVsZS5leHBvcnRzID0gQm94UmFuZG9taXplcjtcbiIsIi8qKlxuICogR2VuZXJhdGUgdmVjdG9ycyB3aXRoaW4gYSAzZCBzcGhlcmUuXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5jb25zdCBSYW5kb21pemVyID0gcmVxdWlyZShcIi4vcmFuZG9taXplclwiKTtcbmNvbnN0IFV0aWxzID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuXG5jb25zdCBNSU5fVkVDID0gbmV3IFRIUkVFLlZlY3RvcjMoLTEsIC0xLCAtMSk7XG5jb25zdCBNQVhfVkVDID0gbmV3IFRIUkVFLlZlY3RvcjMoMSwgMSwgMSk7XG5cbi8vIHJhbmRvbSBiZXR3ZWVuIC0xIGFuZCAxLlxuZnVuY3Rpb24gcmFuZE1pbnVzVG9PbmUoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICogMiAtIDE7XG59XG5cbi8qKlxuICogU3BoZXJlIHZlY3RvciByYW5kb21pemVyLlxuICovXG5jbGFzcyBTcGhlcmVSYW5kb21pemVyIGV4dGVuZHMgUmFuZG9taXplciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHNwaGVyZSByYW5kb21pemVyIGZyb20gcmFkaXVzIGFuZCBvcHRpb25hbCBzY2FsZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYXhSYWRpdXMsIG1pblJhZGl1cywgc2NhbGVyLCBtaW5WZWN0b3IsIG1heFZlY3Rvcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tYXhSYWRpdXMgPSBtYXhSYWRpdXMgfHwgMTtcbiAgICB0aGlzLm1pblJhZGl1cyA9IG1pblJhZGl1cyB8fCAwO1xuICAgIHRoaXMuc2NhbGVyID0gc2NhbGVyO1xuICAgIHRoaXMubWluVmVjdG9yID0gbWluVmVjdG9yO1xuICAgIHRoaXMubWF4VmVjdG9yID0gbWF4VmVjdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgcmFuZG9tIHZlY3Rvci5cbiAgICovXG4gIGdlbmVyYXRlKHRhcmdldCkge1xuICAgIHRhcmdldCA9IHRhcmdldCB8fCBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG4gICAgLy8gY3JlYXRlIHJhbmRvbSB2ZWN0b3JcbiAgICB0YXJnZXQuc2V0KHJhbmRNaW51c1RvT25lKCksIHJhbmRNaW51c1RvT25lKCksIHJhbmRNaW51c1RvT25lKCkpO1xuXG4gICAgLy8gY2xhbXAgdmFsdWVzXG4gICAgaWYgKHRoaXMubWluVmVjdG9yIHx8IHRoaXMubWF4VmVjdG9yKSB7XG4gICAgICB0YXJnZXQuY2xhbXAodGhpcy5taW5WZWN0b3IgfHwgTUlOX1ZFQywgdGhpcy5tYXhWZWN0b3IgfHwgTUFYX1ZFQyk7XG4gICAgfVxuXG4gICAgLy8gbm9ybWFsaXplIGFuZCBtdWx0aXBseSBieSByYWRpdXNcbiAgICB0YXJnZXQubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoVXRpbHMuZ2V0UmFuZG9tQmV0d2Vlbih0aGlzLm1pblJhZGl1cywgdGhpcy5tYXhSYWRpdXMpKTtcblxuICAgIC8vIGFwcGx5IHNjYWxlclxuICAgIGlmICh0aGlzLnNjYWxlcikge1xuICAgICAgdGFyZ2V0Lm11bHRpcGx5KHRoaXMuc2NhbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxufVxuXG4vLyBleHBvcnQgdGhlIHJhbmRvbWl6ZXIgY2xhc3Ncbm1vZHVsZS5leHBvcnRzID0gU3BoZXJlUmFuZG9taXplcjtcbiIsIi8qKlxuICogR2VuZXJhdGUgdmVjdG9ycyB3aXRoaW4gYSAzZCBib3guXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5jb25zdCBSYW5kb21pemVyID0gcmVxdWlyZShcIi4vcmFuZG9taXplclwiKTtcbmNvbnN0IFV0aWxzID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuXG4vKipcbiAqIEJveCB2ZWN0b3IgcmFuZG9taXplci5cbiAqL1xuY2xhc3MgQ29sb3JzUmFuZG9taXplciBleHRlbmRzIFJhbmRvbWl6ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIHRoZSBib3ggcmFuZG9taXplciBmcm9tIG1pbiBhbmQgbWF4IGNvbG9ycyB0byByYW5kb21pemUgYmV0d2Vlbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1pbiwgbWF4KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1pbiA9IG1pbiB8fCBuZXcgVEhSRUUuQ29sb3IoMCwgMCwgMCk7XG4gICAgdGhpcy5tYXggPSBtYXggfHwgbmV3IFRIUkVFLkNvbG9yKDEsIDEsIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgcmFuZG9tIGNvbG9yLlxuICAgKi9cbiAgZ2VuZXJhdGUodGFyZ2V0KSB7XG4gICAgcmV0dXJuIFV0aWxzLmdldFJhbmRvbUNvbG9yQmV0d2Vlbih0aGlzLm1pbiwgdGhpcy5tYXgsIHRhcmdldCk7XG4gIH1cbn1cblxuLy8gZXhwb3J0IHRoZSByYW5kb21pemVyIGNsYXNzXG5tb2R1bGUuZXhwb3J0cyA9IENvbG9yc1JhbmRvbWl6ZXI7XG4iLCIvKipcbiAqIEdlbmVyYXRlIG51bWJlcnMgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAqIEF1dGhvcjogUm9uZW4gTmVzcy5cbiAqIFNpbmNlOiAyMDE5LlxuICovXG5jb25zdCBSYW5kb21pemVyID0gcmVxdWlyZShcIi4vcmFuZG9taXplclwiKTtcbmNvbnN0IFV0aWxzID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuXG4vKipcbiAqIE1pbi1NYXggbnVtYmVyIHJhbmRvbWl6ZXIuXG4gKi9cbmNsYXNzIE1pbk1heFJhbmRvbWl6ZXIgZXh0ZW5kcyBSYW5kb21pemVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgbWluLW1heCByYW5kb21pemVyIGZyb20gbWluIGFuZCBtYXguXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtaW4sIG1heCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5taW4gPSBtaW47XG4gICAgdGhpcy5tYXggPSBtYXg7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSByYW5kb20gbnVtYmVyLlxuICAgKi9cbiAgZ2VuZXJhdGUoKSB7XG4gICAgcmV0dXJuIFV0aWxzLmdldFJhbmRvbUJldHdlZW4odGhpcy5taW4sIHRoaXMubWF4KTtcbiAgfVxufVxuXG4vLyBleHBvcnQgdGhlIHJhbmRvbWl6ZXIgY2xhc3Ncbm1vZHVsZS5leHBvcnRzID0gTWluTWF4UmFuZG9taXplcjtcbiIsIi8qKlxuICogTW9kdWxlIG1haW4gZW50cnkgcG9pbnQuXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBSYW5kb21pemVyOiByZXF1aXJlKCcuL3JhbmRvbWl6ZXInKSxcbiAgICBCb3hSYW5kb21pemVyOiByZXF1aXJlKCcuL2JveF9yYW5kb21pemVyJyksXG4gICAgU3BoZXJlUmFuZG9taXplcjogcmVxdWlyZSgnLi9zcGhlcmVfcmFuZG9taXplcicpLFxuICAgIENvbG9yc1JhbmRvbWl6ZXI6IHJlcXVpcmUoJy4vY29sb3JzX3JhbmRvbWl6ZXInKSxcbiAgICBNaW5NYXhSYW5kb21pemVyOiByZXF1aXJlKCcuL21pbm1heF9yYW5kb21pemVyJyksXG59IiwiLyoqXG4gKiBJbXBsZW1lbnQgYW4gZW1pdHRlciBjbGFzcyB0byBnZW5lcmF0ZSBwYXJ0aWNsZXMuXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiovXG5jb25zdCBVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbmNvbnN0IHJhbmRvbWl6ZXJPclZhbHVlID0gVXRpbHMucmFuZG9taXplck9yVmFsdWU7XG5cbi8qKlxuICogRW1pdHRlciBjbGFzcyB0byBkZXRlcm1pbmUgcmF0ZSBvZiBwYXJ0aWNsZXMgZ2VuZXJhdGlvbi5cbiAqL1xuY2xhc3MgRW1pdHRlclxue1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgZW1pdHRlciBjbGFzcy5cbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgRW1pdHRlciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucy5vblNwYXduQnVyc3QgQnVyc3Qgb2YgcGFydGljbGVzIHdoZW4gcGFydGljbGUgc3lzdGVtIHN0YXJ0czsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKE51bWJlcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIG51bWJlcnMuXG4gICAgICogQHBhcmFtIHsqfSBvcHRpb25zLm9uSW50ZXJ2YWwgQnVyc3Qgb2YgcGFydGljbGVzIGV2ZXJ5IGludGVydmFsOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5pbnRlcnZhbCBTcGF3biBpbnRlcnZhbCB0aW1lLCBpbiBzZWNvbmRzOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5kZXRvcmV0aW5nTWluVHRsIElmIHByb3ZpZGVkIGFuZCBwYXJ0aWNsZSBzeXN0ZW0ncyB0dGwgaXMgYmVsb3cgdGhpcyB2YWx1ZSwgd2lsbCBzdGFydCBlbWl0dGluZyBsZXNzIGFuZCBsZXNzIHVudGlsIHN0b3BwaW5nIGNvbXBsZXRlbHkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMuaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsIHx8IDE7XG4gICAgICAgIHRoaXMuYWdlID0gMDtcbiAgICAgICAgdGhpcy50aW1lVG9TcGF3biA9IE1hdGgucmFuZG9tKCkgKiByYW5kb21pemVyT3JWYWx1ZShvcHRpb25zLmludGVydmFsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgZW1pdHRlciBhbmQgcmV0dXJuIGhvdyBtYW55IHBhcnRpY2xlcyBzaG91bGQgYmUgZ2VuZXJhdGVkIHRoaXMgZnJhbWUuXG4gICAgICovXG4gICAgdXBkYXRlKGRlbHRhVGltZSwgc3lzdGVtKVxuICAgIHtcbiAgICAgICAgLy8gcGFydGljbGVzIHRvIGdlbmVyYXRlXG4gICAgICAgIGxldCByZXQgPSAwO1xuXG4gICAgICAgIC8vIGZpcnN0IHVwZGF0ZT8gZG8gYnVyc3RcbiAgICAgICAgaWYgKHRoaXMuYWdlID09PSAwICYmIHRoaXMub3B0aW9ucy5vblNwYXduQnVyc3QpIHtcbiAgICAgICAgICAgIHJldCArPSByYW5kb21pemVyT3JWYWx1ZSh0aGlzLm9wdGlvbnMub25TcGF3bkJ1cnN0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gdXBkYXRlIGFnZVxuICAgICAgICB0aGlzLmFnZSArPSBkZWx0YVRpbWU7XG5cbiAgICAgICAgLy8gbm8gaW50ZXJ2YWwgZW1pdHRpbmc/IHNraXBcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMub25JbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIGludmVydmFsIGV4cGlyZWRcbiAgICAgICAgdGhpcy50aW1lVG9TcGF3biAtPSBkZWx0YVRpbWU7XG4gICAgICAgIGlmICh0aGlzLnRpbWVUb1NwYXduIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMudGltZVRvU3Bhd24gPSByYW5kb21pemVyT3JWYWx1ZSh0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmV0ICs9IHJhbmRvbWl6ZXJPclZhbHVlKHRoaXMub3B0aW9ucy5vbkludGVydmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIGRldG9yYXRpb25cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kZXRvcmV0aW5nTWluVHRsICYmIHN5c3RlbS50dGwgPCB0aGlzLm9wdGlvbnMuZGV0b3JldGluZ01pblR0bCkge1xuICAgICAgICAgICAgdmFyIGRldG9yYXRlRmFjdG9yID0gc3lzdGVtLnR0bCAvIHRoaXMub3B0aW9ucy5kZXRvcmV0aW5nTWluVHRsO1xuICAgICAgICAgICAgcmV0ICo9IGRldG9yYXRlRmFjdG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJuIG51bWJlciBvZiBwYXJ0aWNsZXMgdG8gZ2VuZXJhdGVcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG59XG5cbi8vIGV4cG9ydCB0aGUgZW1pdHRlciBjbGFzc1xubW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyOyIsIi8qKlxuICogSW1wbGVtZW50IGJhc2ljIHBhcnRpY2xlcyBzeXN0ZW0uXG4gKiBBdXRob3I6IFJvbmVuIE5lc3MuXG4gKiBTaW5jZTogMjAxOS5cbiAqL1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5jb25zdCBQYXJ0aWNsZSA9IHJlcXVpcmUoXCIuL3BhcnRpY2xlXCIpO1xuY29uc3QgUGFydGljbGVzTWF0ZXJpYWwgPSByZXF1aXJlKFwiLi9tYXRlcmlhbC9tYXRlcmlhbFwiKTtcblxuY29uc3QgUmFuZG9taXplcnMgPSByZXF1aXJlKFwiLi9yYW5kb21pemVyc1wiKTtcbmNvbnN0IEVtaXR0ZXIgPSByZXF1aXJlKFwiLi9lbWl0dGVyXCIpO1xuXG5jb25zdCBOVUxMX0FSUkFZID0gW107XG5cbmNvbnN0IEJMRU5ESU5HX09QVElPTlMgPSB7XG4gIG9wYXF1ZTogVEhSRUUuTm9CbGVuZGluZyxcbiAgYWRkaXRpdmU6IFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcsXG4gIG11bHRpcGx5OiBUSFJFRS5NdWx0aXBseUJsZW5kaW5nLFxuICBibGVuZDogVEhSRUUuTm9ybWFsQmxlbmRpbmdcbn07XG5cbi8vIHRvIGNoZWNrIGlmIHZhbHVlIGlzIGRlZmluZWRcbmZ1bmN0aW9uIGRlZmluZWQodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGw7XG59XG5cbi8qKlxuICogZGVlcC1jb3BpZXMgdGhlIHNldHRpbmdzLFxuICogYW5kIHJlcGxhY2VzIHRoZSBvYmplY3RzIHRoYXQgaGF2ZSBhIFwibW9kdWxlVHlwZVwiXG4gKiB2YWx1ZSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBjbGFzcyBmcm9tIHBhcnR5a2Fscy5cbiAqXG4gKiBhIG9iamVjdCwgdGhhdCBjYW4gYmUgcmVwbGFjZWQgbXVzdCBsb29rIGxpa2VcbiAqIHsgbW9kdWxlVHlwZTpcImUuZy4gQ29sb3JzUmFuZG9taXplclwiLCB2YWx1ZXM6W29wdGlvbmFsIHBhcmFtZXRlcnNdfVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm5zIHRoZSBjb3BpZWQgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGNvcHlGcm9tSlNPTihvYmplY3QsIHJlc291cmNlcykge1xuICBpZiAoIW9iamVjdCkgcmV0dXJuIG9iamVjdDsgLy8gY2FuIGVpdGhlciBiZSAwLCB1bmRlZmluZWQsIG51bGwsIFwiXCIgLT4gd2UgZG8gbm90IGNhcmUgYW55d2F5c1xuXG4gIGlmICh0eXBlb2Ygb2JqZWN0ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iamVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0LnB1c2goY29weUZyb21KU09OKG9iamVjdFtpXSwgcmVzb3VyY2VzKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBvYmplY3QsIGNyZWF0ZSBhIG5ldyBvYmplY3QgYW5kXG4gIC8vIGNvcHkgYWxsIHN1YiB2YWx1ZXNcbiAgaWYgKCFvYmplY3QubW9kdWxlVHlwZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gY29weUZyb21KU09OKG9iamVjdFtrZXldLCByZXNvdXJjZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKG9iamVjdC5tb2R1bGVUeXBlID09PSBcInRleHR1cmVcIikge1xuICAgIHJldHVybiByZXNvdXJjZXNbb2JqZWN0LnBhcmFtc1swXV07XG4gIH1cblxuICAvLyBpZiB3ZSBuZWVkIHRvIGNvbnZlcnQgdG8gb2JqZWN0XG4gIGNvbnN0IEMgPSBUSFJFRVtvYmplY3QubW9kdWxlVHlwZV0gfHwgUmFuZG9taXplcnNbb2JqZWN0Lm1vZHVsZVR5cGVdO1xuICByZXR1cm4gbmV3IEMoLi4uKG9iamVjdC5wYXJhbXMgfHwgTlVMTF9BUlJBWSkpO1xufVxuXG4vKipcbiAqIFBhcnRpY2xlcyBzeXN0ZW0uXG4gKi9cbmNsYXNzIFBhcnRpY2xlc1N5c3RlbSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgcGFydGljbGVzIHN5c3RlbS5cbiAgICogQHBhcmFtIHsqfSBvcHRpb25zIFBhcnRpY2xlcyBvcHRpb25zLlxuICAgKiBAcGFyYW0ge1RIUkVFLk9iamVjdDNEfSBvcHRpb25zLmNvbnRhaW5lciBDb250YWluZXIgdG8gYWRkIHBhcnRpY2xlcyBzeXN0ZW0gdG8uXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFUyBPUFRJT05TXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQHBhcmFtIHsqfSBvcHRpb25zLnBhcnRpY2xlcyBQYXJ0aWNsZS1yZWxhdGVkIG9wdGlvbnMuXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFUyBUVExcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFydGljbGVzLnR0bCBIb3cgbG9uZywgaW4gc2Vjb25kcywgZXZlcnkgcGFydGljbGUgbGl2ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy50dGxFeHRyYSBJZiBwcm92aWRlZCwgd2lsbCBhZGQgcmFuZG9tIG51bWJlcnMgZnJvbSAwIHRvIHR0bEV4dHJhIHRvIHBhcnRpY2xlJ3MgdHRsLlxuICAgKlxuICAgKiAvLyBQQVJUSUNMRVMgRkFESU5HIC8gQUxQSEFcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnBhcnRpY2xlcy5hbHBoYSBQZXItcGFydGljbGUgY29uc3RhbnQgYWxwaGE7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5zdGFydEFscGhhIFBhcnRpY2xlcyBzdGFydGluZyBvcGFjaXR5OyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuZW5kQWxwaGEgUGFydGljbGVzIGVuZGluZyBvcGFjaXR5OyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuc3RhcnRBbHBoYUNoYW5nZUF0IFdpbGwgb25seSBzdGFydCBzaGlmdGluZyBhbHBoYSB3aGVuIGFnZSBpcyBvdmVyIHRoaXMgdmFsdWU7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChOdW1iZXIpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqXG4gICAqIC8vIFBBUlRJQ0xFUyBHUk9XSU5HIC8gU0laRVxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuc2l6ZSBQZXItcGFydGljbGUgY29uc3RhbnQgc2l6ZTsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKE51bWJlcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFydGljbGVzLnN0YXJ0U2l6ZSBQYXJ0aWNsZXMgc3RhcnRpbmcgc2l6ZTsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKE51bWJlcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFydGljbGVzLmVuZFNpemUgUGFydGljbGVzIGVuZGluZyBzaXplOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuc3RhcnRTaXplQ2hhbmdlQXQgV2lsbCBvbmx5IHN0YXJ0IHNoaWZ0aW5nIHNpemUgd2hlbiBhZ2UgaXMgb3ZlciB0aGlzIHZhbHVlOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKlxuICAgKiAvLyBQQVJUSUNMRVMgQ09MT1JJTkdcbiAgICogQHBhcmFtIHtUSFJFRS5Db2xvcn0gb3B0aW9ucy5wYXJ0aWNsZXMuY29sb3IgUGVyLXBhcnRpY2xlIGNvbnN0YW50IGNvbG9yOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoVEhSRUUuQ29sb3IpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7VEhSRUUuQ29sb3J9IG9wdGlvbnMucGFydGljbGVzLnN0YXJ0Q29sb3IgU3RhcnRpbmcgY29sb3IgbWluIHZhbHVlOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoVEhSRUUuQ29sb3IpIG9yIGEgUGFydHlrYWxzLlJhbmRvbWl6ZXJzLlJhbmRvbWl6ZXIgaW5zdGFuY2UgdG8gY3JlYXRlIHJhbmRvbSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7VEhSRUUuQ29sb3J9IG9wdGlvbnMucGFydGljbGVzLmVuZENvbG9yIEVuZGluZyBjb2xvciBtaW4gdmFsdWU7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChUSFJFRS5Db2xvcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFydGljbGVzLnN0YXJ0Q29sb3JDaGFuZ2VBdCBXaWxsIG9ubHkgc3RhcnQgc2hpZnRpbmcgY29sb3Igd2hlbiBhZ2UgaXMgb3ZlciB0aGlzIHZhbHVlOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKlxuICAgKiAvLyBQQVJUSUNMRVMgQUNDRUxFUkFUSU9OXG4gICAqIEBwYXJhbSB7VEhSRUUuVmVjdG9yM30gb3B0aW9ucy5wYXJ0aWNsZXMuYWNjZWxlcmF0aW9uIFBhcnRpY2xlcyBhY2NlbGVyYXRpb247IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChUSFJFRS5WZWN0b3IzKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuZ3Jhdml0eSBHcmF2aXR5IGZvcmNlIGFmZmVjdGluZyB0aGUgcGFydGljbGVzLlxuICAgKlxuICAgKiAvLyBQQVJUSUNMRVMgUk9UQVRJT05cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFydGljbGVzLnJvdGF0aW9uIFBlci1wYXJ0aWNsZSByb3RhdGlvbiAob25seSB3b3JrcyB3aXRoIHRleHR1cmUpOyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoTnVtYmVyKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMucm90YXRpb25TcGVlZCBQYXJ0aWNsZXMgcm90YXRpb24gc3BlZWQgKG9ubHkgd29ya3Mgd2l0aCB0ZXh0dXJlKTsgZWl0aGVyIGEgY29uc3RhbnQgdmFsdWUgKE51bWJlcikgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICpcbiAgICogLy8gUEFSVElDTEVTIFZFTE9DSVRZXG4gICAqIEBwYXJhbSB7Kn0gb3B0aW9ucy5wYXJ0aWNsZXMudmVsb2NpdHkgUGFydGljbGVzIHN0YXJ0aW5nIHZlbG9jaXR5OyBlaXRoZXIgYSBjb25zdGFudCB2YWx1ZSAoVEhSRUUuVmVjdG9yMykgb3IgYSBQYXJ0eWthbHMuUmFuZG9taXplcnMuUmFuZG9taXplciBpbnN0YW5jZSB0byBjcmVhdGUgcmFuZG9tIHZhbHVlcy5cbiAgICogQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSBvcHRpb25zLnBhcnRpY2xlcy52ZWxvY2l0eUJvbnVzIFZlbG9jaXR5IHZhbHVlIHRvIGFkZCB0byBhbGwgcGFydGljbGVzIGFmdGVyIHJhbmRvbWl6aW5nIHZlbG9jaXR5LlxuICAgKlxuICAgKiAvLyBQQVJUSUNMRVMgT0ZGU0VUXG4gICAqIEBwYXJhbSB7VEhSRUUuVmVjdG9yM30gb3B0aW9ucy5wYXJ0aWNsZXMub2Zmc2V0IFBhcnRpY2xlcyBvZmZzZXQgZnJvbSBzeXN0ZW0ncyBjZW50ZXI7IGVpdGhlciBhIGNvbnN0YW50IHZhbHVlIChUSFJFRS5WZWN0b3IzKSBvciBhIFBhcnR5a2Fscy5SYW5kb21pemVycy5SYW5kb21pemVyIGluc3RhbmNlIHRvIGNyZWF0ZSByYW5kb20gdmFsdWVzLlxuICAgKlxuICAgKiAvLyBQQVJUSUNMRSBHTE9CQUxTXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5wYXJ0aWNsZXMud29ybGRQb3NpdGlvbiBJZiB0cnVlLCBwYXJ0aWNsZXMgd2lsbCBtYWludGFpbiB0aGVpciB3b3JsZCBwb3NpdGlvbiBhZnRlciBzcGF3biBldmVuIGlmIHRoZSBzeXN0ZW0gbW92ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhcnRpY2xlcy5nbG9iYWxTaXplIENvbnN0IHNpemUgZm9yIGFsbCBwYXJ0aWNsZXMuIE5vdGU6IHRoaXMgaXMgbW9yZSBlZmZpY2llbnQgdGhhbiBzZXR0aW5nIHBlci1wYXJ0aWNsZSBzaXplIHByb3BlcnR5LlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXJ0aWNsZXMuZ2xvYmFsQ29sb3IgR2xvYmFsIGNvbG9yIHRvIGFmZmVjdCBhbGwgcGFydGljbGVzLiBOb3RlOiB0aGlzIGlzIG1vcmUgZWZmaWNpZW50IHRoYW4gc2V0dGluZyBwZXItcGFydGljbGUgY29sb3IgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnBhcnRpY2xlcy5ibGVuZGluZyBQYXJ0aWNsZXMgYmxlbmRpbmcgbW9kZSAob3BhcXVlIC8gYmxlbmQgLyBhZGRpdGl2ZSkuXG4gICAqIEBwYXJhbSB7VEhSRUUuVGV4dHVyZX0gb3B0aW9ucy5wYXJ0aWNsZXMudGV4dHVyZSBQYXJ0aWNsZSdzIHRleHR1cmUgdG8gdXNlLlxuICAgKlxuICAgKiAvLyBDVVNUT00gQ0FMTEJBQ0tTXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMucGFydGljbGVzLm9uVXBkYXRlIE9wdGlvbmFsIG1ldGhvZCB0byBjYWxsIHBlci1wYXJ0aWNsZSBldmVyeSB1cGRhdGUgZnJhbWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMucGFydGljbGVzLm9uU3Bhd24gT3B0aW9uYWwgbWV0aG9kIHRvIGNhbGwgcGVyLXBhcnRpY2xlIGV2ZXJ5IHRpbWUgYSBwYXJ0aWNsZSBzcGF3bnMgKGFmdGVyIGV2ZXJ5dGhpbmcgaXMgc2V0KS5cbiAgICpcbiAgICogLy8gU1lTVEVNIE9QVElPTlNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnMuc3lzdGVtIFN5c3RlbS1yZWxhdGVkIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnN5c3RlbS5wYXJ0aWNsZXNDb3VudCBQYXJ0aWNsZXMgY291bnQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnN5c3RlbS50dGwgSG93IGxvbmcsIGluIHNlY29uZHMsIHRoZSBwYXJ0aWNsZSBzeXN0ZW0gbGl2ZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnN5c3RlbS5zcGVlZCBTcGVlZCBmYWN0b3IgdG8gYWZmZWN0IGFsbCBwYXJ0aWNsZXMgYW5kIGVtaXR0aW5nLiBOb3RlOiB0aGUgb25seSB0aGluZyB0aGlzIGRvbid0IGFmZmVjdCBpcyBzeXN0ZW0ncyB0dGwuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMuc3lzdGVtLm9uVXBkYXRlIE9wdGlvbmFsIG1ldGhvZCB0byBjYWxsIGV2ZXJ5IHVwZGF0ZSBmcmFtZS5cbiAgICogQHBhcmFtIHtQYXJ0eWthbHMuRW1pdHRlcn0gb3B0aW9ucy5zeXN0ZW0uZW1pdHRlcnMgQSBzaW5nbGUgZW1pdHRlciBvciBhIGxpc3Qgb2YgZW1pdHRlcnMgdG8gYXR0YWNoIHRvIHRoaXMgc3lzdGVtLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuc3lzdGVtLnBlcnNwZWN0aXZlIElmIHRydWUsIHdpbGwgc2NhbGUgcGFydGljbGVzIGJhc2VkIG9uIGRpc3RhbmNlIGZyb20gY2FtZXJhLlxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5zeXN0ZW0uc2NhbGUgT3ZlcmFsbCBzeXN0ZW0gc2NhbGUgd2hlbiBpbiBwZXJzcGVjdGl2ZSBtb2RlIChpZiBwZXJzcGVjdGl2ZT1mYWxzZSwgd2lsbCBiZSBpZ25vcmVkKS4gQSBnb29kIHZhbHVlIGlzIGJldHdlZW4gNDAwIGFuZCA2MDAuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5zeXN0ZW0uZGVwdGhXcml0ZSBTaG91bGQgd2UgcGVyZm9ybSBkZXB0aCB3cml0ZT8gKGRlZmF1bHQgdG8gdHJ1ZSkuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5zeXN0ZW0uZGVwdGhUZXN0IFNob3VsZCB3ZSBwZXJmb3JtIGRlcHRoIHRlc3Q/IChkZWZhdWx0IHRvIHRydWUpLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8vIHVzZSBiaW5kT2JqZWN0LCB0byBzZXQgdGhlc2UgdmFsdWVzXG4gICAgLy8gdGhlbiBwYXJ0aWNsZSBzeXN0ZW0gZm9sbG93cyB0aGUgcGFzc2VkIG9iamVjdFxuICAgIHRoaXMuYm91bmRPYmplY3QgPSBudWxsO1xuICAgIHRoaXMubG9ja0JvdW5kUm90YXRpb24gPSB0cnVlO1xuXG4gICAgLy8gc3RvcmUgb3B0aW9uc1xuICAgIG9wdGlvbnMucGFydGljbGVzID0gb3B0aW9ucy5wYXJ0aWNsZXMgfHwgeyB3b3JsZFBvc2l0aW9uOiB0cnVlIH07XG4gICAgb3B0aW9ucy5zeXN0ZW0gPSBvcHRpb25zLnN5c3RlbSB8fCB7fTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgLy8gZ2V0IHBhcnRpY2xlIG9wdGlvbnNcbiAgICBjb25zdCBwT3B0aW9ucyA9IG9wdGlvbnMucGFydGljbGVzO1xuXG4gICAgLy8gZG8gc29tZSBpbnRlcm5hbCBjaGVhdGluZyB0byByZXBsYWNlIGNvbnN0IHNpemUgd2l0aCBnbG9iYWwgc2l6ZVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wYXJ0aWNsZXMuc2l6ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIk5vdGU6IHJlcGxhY2VkICdzaXplJyB3aXRoICdnbG9iYWxTaXplJyBwcm9wZXJ0eSBzaW5jZSBpdHMgbW9yZSBlZmZpY2llbnQgYW5kIHByb3ZpZGVkIHNpemUgdmFsdWUgd2FzIGNvbnN0YW50IGFueXdheS5cIlxuICAgICAgKTtcbiAgICAgIG9wdGlvbnMucGFydGljbGVzLmdsb2JhbFNpemUgPSBvcHRpb25zLnBhcnRpY2xlcy5zaXplO1xuICAgICAgZGVsZXRlIG9wdGlvbnMucGFydGljbGVzLnNpemU7XG4gICAgfVxuXG4gICAgLy8gZG8gc29tZSBpbnRlcm5hbCBjaGVhdGluZyB0byByZXBsYWNlIGNvbnN0IGNvbG9yIHdpdGggZ2xvYmFsIGNvbG9yXG4gICAgaWYgKG9wdGlvbnMucGFydGljbGVzLmNvbG9yIGluc3RhbmNlb2YgVEhSRUUuQ29sb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJOb3RlOiByZXBsYWNlZCAnY29sb3InIHdpdGggJ2dsb2JhbENvbG9yJyBwcm9wZXJ0eSBzaW5jZSBpdHMgbW9yZSBlZmZpY2llbnQgYW5kIHlvdSBwcm92aWRlZCBjb2xvciB2YWx1ZSB3YXMgY29uc3RhbnQgYW55d2F5LlwiXG4gICAgICApO1xuICAgICAgb3B0aW9ucy5wYXJ0aWNsZXMuZ2xvYmFsQ29sb3IgPSBvcHRpb25zLnBhcnRpY2xlcy5jb2xvcjtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLnBhcnRpY2xlcy5jb2xvcjtcbiAgICB9XG5cbiAgICAvLyBzZXQgc29tZSBpbnRlcm5hbCBmbGFnc1xuICAgIG9wdGlvbnMucGFydGljbGVzLmZhZGUgPSBkZWZpbmVkKHBPcHRpb25zLnN0YXJ0QWxwaGEpIHx8IGRlZmluZWQocE9wdGlvbnMuYWxwaGEpO1xuICAgIG9wdGlvbnMucGFydGljbGVzLnJvdGF0aW5nID0gZGVmaW5lZChwT3B0aW9ucy5yb3RhdGlvblNwZWVkKSB8fCBkZWZpbmVkKHBPcHRpb25zLnJvdGF0aW9uKTtcbiAgICBvcHRpb25zLnBhcnRpY2xlcy5jb2xvcml6ZSA9IGRlZmluZWQocE9wdGlvbnMuY29sb3IpIHx8IGRlZmluZWQocE9wdGlvbnMuc3RhcnRDb2xvcik7XG4gICAgb3B0aW9ucy5wYXJ0aWNsZXMuc2NhbGluZyA9IGRlZmluZWQocE9wdGlvbnMuc2l6ZSkgfHwgZGVmaW5lZChwT3B0aW9ucy5zdGFydFNpemUpO1xuXG4gICAgLy8gdmFsaWRhdGUgYWxwaGEgcGFyYW1zXG4gICAgaWYgKGRlZmluZWQocE9wdGlvbnMuc3RhcnRBbHBoYSkgJiYgIWRlZmluZWQocE9wdGlvbnMuZW5kQWxwaGEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIHByb3ZpZGluZyAnc3RhcnRBbHBoYScgeW91IG11c3QgYWxzbyBwcm92aWRlICdlbmRBbHBoYSchXCIpO1xuICAgIH1cbiAgICBpZiAoZGVmaW5lZChwT3B0aW9ucy5zdGFydEFscGhhKSAmJiBkZWZpbmVkKHBPcHRpb25zLmFscGhhKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2hlbiBwcm92aWRpbmcgJ2FscGhhJyB5b3UgY2FuJ3QgYWxzbyBwcm92aWRlICdzdGFydEFscGhhJyFcIik7XG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgY29sb3IgcGFyYW1zXG4gICAgaWYgKGRlZmluZWQocE9wdGlvbnMuc3RhcnRDb2xvcikgJiYgIWRlZmluZWQocE9wdGlvbnMuZW5kQ29sb3IpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIHByb3ZpZGluZyAnc3RhcnRDb2xvcicgeW91IG11c3QgYWxzbyBwcm92aWRlICdlbmRDb2xvcichXCIpO1xuICAgIH1cbiAgICBpZiAoZGVmaW5lZChwT3B0aW9ucy5zdGFydENvbG9yKSAmJiBkZWZpbmVkKHBPcHRpb25zLmNvbG9yKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2hlbiBwcm92aWRpbmcgJ2NvbG9yJyB5b3UgY2FuJ3QgYWxzbyBwcm92aWRlICdzdGFydENvbG9yJyFcIik7XG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgc2l6ZSBwYXJhbXNcbiAgICBpZiAoZGVmaW5lZChwT3B0aW9ucy5zdGFydFNpemUpICYmICFkZWZpbmVkKHBPcHRpb25zLmVuZFNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIHByb3ZpZGluZyAnc3RhcnRTaXplJyB5b3UgbXVzdCBhbHNvIHByb3ZpZGUgJ2VuZFNpemUnIVwiKTtcbiAgICB9XG4gICAgaWYgKGRlZmluZWQocE9wdGlvbnMuc3RhcnRTaXplKSAmJiBkZWZpbmVkKHBPcHRpb25zLnNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIHByb3ZpZGluZyAnc2l6ZScgeW91IGNhbid0IGFsc28gcHJvdmlkZSAnc3RhcnRTaXplJyFcIik7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHBhcnRpY2xlcyBjb3VudFxuICAgIGNvbnN0IHBhcnRpY2xlQ291bnQgPSBvcHRpb25zLnN5c3RlbS5wYXJ0aWNsZXNDb3VudCB8fCAxMDtcblxuICAgIC8vIGdldCBibGVuZGluZyBtb2RlXG4gICAgY29uc3QgYmxlbmRpbmcgPSBvcHRpb25zLnBhcnRpY2xlcy5ibGVuZGluZyB8fCBcIm9wYXF1ZVwiO1xuXG4gICAgLy8gZ2V0IHRocmVlanMgYmxlbmRpbmcgbW9kZVxuICAgIGNvbnN0IHRocmVlQmxlbmQgPSBCTEVORElOR19PUFRJT05TW2JsZW5kaW5nXTtcblxuICAgIC8vIHNldCBlbWl0dGVyc1xuICAgIHRoaXMuX2VtaXR0ZXJzID0gW107XG4gICAgaWYgKG9wdGlvbnMuc3lzdGVtLmVtaXR0ZXJzKSB7XG4gICAgICBpZiAob3B0aW9ucy5zeXN0ZW0uZW1pdHRlcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMuc3lzdGVtLmVtaXR0ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdGhpcy5hZGRFbWl0dGVyKG9wdGlvbnMuc3lzdGVtLmVtaXR0ZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRFbWl0dGVyKG9wdGlvbnMuc3lzdGVtLmVtaXR0ZXJzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoYXMgdHJhbnNwYXJlbmN5P1xuICAgIGNvbnN0IGlzVHJhbnNwYXJlbnQgPSBibGVuZGluZyAhPT0gXCJvcGFxdWVcIjtcblxuICAgIC8vIGNyZWF0ZSB0aGUgcGFydGljbGUgZ2VvbWV0cnlcbiAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG5cbiAgICAvLyBzZXQgcGVyc3BlY3RpdmUgbW9kZVxuICAgIGNvbnN0IHBlcnNwZWN0aXZlID1cbiAgICAgIG9wdGlvbnMuc3lzdGVtLnBlcnNwZWN0aXZlICE9PSB1bmRlZmluZWQgPyBCb29sZWFuKG9wdGlvbnMuc3lzdGVtLnBlcnNwZWN0aXZlKSA6IHRydWU7XG5cbiAgICAvLyBjcmVhdGUgcGFydGljbGVzIG1hdGVyaWFsXG4gICAgY29uc3QgcE1hdGVyaWFsID0gbmV3IFBhcnRpY2xlc01hdGVyaWFsKHtcbiAgICAgIHNpemU6IG9wdGlvbnMucGFydGljbGVzLnNpemUgfHwgMTAsXG4gICAgICBjb2xvcjogb3B0aW9ucy5wYXJ0aWNsZXMuZ2xvYmFsQ29sb3IgfHwgMHhmZmZmZmYsXG4gICAgICBibGVuZGluZzogdGhyZWVCbGVuZCxcbiAgICAgIHBlcnNwZWN0aXZlOiBwZXJzcGVjdGl2ZSxcbiAgICAgIHRyYW5zcGFyZW50OiBpc1RyYW5zcGFyZW50LFxuICAgICAgbWFwOiBvcHRpb25zLnBhcnRpY2xlcy50ZXh0dXJlLFxuICAgICAgcGVyUGFydGljbGVDb2xvcjogQm9vbGVhbihvcHRpb25zLnBhcnRpY2xlcy5jb2xvcml6ZSksXG4gICAgICBhbHBoYVRlc3Q6IGJsZW5kaW5nID09PSBcImJsZW5kXCIgJiYgZGVmaW5lZChvcHRpb25zLnBhcnRpY2xlcy50ZXh0dXJlKSxcbiAgICAgIGNvbnN0U2l6ZTogZGVmaW5lZChvcHRpb25zLnBhcnRpY2xlcy5nbG9iYWxTaXplKSA/IG9wdGlvbnMucGFydGljbGVzLmdsb2JhbFNpemUgOiBudWxsLFxuICAgICAgZGVwdGhXcml0ZTogZGVmaW5lZChvcHRpb25zLnN5c3RlbS5kZXB0aFdyaXRlKSA/IG9wdGlvbnMuc3lzdGVtLmRlcHRoV3JpdGUgOiB0cnVlLFxuICAgICAgZGVwdGhUZXN0OiBkZWZpbmVkKG9wdGlvbnMuc3lzdGVtLmRlcHRoVGVzdCkgPyBvcHRpb25zLnN5c3RlbS5kZXB0aFRlc3QgOiB0cnVlLFxuICAgICAgcGVyUGFydGljbGVSb3RhdGlvbjogb3B0aW9ucy5wYXJ0aWNsZXMucm90YXRpbmdcbiAgICB9KTtcblxuICAgIC8vIHN0b3JlIG1hdGVyaWFsIGZvciBsYXRlciB1c2FnZVxuICAgIHRoaXMubWF0ZXJpYWwgPSBwTWF0ZXJpYWw7XG5cbiAgICAvLyBzdG9yZSBzcGVlZCBmYWN0b3JcbiAgICB0aGlzLnNwZWVkID0gb3B0aW9ucy5zeXN0ZW0uc3BlZWQgfHwgMTtcblxuICAgIC8vIHNldCBzeXN0ZW0gc3RhcnRpbmcgdHRsIGFuZCBvdGhlciBwYXJhbXNcbiAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAvLyBkZWFkIHBhcnRpY2xlcyBhbmQgYWxpdmUgcGFydGljbGVzIGxpc3RzXG4gICAgdGhpcy5fYWxpdmVQYXJ0aWNsZXMgPSBbXTtcbiAgICB0aGlzLl9kZWFkUGFydGljbGVzID0gW107XG5cbiAgICAvLyBjcmVhdGUgYWxsIHBhcnRpY2xlcyArIHNldCBnZW9tZXRyeSBhdHRyaWJ1dGVzXG4gICAgY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHBhcnRpY2xlQ291bnQgKiAzKTtcbiAgICBjb25zdCBjb2xvcnMgPSBvcHRpb25zLnBhcnRpY2xlcy5jb2xvcml6ZSA/IG5ldyBGbG9hdDMyQXJyYXkocGFydGljbGVDb3VudCAqIDMpIDogbnVsbDtcbiAgICBjb25zdCBhbHBoYXMgPSBvcHRpb25zLnBhcnRpY2xlcy5mYWRlID8gbmV3IEZsb2F0MzJBcnJheShwYXJ0aWNsZUNvdW50ICogMSkgOiBudWxsO1xuICAgIGNvbnN0IHNpemVzID0gb3B0aW9ucy5wYXJ0aWNsZXMuc2NhbGluZyA/IG5ldyBGbG9hdDMyQXJyYXkocGFydGljbGVDb3VudCAqIDEpIDogbnVsbDtcbiAgICBjb25zdCByb3RhdGlvbnMgPSBvcHRpb25zLnBhcnRpY2xlcy5yb3RhdGluZyA/IG5ldyBGbG9hdDMyQXJyYXkocGFydGljbGVDb3VudCAqIDEpIDogbnVsbDtcblxuICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcGFydGljbGVDb3VudDsgcCsrKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHAgKiAzO1xuICAgICAgdmVydGljZXNbaW5kZXhdID0gdmVydGljZXNbaW5kZXggKyAxXSA9IHZlcnRpY2VzW2luZGV4ICsgMl0gPSAwO1xuXG4gICAgICBpZiAoY29sb3JzKSBjb2xvcnNbaW5kZXhdID0gY29sb3JzW2luZGV4ICsgMV0gPSBjb2xvcnNbaW5kZXggKyAyXSA9IDE7XG4gICAgICBpZiAoYWxwaGFzKSBhbHBoYXNbcF0gPSAxO1xuICAgICAgaWYgKHNpemVzKSBzaXplc1twXSA9IDE7XG4gICAgICBpZiAocm90YXRpb25zKSByb3RhdGlvbnNbcF0gPSAwO1xuXG4gICAgICB0aGlzLl9kZWFkUGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHRoaXMpKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsIDMpKTtcbiAgICBpZiAoYWxwaGFzKSB7XG4gICAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LnNldEF0dHJpYnV0ZShcImFscGhhXCIsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoYWxwaGFzLCAxKSk7XG4gICAgfVxuICAgIGlmIChjb2xvcnMpIHtcbiAgICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuc2V0QXR0cmlidXRlKFwiY29sb3JcIiwgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShjb2xvcnMsIDMpKTtcbiAgICB9XG4gICAgaWYgKHNpemVzKSB7XG4gICAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LnNldEF0dHJpYnV0ZShcInNpemVcIiwgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShzaXplcywgMSkpO1xuICAgIH1cbiAgICBpZiAocm90YXRpb25zKSB7XG4gICAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LnNldEF0dHJpYnV0ZShcInJvdGF0aW9uXCIsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUocm90YXRpb25zLCAxKSk7XG4gICAgfVxuICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuc2V0RHJhd1JhbmdlKDAsIDApO1xuXG4gICAgLy8gc2V0IHNjYWxlXG4gICAgdGhpcy5tYXRlcmlhbC5zZXRCYXNlU2NhbGUob3B0aW9ucy5zeXN0ZW0uc2NhbGUgfHwgNDAwKTtcblxuICAgIC8vIGNyZWF0ZSB0aGUgcGFydGljbGVzIHN5c3RlbVxuICAgIGNvbnN0IHBhcnRpY2xlU3lzdGVtID0gbmV3IFRIUkVFLlBvaW50cyh0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LCB0aGlzLm1hdGVyaWFsLm1hdGVyaWFsKTtcbiAgICBwYXJ0aWNsZVN5c3RlbS5zb3J0UGFydGljbGVzID0gaXNUcmFuc3BhcmVudDtcblxuICAgIC8vIHNldCBkZWZhdWx0IHJlbmRlciBvcmRlclxuICAgIGlmIChQYXJ0aWNsZXNTeXN0ZW0uZGVmYXVsdFJlbmRlck9yZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhcnRpY2xlU3lzdGVtLnJlbmRlck9yZGVyID0gUGFydGljbGVzU3lzdGVtLmRlZmF1bHRSZW5kZXJPcmRlcjtcbiAgICB9XG5cbiAgICAvLyBzdG9yZSBwYXJ0aWNsZXMgc3lzdGVtXG4gICAgdGhpcy5wYXJ0aWNsZVN5c3RlbSA9IHBhcnRpY2xlU3lzdGVtO1xuXG4gICAgLy8gdG8gbWFrZSBzdXJlIGZpcnN0IHVwZGF0ZSB3aWxsIHVwZGF0ZSBldmVyeXRoaW5nXG4gICAgdGhpcy5fcG9zaXRpb25EaXJ0eSA9IHRydWU7XG4gICAgdGhpcy5fY29sb3JzRGlydHkgPSBCb29sZWFuKGNvbG9ycyk7XG4gICAgdGhpcy5fYWxwaGFEaXJ0eSA9IEJvb2xlYW4oYWxwaGFzKTtcbiAgICB0aGlzLl9yb3RhdGVEaXJ0eSA9IEJvb2xlYW4ocm90YXRpb25zKTtcblxuICAgIC8vIGFkZCBpdCB0byB0aGUgcGFyZW50IGNvbnRhaW5lclxuICAgIGlmIChvcHRpb25zLmNvbnRhaW5lcikge1xuICAgICAgdGhpcy5hZGRUbyhvcHRpb25zLmNvbnRhaW5lcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGNyZWF0ZXMgYW4gaW5zdGFuY2UgZnJvbSBhIGpzb24gZGVmaW5pdGlvblxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7Kn0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQYXJ0aWNsZXNTeXN0ZW19IG5ldyBQYXJ0aWNsZXNTeXN0ZW0gY3JlYXRlZCBmcm9tIHRoZSBqc29uLW9iamVjdFxuICAgKiBAbWVtYmVyb2YgUGFydGljbGVzU3lzdGVtXG4gICAqL1xuICBzdGF0aWMgZnJvbUpTT04ob3B0aW9ucywgcmVzb3VyY2VzID0ge30pIHtcbiAgICBjb25zdCByZXN1bHQgPSBjb3B5RnJvbUpTT04ob3B0aW9ucywgcmVzb3VyY2VzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQuc3lzdGVtLmVtaXR0ZXJzKSkge1xuICAgICAgcmVzdWx0LnN5c3RlbS5lbWl0dGVycyA9IHJlc3VsdC5zeXN0ZW0uZW1pdHRlcnMubWFwKCh2KSA9PiBuZXcgRW1pdHRlcih2KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5zeXN0ZW0uZW1pdHRlcnMgPSBuZXcgRW1pdHRlcihyZXN1bHQuc3lzdGVtLmVtaXR0ZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQYXJ0aWNsZXNTeXN0ZW0ocmVzdWx0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZW1pdHRlciB0byB0aGlzIHBhcnRpY2xlcyBzeXN0ZW0uXG4gICAqL1xuICBhZGRFbWl0dGVyKGVtaXR0ZXIpIHtcbiAgICB0aGlzLl9lbWl0dGVycy5wdXNoKGVtaXR0ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2UgdGhlIGVudGlyZSBzeXN0ZW0uXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgIHRoaXMubWF0ZXJpYWwuZGlzcG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0cnVlIHdoZW4gdHRsIGlzIGV4cGlyZWQgYW5kIHRoZXJlIGFyZSBubyBtb3JlIGFsaXZlIHBhcnRpY2xlcyBpbiBzeXN0ZW0uXG4gICAqL1xuICBnZXQgZmluaXNoZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudHRsRXhwaXJlZCAmJiB0aGlzLnBhcnRpY2xlc0NvdW50ID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBpZiB0aGlzIHN5c3RlbSdzIHR0bCBpcyBleHBpcmVkLlxuICAgKi9cbiAgZ2V0IHR0bEV4cGlyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudHRsICE9PSB1bmRlZmluZWQgJiYgdGhpcy50dGwgPD0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBwYXJ0aWNsZXMgc3lzdGVtIHR0bC5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMudHRsID0gdGhpcy5vcHRpb25zLnN5c3RlbS50dGw7XG4gICAgdGhpcy5hZ2UgPSAwO1xuICAgIHRoaXMuX3RpbWVUb1VwZGF0ZUJTID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3lzdGVtJ3Mgd29ybGQgcG9zaXRpb24uXG4gICAqL1xuICBnZXRXb3JsZFBvc2l0aW9uKHJldCkge1xuICAgIHJldCA9IHJldCB8fCBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHRoaXMucGFydGljbGVTeXN0ZW0uZ2V0V29ybGRQb3NpdGlvbihyZXQpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBwYXJ0aWNsZXMgc3lzdGVtIHRvIHNjZW5lIG9yIGNvbnRhaW5lci5cbiAgICogQHBhcmFtIHtUSFJFRS5PYmplY3QzRH0gY29udGFpbmVyIENvbnRhaW5lciB0byBhZGQgc3lzdGVtIHRvLlxuICAgKi9cbiAgYWRkVG8oY29udGFpbmVyKSB7XG4gICAgY29udGFpbmVyLmFkZCh0aGlzLnBhcnRpY2xlU3lzdGVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBwYXJ0aWNsZSdzIGNvbG9yIHZhbHVlLlxuICAgKi9cbiAgc2V0Q29sb3IoaW5kZXgsIGNvbG9yKSB7XG4gICAgaW5kZXggKj0gMztcbiAgICBjb25zdCBjb2xvcnMgPSB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IuYXJyYXk7XG4gICAgY29sb3JzW2luZGV4XSA9IGNvbG9yLnI7XG4gICAgY29sb3JzW2luZGV4ICsgMV0gPSBjb2xvci5nO1xuICAgIGNvbG9yc1tpbmRleCArIDJdID0gY29sb3IuYjtcbiAgICB0aGlzLl9jb2xvcnNEaXJ0eSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgcGFydGljbGUncyBwb3NpdGlvbi5cbiAgICovXG4gIHNldFBvc2l0aW9uKGluZGV4LCBwb3NpdGlvbikge1xuICAgIGluZGV4ICo9IDM7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7XG4gICAgdmVydGljZXNbaW5kZXhdID0gcG9zaXRpb24ueDtcbiAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9zaXRpb24ueTtcbiAgICB2ZXJ0aWNlc1tpbmRleCArIDJdID0gcG9zaXRpb24uejtcbiAgICB0aGlzLl9wb3NpdGlvbkRpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcGFydGljbGUncyBhbHBoYS5cbiAgICovXG4gIHNldEFscGhhKGluZGV4LCB2YWx1ZSkge1xuICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuYXR0cmlidXRlcy5hbHBoYS5hcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICB0aGlzLl9hbHBoYURpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcGFydGljbGUncyByb3RhdGlvbi5cbiAgICovXG4gIHNldFJvdGF0aW9uKGluZGV4LCB2YWx1ZSkge1xuICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuYXR0cmlidXRlcy5yb3RhdGlvbi5hcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICB0aGlzLl9yb3RhdGVEaXJ0eSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHBhcnRpY2xlJ3Mgc2l6ZS5cbiAgICovXG4gIHNldFNpemUoaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5hdHRyaWJ1dGVzLnNpemUuYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgdGhpcy5fc2l6ZURpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaG93IG1hbnkgcGFydGljbGVzIHRoaXMgc3lzdGVtIGN1cnJlbnRseSBzaG93cy5cbiAgICovXG4gIGdldCBwYXJ0aWNsZXNDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWxpdmVQYXJ0aWNsZXMubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtYXggcGFydGljbGVzIGNvdW50LlxuICAgKi9cbiAgZ2V0IG1heFBhcnRpY2xlc0NvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9hbGl2ZVBhcnRpY2xlcy5sZW5ndGggKyB0aGlzLl9kZWFkUGFydGljbGVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0dGwgaXMgZXhwaXJlZCBhbmQgdGhlcmUgYXJlIG5vIG1vcmUgYWxpdmUgcGFydGljbGVzLCByZW1vdmUgc3lzdGVtIGFuZCBkaXNwb3NlIGl0LlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHJlbW92ZWQgJiBkaXNwb3NlZCwgZmFsc2UgaWYgc3RpbGwgYWxpdmUuXG4gICAqL1xuICByZW1vdmVBbmREaXNwb3NlSWZGaW5pc2hlZCgpIHtcbiAgICBpZiAodGhpcy5maW5pc2hlZCkge1xuICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7XG4gICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBiaW5kT2JqZWN0KG9iamVjdCwgbG9ja0JvdW5kUm90YXRpb24pIHtcbiAgICB0aGlzLmJvdW5kT2JqZWN0ID0gb2JqZWN0O1xuICAgIHRoaXMubG9ja0JvdW5kUm90YXRpb24gPSBkZWZpbmVkKGxvY2tCb3VuZFJvdGF0aW9uKSA/IGxvY2tCb3VuZFJvdGF0aW9uIDogdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgcGFydGljbGVzIHN5c3RlbS5cbiAgICovXG4gIHVwZGF0ZShkZWx0YVRpbWUpIHtcbiAgICAvLyBpZiBkZWx0YVRpbWUgaXMgdW5kZWZpbmVkLCBzZXQgYXV0b21hdGljYWxseVxuICAgIGlmIChkZWx0YVRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgdGltZU5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wO1xuICAgICAgZGVsdGFUaW1lID0gdGltZU5vdyAtIHRoaXMuX2xhc3RUaW1lIHx8IDA7XG4gICAgICB0aGlzLl9sYXN0VGltZSA9IHRpbWVOb3c7XG4gICAgfVxuXG4gICAgLy8gZGVsdGEgdGltZSBpcyAwPyBza2lwXG4gICAgaWYgKGRlbHRhVGltZSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0dGxcbiAgICBpZiAodGhpcy50dGwgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnR0bCA+IDApIHtcbiAgICAgIHRoaXMudHRsIC09IGRlbHRhVGltZTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBzcGVlZFxuICAgIGRlbHRhVGltZSAqPSB0aGlzLnNwZWVkO1xuXG4gICAgLy8gc3RvcmUgbGFzdCBkZWx0YSB0aW1lXG4gICAgdGhpcy5kdCA9IGRlbHRhVGltZTtcbiAgICB0aGlzLmFnZSArPSBkZWx0YVRpbWU7XG5cbiAgICAvLyBpZiB3ZSBzaGFsbCBmb2xsb3cgYW4gb2JqZWN0LFxuICAgIC8vIHdlIGp1c3QgdXBkYXRlIHRoZSBwb3NpdGlvbiBvbiBlYWNoIGZyYW1lLFxuICAgIC8vIHRvIGJlIHRoZSBzYW1lLCBhcyB0aGUgb2JqZWN0XG4gICAgaWYgKHRoaXMuYm91bmRPYmplY3QpIHtcbiAgICAgIGNvbnN0IHBvcyA9IHRoaXMuYm91bmRPYmplY3QucG9zaXRpb247XG4gICAgICB0aGlzLnBhcnRpY2xlU3lzdGVtLnBvc2l0aW9uLnNldChwb3MueCwgcG9zLnksIHBvcy56KTtcbiAgICAgIGlmICghdGhpcy5sb2NrQm91bmRSb3RhdGlvbikge1xuICAgICAgICBjb25zdCByb3QgPSB0aGlzLmJvdW5kT2JqZWN0LnJvdGF0aW9uO1xuICAgICAgICB0aGlzLnBhcnRpY2xlU3lzdGVtLnJvdGF0aW9uLnNldChyb3QueCwgcm90LnksIHJvdC56KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0byBjaGVjayBpZiBudW1iZXIgb2YgcGFydGljbGVzIGNoYW5nZWRcbiAgICBjb25zdCBwcmV2UGFydGljbGVzQ291bnQgPSB0aGlzLl9hbGl2ZVBhcnRpY2xlcy5sZW5ndGg7XG5cbiAgICAvLyBnZW5lcmF0ZSBwYXJ0aWNsZXMgKHVubGVzcyB0dGwgZXhwaXJlZClcbiAgICBpZiAoIXRoaXMudHRsRXhwaXJlZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9lbWl0dGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCB0b1NwYXduID0gdGhpcy5fZW1pdHRlcnNbaV0udXBkYXRlKGRlbHRhVGltZSwgdGhpcyk7XG4gICAgICAgIGlmICh0b1NwYXduKSB7XG4gICAgICAgICAgdGhpcy5zcGF3blBhcnRpY2xlcyh0b1NwYXduKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBwYXJ0aWNsZXNcbiAgICBmb3IgKGxldCBpID0gdGhpcy5fYWxpdmVQYXJ0aWNsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIC8vIHVwZGF0ZSBwYXJ0aWNsZVxuICAgICAgY29uc3QgcGFydGljbGUgPSB0aGlzLl9hbGl2ZVBhcnRpY2xlc1tpXTtcbiAgICAgIHBhcnRpY2xlLnVwZGF0ZShpLCBkZWx0YVRpbWUpO1xuXG4gICAgICAvLyBmaW5pc2hlZD8gcmVtb3ZlIGl0XG4gICAgICBpZiAocGFydGljbGUuZmluaXNoZWQpIHtcbiAgICAgICAgdGhpcy5fYWxpdmVQYXJ0aWNsZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB0aGlzLl9kZWFkUGFydGljbGVzLnB1c2gocGFydGljbGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGhpZGUgaW52aXNpYmxlIHZlcnRpY2VzXG4gICAgaWYgKHByZXZQYXJ0aWNsZXNDb3VudCAhPT0gdGhpcy5fYWxpdmVQYXJ0aWNsZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LnNldERyYXdSYW5nZSgwLCB0aGlzLl9hbGl2ZVBhcnRpY2xlcy5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8vIHNldCB2ZXJ0aWNlcyBkaXJ0eSBmbGFnXG4gICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdGhpcy5fcG9zaXRpb25EaXJ0eTtcbiAgICB0aGlzLl9uZWVkQm91bmRpbmdTcGhlcmVVcGRhdGUgPSB0aGlzLl9uZWVkQm91bmRpbmdTcGhlcmVVcGRhdGUgfHwgdGhpcy5fcG9zaXRpb25EaXJ0eTtcbiAgICB0aGlzLl9wb3NpdGlvbkRpcnR5ID0gZmFsc2U7XG5cbiAgICAvLyBzZXQgY29sb3JzIGRpcnR5IGZsYWdcbiAgICBpZiAodGhpcy5fY29sb3JzRGlydHkpIHtcbiAgICAgIHRoaXMucGFydGljbGVzR2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvci5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLl9jb2xvcnNEaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHNldCBhbHBoYXMgZGlydHkgZmxhZ1xuICAgIGlmICh0aGlzLl9hbHBoYURpcnR5KSB7XG4gICAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmF0dHJpYnV0ZXMuYWxwaGEubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgdGhpcy5fYWxwaGFEaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHNldCBzaXplIGRpcnR5IGZsYWdcbiAgICBpZiAodGhpcy5fc2l6ZURpcnR5KSB7XG4gICAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmF0dHJpYnV0ZXMuc2l6ZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLl9zaXplRGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgcm90YXRpb24gZGlydHkgZmxhZ1xuICAgIGlmICh0aGlzLl9yb3RhdGVEaXJ0eSkge1xuICAgICAgdGhpcy5wYXJ0aWNsZXNHZW9tZXRyeS5hdHRyaWJ1dGVzLnJvdGF0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3JvdGF0ZURpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGJvdW5kaW5nIHNwaGVyZVxuICAgIGlmICh0aGlzLl9uZWVkQm91bmRpbmdTcGhlcmVVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3RpbWVUb1VwZGF0ZUJTIC09IGRlbHRhVGltZTtcbiAgICAgIGlmICh0aGlzLl90aW1lVG9VcGRhdGVCUyA8PSAwKSB7XG4gICAgICAgIHRoaXMuX3RpbWVUb1VwZGF0ZUJTID0gMC4yO1xuICAgICAgICB0aGlzLnBhcnRpY2xlc0dlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGlmIGZpbmlzaGVkLCBzdG9wIGhlcmVcbiAgICBpZiAodGhpcy5maW5pc2hlZCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zeXN0ZW0ub25GaW5pc2gpIHRoaXMub3B0aW9ucy5zeXN0ZW0ub25GaW5pc2godGhpcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY2FsbCBvcHRpb25hbCB1cGRhdGVcbiAgICBpZiAodGhpcy5vcHRpb25zLnN5c3RlbS5vblVwZGF0ZSkge1xuICAgICAgdGhpcy5vcHRpb25zLnN5c3RlbS5vblVwZGF0ZSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Bhd24gcGFydGljbGVzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcXVhbnRpdHkgTnVtYmVyIG9mIHBhcnRpY2xlcyB0byBzcGF3bi4gSWYgZXhjZWVkIG1heCBhdmFpbGFibGUgcGFydGljbGVzIGluIHN5c3RlbSwgc2tpcC5cbiAgICovXG4gIHNwYXduUGFydGljbGVzKHF1YW50aXR5KSB7XG4gICAgLy8gc3Bhd24gcGFydGljbGVzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWFudGl0eTsgKytpKSB7XG4gICAgICAvLyBubyBhdmFpbGFibGUgZGVhZCBwYXJ0aWNsZXM/IHNraXBcbiAgICAgIGlmICh0aGlzLl9kZWFkUGFydGljbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHNwYXduIHBhcnRpY2xlXG4gICAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMuX2RlYWRQYXJ0aWNsZXMucG9wKCk7XG4gICAgICBwYXJ0aWNsZS5yZXNldCgpO1xuICAgICAgdGhpcy5fYWxpdmVQYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBwYXJ0aWNsZXMgc3lzdGVtIGZyb20gaXRzIHBhcmVudC5cbiAgICovXG4gIHJlbW92ZVNlbGYoKSB7XG4gICAgaWYgKHRoaXMucGFydGljbGVTeXN0ZW0ucGFyZW50KSB7XG4gICAgICB0aGlzLnBhcnRpY2xlU3lzdGVtLnBhcmVudC5yZW1vdmUodGhpcy5wYXJ0aWNsZVN5c3RlbSk7XG4gICAgfVxuICB9XG59XG5cbi8vIG92ZXJyaWRlIHRoaXMgdG8gc2V0IGRlZmF1bHQgcmVuZGVyaW5nIG9yZGVyIHRvIGFsbCBwYXJ0aWNsZSBzeXN0ZW1zXG5QYXJ0aWNsZXNTeXN0ZW0uZGVmYXVsdFJlbmRlck9yZGVyID0gdW5kZWZpbmVkO1xuXG4vLyBleHBvcnQgdGhlIHBhcnRpY2xlcyBzeXN0ZW1cbm1vZHVsZS5leHBvcnRzID0gUGFydGljbGVzU3lzdGVtO1xuIiwiLyoqXG4gKiBNb2R1bGUgbWFpbiBlbnRyeSBwb2ludC5cbiAqIEF1dGhvcjogUm9uZW4gTmVzcy5cbiAqIFNpbmNlOiAyMDE5LlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBQYXJ0aWNsZXNTeXN0ZW06IHJlcXVpcmUoJy4vcGFydGljbGVzX3N5c3RlbScpLFxuICAgIFBhcnRpY2xlOiByZXF1aXJlKCcuL3BhcnRpY2xlJyksXG4gICAgRW1pdHRlcjogcmVxdWlyZSgnLi9lbWl0dGVyJyksXG4gICAgVXRpbHM6IHJlcXVpcmUoJy4vdXRpbHMnKSxcbiAgICBSYW5kb21pemVyczogcmVxdWlyZSgnLi9yYW5kb21pemVycycpLFxufSJdLCJuYW1lcyI6WyJnZXRSYW5kb21CZXR3ZWVuIiwibWluIiwibWF4IiwiTWF0aCIsInJhbmRvbSIsImdldFJhbmRvbVdpdGhTcHJlYWQiLCJiYXNlVmFsIiwiZXh0cmFSYW5kb20iLCJnZXRSYW5kb21Db2xvckJldHdlZW4iLCJjb2xNaW4iLCJjb2xNYXgiLCJ0YXJnZXQiLCJUSFJFRSIsIkNvbG9yIiwiY29weSIsInNldFJHQiIsInIiLCJnIiwiYiIsImdldFJhbmRvbVZlY3RvckJldHdlZW4iLCJ2ZWNNaW4iLCJ2ZWNNYXgiLCJWZWN0b3IzIiwic2V0IiwieCIsInkiLCJ6IiwibGVycENvbG9ycyIsImNvbEEiLCJjb2xCIiwiYWxwaGEiLCJsZXJwIiwicmFuZG9taXplck9yVmFsdWUiLCJ2YWwiLCJnZW5lcmF0ZSIsIlRNUDEiLCJUTVAyIiwiVE1QX0NPTE9SIiwiUGFydGljbGUiLCJzeXN0ZW0iLCJyZXNldCIsIm9wdGlvbnMiLCJwYXJ0aWNsZXMiLCJhZ2UiLCJmaW5pc2hlZCIsImdyYXZpdHlYIiwiZ3Jhdml0eVkiLCJncmF2aXR5IiwiZ3Jhdml0eVoiLCJ2ZWxvY2l0eSIsImdldENvbnN0T3JSYW5kb21WZWN0b3IiLCJ2ZWxvY2l0eUJvbnVzIiwiYWRkIiwiYWNjZWxlcmF0aW9uIiwicG9zaXRpb24iLCJvZmZzZXQiLCJ0dGwiLCJVdGlscyIsInR0bEV4dHJhIiwic3RhcnRBbHBoYSIsImVuZEFscGhhIiwic3RhcnRBbHBoYUNoYW5nZUF0IiwiZmFkZSIsInVuZGVmaW5lZCIsImNvbG9yaXplIiwiQm9vbGVhbiIsImNvbG9yIiwic3RhcnRDb2xvciIsImVuZENvbG9yIiwic3RhcnRDb2xvckNoYW5nZUF0IiwiZ2V0Q29uc3RPclJhbmRvbUNvbG9yIiwic2l6ZSIsInN0YXJ0U2l6ZSIsImVuZFNpemUiLCJzdGFydFNpemVDaGFuZ2VBdCIsInNjYWxpbmciLCJyb3RhdGlvbiIsInJvdGF0aW9uU3BlZWQiLCJyb3RhdGluZyIsInN0YXJ0V29ybGRQb3NpdGlvbiIsIm9uVXBkYXRlIiwib25TcGF3biIsImluZGV4IiwiZGVsdGFUaW1lIiwiZmlyc3RVcGRhdGUiLCJ3b3JsZFBvc2l0aW9uIiwiZ2V0V29ybGRQb3NpdGlvbiIsInNldEFscGhhIiwic2V0Q29sb3IiLCJzZXRTaXplIiwic2V0Um90YXRpb24iLCJwb3NpdGlvblRvU2V0Iiwic3lzdGVtUG9zIiwic3ViIiwic2V0UG9zaXRpb24iLCJjb25zdFZhbE9yUmFuZG9taXplciIsInJldHVybk51bGxJZlVuZGVmaW5lZCIsImNvZGUiLCJQYXJ0aWNsZXNNYXRlcmlhbCIsInVuaWZvcm1zIiwiZ2xvYmFsQ29sb3IiLCJ2YWx1ZSIsInJlbmRlcmVyU2NhbGUiLCJmbGFncyIsInBlcnNwZWN0aXZlIiwibWFwIiwiX3RleHR1cmUiLCJwZXJQYXJ0aWNsZUNvbG9yIiwicGVyUGFydGljbGVSb3RhdGlvbiIsImNvbnN0U2l6ZSIsImFscGhhVGVzdCIsInNoYWRlck1hdGVyaWFsIiwiU2hhZGVyTWF0ZXJpYWwiLCJ2ZXJ0ZXhTaGFkZXIiLCJWZXJ0ZXhTaGFkZXJDb2RlIiwiZnJhZ21lbnRTaGFkZXIiLCJGcmFnbWVudFNoYWRlckNvZGUiLCJ0cmFuc3BhcmVudCIsImJsZW5kaW5nIiwidmVydGV4Q29sb3JzIiwiVmVydGV4Q29sb3JzIiwiZGVwdGhXcml0ZSIsImRlcHRoVGVzdCIsIm1hdGVyaWFsIiwiZGlzcG9zZSIsIlJhbmRvbWl6ZXIiLCJFcnJvciIsIkJveFJhbmRvbWl6ZXIiLCJNSU5fVkVDIiwiTUFYX1ZFQyIsInJhbmRNaW51c1RvT25lIiwiU3BoZXJlUmFuZG9taXplciIsIm1heFJhZGl1cyIsIm1pblJhZGl1cyIsInNjYWxlciIsIm1pblZlY3RvciIsIm1heFZlY3RvciIsImNsYW1wIiwibm9ybWFsaXplIiwibXVsdGlwbHlTY2FsYXIiLCJtdWx0aXBseSIsIkNvbG9yc1JhbmRvbWl6ZXIiLCJNaW5NYXhSYW5kb21pemVyIiwicmVxdWlyZSQkMCIsInJlcXVpcmUkJDEiLCJyZXF1aXJlJCQyIiwicmVxdWlyZSQkMyIsInJlcXVpcmUkJDQiLCJFbWl0dGVyIiwiaW50ZXJ2YWwiLCJ0aW1lVG9TcGF3biIsInJldCIsIm9uU3Bhd25CdXJzdCIsIm9uSW50ZXJ2YWwiLCJkZXRvcmV0aW5nTWluVHRsIiwiZGV0b3JhdGVGYWN0b3IiLCJOVUxMX0FSUkFZIiwiQkxFTkRJTkdfT1BUSU9OUyIsIm9wYXF1ZSIsIk5vQmxlbmRpbmciLCJhZGRpdGl2ZSIsIkFkZGl0aXZlQmxlbmRpbmciLCJNdWx0aXBseUJsZW5kaW5nIiwiYmxlbmQiLCJOb3JtYWxCbGVuZGluZyIsImRlZmluZWQiLCJjb3B5RnJvbUpTT04iLCJvYmplY3QiLCJyZXNvdXJjZXMiLCJBcnJheSIsImlzQXJyYXkiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwicHVzaCIsIm1vZHVsZVR5cGUiLCJrZXkiLCJwYXJhbXMiLCJDIiwiUmFuZG9taXplcnMiLCJQYXJ0aWNsZXNTeXN0ZW0iLCJib3VuZE9iamVjdCIsImxvY2tCb3VuZFJvdGF0aW9uIiwicE9wdGlvbnMiLCJjb25zb2xlIiwid2FybiIsImdsb2JhbFNpemUiLCJwYXJ0aWNsZUNvdW50IiwicGFydGljbGVzQ291bnQiLCJ0aHJlZUJsZW5kIiwiX2VtaXR0ZXJzIiwiZW1pdHRlcnMiLCJhZGRFbWl0dGVyIiwiaXNUcmFuc3BhcmVudCIsInBhcnRpY2xlc0dlb21ldHJ5IiwiQnVmZmVyR2VvbWV0cnkiLCJwTWF0ZXJpYWwiLCJ0ZXh0dXJlIiwic3BlZWQiLCJfYWxpdmVQYXJ0aWNsZXMiLCJfZGVhZFBhcnRpY2xlcyIsInZlcnRpY2VzIiwiRmxvYXQzMkFycmF5IiwiY29sb3JzIiwiYWxwaGFzIiwic2l6ZXMiLCJyb3RhdGlvbnMiLCJwIiwic2V0QXR0cmlidXRlIiwiQnVmZmVyQXR0cmlidXRlIiwic2V0RHJhd1JhbmdlIiwic2V0QmFzZVNjYWxlIiwic2NhbGUiLCJwYXJ0aWNsZVN5c3RlbSIsIlBvaW50cyIsInNvcnRQYXJ0aWNsZXMiLCJkZWZhdWx0UmVuZGVyT3JkZXIiLCJyZW5kZXJPcmRlciIsIl9wb3NpdGlvbkRpcnR5IiwiX2NvbG9yc0RpcnR5IiwiX2FscGhhRGlydHkiLCJfcm90YXRlRGlydHkiLCJjb250YWluZXIiLCJhZGRUbyIsImVtaXR0ZXIiLCJ0dGxFeHBpcmVkIiwiX3RpbWVUb1VwZGF0ZUJTIiwiYXR0cmlidXRlcyIsImFycmF5IiwiX3NpemVEaXJ0eSIsInJlbW92ZVNlbGYiLCJ0aW1lTm93IiwiRGF0ZSIsImdldFRpbWUiLCJfbGFzdFRpbWUiLCJkdCIsInBvcyIsInJvdCIsInByZXZQYXJ0aWNsZXNDb3VudCIsInRvU3Bhd24iLCJ1cGRhdGUiLCJzcGF3blBhcnRpY2xlcyIsInBhcnRpY2xlIiwic3BsaWNlIiwibmVlZHNVcGRhdGUiLCJfbmVlZEJvdW5kaW5nU3BoZXJlVXBkYXRlIiwiY29tcHV0ZUJvdW5kaW5nU3BoZXJlIiwib25GaW5pc2giLCJxdWFudGl0eSIsInBvcCIsInBhcmVudCIsInJlbW92ZSIsInYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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
